!function(a){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=a();else if("function"==typeof define&&define.amd)define([],a);else{var b;b="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,b.KevoreeKevscript=a()}}(function(){var a;return function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){(function(c){"use strict";function d(a){this.logger=a,this.logger.info("KevScript","Registry: "+(e.get("registry.ssl")?"https://":"http://")+e.get("registry.host")+(80===e.get("registry.port")?"":":"+e.get("registry.port")))}var e="undefined"!=typeof window?window.TinyConf:"undefined"!=typeof c?c.TinyConf:null,f=a("./parser"),g=a("./interpreter"),h=a("./model-interpreter");d.prototype={toString:function(){return"KevScript"},parse:function(a,b,c,d){"undefined"==typeof d&&"undefined"==typeof c?(d=b,c={},b=null):"undefined"==typeof d&&(d=c,c={}),c||(c={});var e={logger:this.logger,ctxVars:c},h=new f.Parser,i=h.parse(a);"kevScript"!==i.type?d(i,null,[]):g(i,b,e,d)},parseModel:function(a){return h(a)}},b.exports=d,b.exports.Parser=f.Parser}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./interpreter":12,"./model-interpreter":13,"./parser":14}],2:[function(a,b,c){"use strict";function d(a,b){Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.message=a,this.pos=b}var e=a("util");e.inherits(d,Error),b.exports=d},{util:135}],3:[function(a,b,c){"use strict";b.exports=function(a){for(var b=a.groups.iterator(),c="";b.hasNext();){var d=b.next();if(d.subNodes.size()>0){0!==c.length&&(c+="\n"),c+="attach ";for(var e=d.subNodes.iterator();e.hasNext();){var f=e.next();c+=f.name,e.hasNext()&&(c+=", ")}c+=" "+d.name}}return c}},{}],4:[function(a,b,c){"use strict";b.exports=function(a){for(var b=a.mBindings.iterator(),c="";b.hasNext();){var d=b.next();0!==c.length&&(c+="\n"),c+="bind "+d.port.eContainer().eContainer().name+"."+d.port.eContainer().name+"."+d.port.name+" "+d.hub.name}return c}},{}],5:[function(a,b,c){"use strict";b.exports=function(a){for(var b=a.typeDefinitions.iterator(),c="";b.hasNext();){var d=b.next().deployUnit,e="mvn";"npm"===d.type&&(e="npm");var f="";d.groupName&&(f+=d.groupName+":"),f+=d.name+":",f+=d.version,c.indexOf(f)===-1&&(0!==c.length&&(c+="\n"),c+="// DEPRECATED: include "+e+":"+f)}return c}},{}],6:[function(a,b,c){"use strict";var d=a("../getFQN");b.exports=function(a){function b(a){for(var b={};a.hasNext();){var c=a.next(),e=d(c.typeDefinition),g=b[e]||[];g.push(c.name),b[e]=g}for(var h in b)b.hasOwnProperty(h)&&(0!==f.length&&(f+="\n"),f+="add "+b[h].join(", ")+": "+h)}function c(a){for(var b={};a.hasNext();){var c=a.next(),e=d(c.typeDefinition),g=b[e]||[];c.host||g.push(c.name),b[e]=g}for(var h in b)b.hasOwnProperty(h)&&b[h].length>0&&(0!==f.length&&(f+="\n"),f+="add "+b[h].join(", ")+": "+h)}function e(a){for(var b,c={},e={};a.hasNext();){var g,h=a.next();h.host&&(g=d(h.typeDefinition),b=e[g]||[],b.push(h.host.name+"."+h.name),e[g]=b);for(var i=h.components.iterator();i.hasNext();){var j=i.next();g=d(j.typeDefinition),b=c[g]||[],b.push(h.name+"."+j.name),c[g]=b}}var k;for(k in c)c.hasOwnProperty(k)&&c[k].length>0&&(0!==f.length&&(f+="\n"),f+="add "+c[k].join(", ")+": "+k);for(k in e)e.hasOwnProperty(k)&&e[k].length>0&&(0!==f.length&&(f+="\n"),f+="add "+e[k].join(", ")+": "+k)}var f="";return c(a.nodes.iterator()),e(a.nodes.iterator()),b(a.groups.iterator()),b(a.hubs.iterator()),f.replace(/kevoree\./g,"")}},{"../getFQN":11}],7:[function(a,b,c){"use strict";b.exports=function(a){function b(a,c){for(;a.hasNext();){var e=a.next();e.started||(c?d.push(c.name+"."+e.name):d.push(e.name)),e.components&&b(e.components.iterator(),e),e.hosts&&b(e.hosts.iterator(),e)}}var c="",d=[];return b(a.nodes.iterator()),b(a.groups.iterator()),b(a.hubs.iterator()),d.length>0&&(c="stop "+d.join(", ")),c}},{}],8:[function(a,b,c){"use strict";b.exports=function(a){for(var b="",c=a.nodes.iterator();c.hasNext();)for(var d=c.next(),e=d.networkInformation.iterator();e.hasNext();)for(var f=e.next(),g=f.values.iterator();g.hasNext();){var h=g.next();0!==b.length&&(b+="\n"),b+="network "+d.name+"."+f.name+"."+h.name+" "+h.value}return b}},{}],9:[function(a,b,c){"use strict";b.exports=function(a){for(var b="",c=a.repositories.iterator();c.hasNext();){var d=c.next();0!==b.length&&(b+="\n"),b+='// DEPRECATED: repo "'+d.url+'"'}return b}},{}],10:[function(a,b,c){"use strict";function d(a){if(a){for(var b=!1,c=0;c<a.length;c++){if('"'===a[c]&&!b)return"'"+a+"'";if("'"===a[c]&&!b)return'"'+a+'"';b="\\"===a[c]}return"'"+a+"'"}return"''"}b.exports=function(a){function b(a,b,c,f){b.array.forEach(function(b){var g=f.findAttributesByID(b.name);g.defaultValue!==b.value&&(0!==e.length&&(e+="\n"),e+=c?"set "+a+"."+b.name+"/"+c+" = "+d(b.value):"set "+a+"."+b.name+" = "+d(b.value))})}function c(a,c){var d=c?c+"."+a.name:a.name;a.dictionary&&b(d,a.dictionary.values.iterator(),null,a.typeDefinition.dictionaryType);for(var e=a.fragmentDictionary.iterator();e.hasNext();){var f=e.next();f&&b(d,f.values.iterator(),f.name,a.typeDefinition.dictionaryType)}}for(var e="",f=a.nodes.iterator();f.hasNext();){var g=f.next();g.host||c(g);for(var h=g.hosts.iterator();h.hasNext();)c(h.next(),g.name);for(var i=g.components.iterator();i.hasNext();)c(i.next(),g.name)}for(var j=a.groups.iterator();j.hasNext();)c(j.next());for(var k=a.hubs.iterator();k.hasNext();)c(k.next());return e}},{}],11:[function(a,b,c){"use strict";var d=a("semver");b.exports=function(a){function b(a){a.eContainer()&&(f=a.name+"."+f,b(a.eContainer()))}var c=a.deployUnits.array.some(function(a){return null!==d.prerelease(a.version)}),e=c?"/LATEST":"",f=a.name+"/"+a.version+e;return b(a.eContainer()),f}},{semver:123}],12:[function(a,b,c){(function(c){"use strict";function d(a,b,c,d){var e=null;e=b?j.clone(b,!1):i.createContainerRoot(),i.root(e);var k={logger:c.logger,ctxVars:c.ctxVars,warnings:[]},l=[];a.children.forEach(function(a){a.children.forEach(function(a){l.push(function(b){"function"==typeof h[a.type]?h[a.type](e,h,a,k,b):b(new Error('Unknown statement "'+a.type+'"'))})})}),f(l,function(a){if(a)d(a,null,k.warnings);else{var b;try{g(e)}catch(a){b=a}finally{d(b,e,k.warnings)}}})}var e="undefined"!=typeof window?window.KevoreeLibrary:"undefined"!=typeof c?c.KevoreeLibrary:null,f=a("async/series"),g="undefined"!=typeof window?window.KevoreeValidator:"undefined"!=typeof c?c.KevoreeValidator:null,h={addRepo:a("./statements/addRepo"),add:a("./statements/add"),move:a("./statements/move"),attach:a("./statements/attach"),addBinding:a("./statements/addBinding"),delBinding:a("./statements/delBinding"),include:a("./statements/include"),set:a("./statements/set"),network:a("./statements/network"),remove:a("./statements/remove"),detach:a("./statements/detach"),typeDef:a("./statements/typeDef"),typeFQN:a("./statements/typeFQN"),nameList:a("./statements/nameList"),instancePath:a("./statements/instancePath"),namespace:a("./statements/namespace"),wildcard:a("./statements/wildcard"),string:a("./statements/string"),string2:a("./statements/string2"),string3:a("./statements/string3"),repoString:a("./statements/repoString"),version:a("./statements/version"),anything:a("./statements/anything"),realString:a("./statements/realString"),realStringNoNewLine:a("./statements/realStringNoNewLine"),newLine:a("./statements/newLine"),singleQuoteLine:a("./statements/singleQuoteLine"),doubleQuoteLine:a("./statements/doubleQuoteLine"),escaped:a("./statements/escaped"),start:a("./statements/start"),stop:a("./statements/stop"),pause:a("./statements/pause"),ctxVar:a("./statements/ctxVar"),genCtxVar:a("./statements/genCtxVar")},i=new e.factory.DefaultKevoreeFactory,j=i.createModelCloner();b.exports=d}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./statements/add":16,"./statements/addBinding":17,"./statements/addRepo":18,"./statements/anything":19,"./statements/attach":20,"./statements/ctxVar":21,"./statements/delBinding":22,"./statements/detach":23,"./statements/doubleQuoteLine":24,"./statements/escaped":25,"./statements/genCtxVar":26,"./statements/include":27,"./statements/instancePath":28,"./statements/move":29,"./statements/nameList":30,"./statements/namespace":31,"./statements/network":32,"./statements/newLine":33,"./statements/pause":34,"./statements/realString":35,"./statements/realStringNoNewLine":36,"./statements/remove":37,"./statements/repoString":38,"./statements/set":39,"./statements/singleQuoteLine":40,"./statements/start":41,"./statements/stop":42,"./statements/string":43,"./statements/string2":44,"./statements/string3":45,"./statements/typeDef":46,"./statements/typeFQN":47,"./statements/version":48,"./statements/wildcard":49,"async/series":60}],13:[function(a,b,c){var d=a("./elements/repositories"),e=(a("./elements/includes"),a("./elements/instances")),f=a("./elements/attaches"),g=a("./elements/lifecycles"),h=a("./elements/bindings"),i=a("./elements/sets"),j=a("./elements/networks");b.exports=function(a){var b=[d(a),e(a),g(a),f(a),h(a),i(a),j(a)],c="";for(var k in b)b.hasOwnProperty(k)&&(c+=b[k],b[k].length>0&&(c+="\n\n"));return c.replace(/^([\n\t\r])+/,"").replace(/([\n\t\r])+$/,"\n")}},{"./elements/attaches":3,"./elements/bindings":4,"./elements/includes":5,"./elements/instances":6,"./elements/lifecycles":7,"./elements/networks":8,"./elements/repositories":9,"./elements/sets":10}],14:[function(a,b,c){var d=d;"undefined"!=typeof b&&(d=a("waxeye"));var e=function(){var a=function(){return this};return a.prototype=new d.WaxeyeParser(0,!0,[new d.FA("kevScript",[new d.State([new d.Edge(56,1,!1)],!1),new d.State([new d.Edge(1,2,!1),new d.Edge(54,3,!0)],!0),new d.State([new d.Edge(56,1,!1)],!1),new d.State([new d.Edge(55,2,!1)],!0)],d.FA.LEFT),new d.FA("statement",[new d.State([new d.Edge(2,1,!1),new d.Edge(3,1,!1),new d.Edge(4,1,!1),new d.Edge(5,1,!1),new d.Edge(6,1,!1),new d.Edge(7,1,!1),new d.Edge(9,1,!1),new d.Edge(10,1,!1),new d.Edge(12,1,!1),new d.Edge(8,1,!1),new d.Edge(11,1,!1),new d.Edge(16,1,!1),new d.Edge(17,1,!1),new d.Edge(18,1,!1),new d.Edge(19,1,!1)],!1),new d.State([],!0)],d.FA.LEFT),new d.FA("add",[new d.State([new d.Edge(39,1,!1)],!1),new d.State([new d.Edge(56,2,!1)],!1),new d.State([new d.Edge(13,3,!1)],!1),new d.State([new d.Edge(56,4,!1)],!1),new d.State([new d.Edge(":",5,!0)],!1),new d.State([new d.Edge(56,6,!1)],!1),new d.State([new d.Edge(14,7,!1)],!1),new d.State([],!0)],d.FA.LEFT),new d.FA("remove",[new d.State([new d.Edge(40,1,!1)],!1),new d.State([new d.Edge(56,2,!1)],!1),new d.State([new d.Edge(13,3,!1)],!1),new d.State([],!0)],d.FA.LEFT),new d.FA("move",[new d.State([new d.Edge(41,1,!1)],!1),new d.State([new d.Edge(56,2,!1)],!1),new d.State([new d.Edge(13,3,!1)],!1),new d.State([new d.Edge(56,4,!1)],!1),new d.State([new d.Edge(20,5,!1)],!1),new d.State([],!0)],d.FA.LEFT),new d.FA("attach",[new d.State([new d.Edge(43,1,!1)],!1),new d.State([new d.Edge(56,2,!1)],!1),new d.State([new d.Edge(13,3,!1)],!1),new d.State([new d.Edge(56,4,!1)],!1),new d.State([new d.Edge(20,5,!1)],!1),new d.State([],!0)],d.FA.LEFT),new d.FA("detach",[new d.State([new d.Edge(44,1,!1)],!1),new d.State([new d.Edge(56,2,!1)],!1),new d.State([new d.Edge(13,3,!1)],!1),new d.State([new d.Edge(56,4,!1)],!1),new d.State([new d.Edge(20,5,!1)],!1),new d.State([],!0)],d.FA.LEFT),new d.FA("set",[new d.State([new d.Edge(42,1,!1)],!1),new d.State([new d.Edge(56,2,!1)],!1),new d.State([new d.Edge(20,3,!1)],!1),new d.State([new d.Edge("/",4,!0),new d.Edge(56,6,!1)],!1),new d.State([new d.Edge(20,5,!1)],!1),new d.State([new d.Edge(56,6,!1)],!1),new d.State([new d.Edge("=",7,!0)],!1),new d.State([new d.Edge(56,8,!1)],!1),new d.State([new d.Edge(31,9,!1)],!1),new d.State([],!0)],d.FA.LEFT),new d.FA("network",[new d.State([new d.Edge(45,1,!1)],!1),new d.State([new d.Edge(56,2,!1)],!1),new d.State([new d.Edge(20,3,!1)],!1),new d.State([new d.Edge(56,4,!1)],!1),new d.State([new d.Edge(25,5,!1)],!1),new d.State([],!0)],d.FA.LEFT),new d.FA("addBinding",[new d.State([new d.Edge(46,1,!1)],!1),new d.State([new d.Edge(56,2,!1)],!1),new d.State([new d.Edge(20,3,!1)],!1),new d.State([new d.Edge(56,4,!1)],!1),new d.State([new d.Edge(20,5,!1)],!1),new d.State([],!0)],d.FA.LEFT),new d.FA("delBinding",[new d.State([new d.Edge(47,1,!1)],!1),new d.State([new d.Edge(56,2,!1)],!1),new d.State([new d.Edge(20,3,!1)],!1),new d.State([new d.Edge(56,4,!1)],!1),new d.State([new d.Edge(20,5,!1)],!1),new d.State([],!0)],d.FA.LEFT),new d.FA("addRepo",[new d.State([new d.Edge(37,1,!1)],!1),new d.State([new d.Edge(56,2,!1)],!1),new d.State([new d.Edge(35,3,!1)],!1),new d.State([],!0)],d.FA.LEFT),new d.FA("include",[new d.State([new d.Edge(38,1,!1)],!1),new d.State([new d.Edge(56,2,!1)],!1),new d.State([new d.Edge(24,3,!1)],!1),new d.State([new d.Edge(":",4,!0)],!1),new d.State([new d.Edge(25,5,!1)],!1),new d.State([],!0)],d.FA.LEFT),new d.FA("nameList",[new d.State([new d.Edge(20,1,!1)],!1),new d.State([new d.Edge(56,2,!1)],!1),new d.State([new d.Edge([","],3,!0)],!0),new d.State([new d.Edge(56,4,!1)],!1),new d.State([new d.Edge(20,2,!1)],!1)],d.FA.LEFT),new d.FA("typeDef",[new d.State([new d.Edge(15,1,!1)],!1),new d.State([new d.Edge("/",2,!0)],!0),new d.State([new d.Edge(27,3,!1)],!1),new d.State([],!0)],d.FA.LEFT),new d.FA("typeFQN",[new d.State([new d.Edge(26,1,!1)],!1),new d.State([new d.Edge(["."],2,!1)],!0),new d.State([new d.Edge(26,1,!1)],!1)],d.FA.LEFT),new d.FA("namespace",[new d.State([new d.Edge(48,1,!1)],!1),new d.State([new d.Edge(56,2,!1)],!1),new d.State([new d.Edge(24,3,!1)],!1),new d.State([],!0)],d.FA.LEFT),new d.FA("start",[new d.State([new d.Edge(49,1,!1)],!1),new d.State([new d.Edge(56,2,!1)],!1),new d.State([new d.Edge(13,3,!1)],!1),new d.State([],!0)],d.FA.LEFT),new d.FA("stop",[new d.State([new d.Edge(50,1,!1)],!1),new d.State([new d.Edge(56,2,!1)],!1),new d.State([new d.Edge(13,3,!1)],!1),new d.State([],!0)],d.FA.LEFT),new d.FA("pause",[new d.State([new d.Edge(51,1,!1)],!1),new d.State([new d.Edge(56,2,!1)],!1),new d.State([new d.Edge(13,3,!1)],!1),new d.State([],!0)],d.FA.LEFT),new d.FA("instancePath",[new d.State([new d.Edge(21,1,!1),new d.Edge(24,1,!1),new d.Edge(22,1,!1),new d.Edge(23,1,!1)],!1),new d.State([new d.Edge(["."],2,!0)],!0),new d.State([new d.Edge(21,1,!1),new d.Edge(24,1,!1),new d.Edge(22,1,!1),new d.Edge(23,1,!1)],!1)],d.FA.LEFT),new d.FA("wildcard",[new d.State([new d.Edge("*",1,!1)],!1),new d.State([],!0)],d.FA.LEFT),new d.FA("ctxVar",[new d.State([new d.Edge("%",1,!0)],!1),new d.State([new d.Edge(24,2,!1)],!1),new d.State([new d.Edge("%",3,!0)],!1),new d.State([],!0)],d.FA.LEFT),new d.FA("genCtxVar",[new d.State([new d.Edge("%",1,!0)],!1),new d.State([new d.Edge("%",2,!0)],!1),new d.State([new d.Edge(24,3,!1)],!1),new d.State([new d.Edge("%",4,!0)],!1),new d.State([new d.Edge("%",5,!0)],!1),new d.State([],!0)],d.FA.LEFT),new d.FA("string",[new d.State([new d.Edge(["-",[48,57],[65,90],"_",[97,122]],1,!1)],!1),new d.State([new d.Edge(["-",[48,57],[65,90],"_",[97,122]],1,!1)],!0)],d.FA.LEFT),new d.FA("string2",[new d.State([new d.Edge(["%",[45,46],[48,58],[64,90],"_",[97,122]],1,!1)],!1),new d.State([new d.Edge(["%",[45,46],[48,58],[64,90],"_",[97,122]],1,!1)],!0)],d.FA.LEFT),new d.FA("string3",[new d.State([new d.Edge([[48,57],[65,90],"_",[97,122]],1,!1)],!1),new d.State([new d.Edge([[48,57],[65,90],"_",[97,122]],1,!1)],!0)],d.FA.PRUNE),new d.FA("version",[new d.State([new d.Edge([[48,57]],1,!1),new d.Edge(29,4,!1)],!1),new d.State([new d.Edge([[48,57]],1,!1),new d.Edge("/",2,!0)],!0),new d.State([new d.Edge(28,3,!1),new d.Edge(29,3,!1)],!1),new d.State([],!0),new d.State([new d.Edge("/",2,!0)],!0)],d.FA.LEFT),new d.FA("release",[new d.State([new d.Edge(53,1,!1)],!1),new d.State([],!0)],d.FA.LEFT),new d.FA("latest",[new d.State([new d.Edge(52,1,!1)],!1),new d.State([],!0)],d.FA.LEFT),new d.FA("line",[new d.State([new d.Edge(58,1,!1)],!1),new d.State([new d.Edge(-1,2,!1)],!1),new d.State([new d.Edge(57,3,!1)],!0),new d.State([new d.Edge(-1,2,!1)],!1)],d.FA.LEFT),new d.FA("realString",[new d.State([new d.Edge(["'"],1,!0),new d.Edge(['"'],3,!0)],!1),new d.State([new d.Edge(36,1,!1),new d.Edge(32,1,!1),new d.Edge(33,1,!1),new d.Edge(["'"],2,!0)],!1),new d.State([],!0),new d.State([new d.Edge(36,3,!1),new d.Edge(32,3,!1),new d.Edge(34,3,!1),new d.Edge(['"'],2,!0)],!1)],d.FA.LEFT),new d.FA("escaped",[new d.State([new d.Edge(["\\"],1,!1)],!1),new d.State([new d.Edge(59,2,!1)],!1),new d.State([new d.Edge(-1,3,!1)],!1),new d.State([],!0)],d.FA.LEFT),new d.FA("singleQuoteLine",[new d.State([new d.Edge(65,1,!1)],!1),new d.State([new d.Edge(64,2,!1)],!1),new d.State([new d.Edge(63,3,!1)],!1),new d.State([new d.Edge(-1,4,!1)],!1),new d.State([new d.Edge(62,5,!1)],!0),new d.State([new d.Edge(61,6,!1)],!1),new d.State([new d.Edge(60,7,!1)],!1),new d.State([new d.Edge(-1,4,!1)],!1)],d.FA.LEFT),new d.FA("doubleQuoteLine",[new d.State([new d.Edge(71,1,!1)],!1),new d.State([new d.Edge(70,2,!1)],!1),new d.State([new d.Edge(69,3,!1)],!1),new d.State([new d.Edge(-1,4,!1)],!1),new d.State([new d.Edge(68,5,!1)],!0),new d.State([new d.Edge(67,6,!1)],!1),new d.State([new d.Edge(66,7,!1)],!1),new d.State([new d.Edge(-1,4,!1)],!1)],d.FA.LEFT),new d.FA("realStringNoNewLine",[new d.State([new d.Edge(["'"],1,!0),new d.Edge(['"'],8,!0)],!1),new d.State([new d.Edge(["\\"],2,!1),new d.Edge(75,4,!1),new d.Edge(["'"],7,!0)],!1),new d.State([new d.Edge(72,3,!1)],!1),new d.State([new d.Edge(-1,1,!1)],!1),new d.State([new d.Edge(74,5,!1)],!1),new d.State([new d.Edge(73,6,!1)],!1),new d.State([new d.Edge(-1,1,!1)],!1),new d.State([],!0),new d.State([new d.Edge(["\\"],9,!1),new d.Edge(79,11,!1),new d.Edge(['"'],7,!0)],!1),new d.State([new d.Edge(76,10,!1)],!1),new d.State([new d.Edge(-1,8,!1)],!1),new d.State([new d.Edge(78,12,!1)],!1),new d.State([new d.Edge(77,13,!1)],!1),new d.State([new d.Edge(-1,8,!1)],!1)],d.FA.LEFT),new d.FA("newLine",[new d.State([new d.Edge("\r",1,!0),new d.Edge("\n",2,!0),new d.Edge("\r",2,!0)],!1),new d.State([new d.Edge("\n",2,!0)],!1),new d.State([],!0)],d.FA.LEFT),new d.FA("repoToken",[new d.State([new d.Edge("r",1,!1)],!1),new d.State([new d.Edge("e",2,!1)],!1),new d.State([new d.Edge("p",3,!1)],!1),new d.State([new d.Edge("o",4,!1)],!1),new d.State([],!0)],d.FA.VOID),new d.FA("includeToken",[new d.State([new d.Edge("i",1,!1)],!1),new d.State([new d.Edge("n",2,!1)],!1),new d.State([new d.Edge("c",3,!1)],!1),new d.State([new d.Edge("l",4,!1)],!1),new d.State([new d.Edge("u",5,!1)],!1),new d.State([new d.Edge("d",6,!1)],!1),new d.State([new d.Edge("e",7,!1)],!1),new d.State([],!0)],d.FA.VOID),new d.FA("addToken",[new d.State([new d.Edge("a",1,!1)],!1),new d.State([new d.Edge("d",2,!1)],!1),new d.State([new d.Edge("d",3,!1)],!1),new d.State([],!0)],d.FA.VOID),new d.FA("removeToken",[new d.State([new d.Edge("r",1,!1)],!1),new d.State([new d.Edge("e",2,!1)],!1),new d.State([new d.Edge("m",3,!1)],!1),new d.State([new d.Edge("o",4,!1)],!1),new d.State([new d.Edge("v",5,!1)],!1),new d.State([new d.Edge("e",6,!1)],!1),new d.State([],!0)],d.FA.VOID),new d.FA("moveToken",[new d.State([new d.Edge("m",1,!1)],!1),new d.State([new d.Edge("o",2,!1)],!1),new d.State([new d.Edge("v",3,!1)],!1),new d.State([new d.Edge("e",4,!1)],!1),new d.State([],!0)],d.FA.VOID),new d.FA("setToken",[new d.State([new d.Edge("s",1,!1)],!1),new d.State([new d.Edge("e",2,!1)],!1),new d.State([new d.Edge("t",3,!1)],!1),new d.State([],!0)],d.FA.VOID),new d.FA("attachToken",[new d.State([new d.Edge("a",1,!1)],!1),new d.State([new d.Edge("t",2,!1)],!1),new d.State([new d.Edge("t",3,!1)],!1),new d.State([new d.Edge("a",4,!1)],!1),new d.State([new d.Edge("c",5,!1)],!1),new d.State([new d.Edge("h",6,!1)],!1),new d.State([],!0)],d.FA.VOID),new d.FA("detachToken",[new d.State([new d.Edge("d",1,!1)],!1),new d.State([new d.Edge("e",2,!1)],!1),new d.State([new d.Edge("t",3,!1)],!1),new d.State([new d.Edge("a",4,!1)],!1),new d.State([new d.Edge("c",5,!1)],!1),new d.State([new d.Edge("h",6,!1)],!1),new d.State([],!0)],d.FA.VOID),new d.FA("networkToken",[new d.State([new d.Edge("n",1,!1)],!1),new d.State([new d.Edge("e",2,!1)],!1),new d.State([new d.Edge("t",3,!1)],!1),new d.State([new d.Edge("w",4,!1)],!1),new d.State([new d.Edge("o",5,!1)],!1),new d.State([new d.Edge("r",6,!1)],!1),new d.State([new d.Edge("k",7,!1)],!1),new d.State([],!0)],d.FA.VOID),new d.FA("bindToken",[new d.State([new d.Edge("b",1,!1)],!1),new d.State([new d.Edge("i",2,!1)],!1),new d.State([new d.Edge("n",3,!1)],!1),new d.State([new d.Edge("d",4,!1)],!1),new d.State([],!0)],d.FA.VOID),new d.FA("unbindToken",[new d.State([new d.Edge("u",1,!1)],!1),new d.State([new d.Edge("n",2,!1)],!1),new d.State([new d.Edge("b",3,!1)],!1),new d.State([new d.Edge("i",4,!1)],!1),new d.State([new d.Edge("n",5,!1)],!1),new d.State([new d.Edge("d",6,!1)],!1),new d.State([],!0)],d.FA.VOID),new d.FA("namespaceToken",[new d.State([new d.Edge("n",1,!1)],!1),new d.State([new d.Edge("a",2,!1)],!1),new d.State([new d.Edge("m",3,!1)],!1),new d.State([new d.Edge("e",4,!1)],!1),new d.State([new d.Edge("s",5,!1)],!1),new d.State([new d.Edge("p",6,!1)],!1),new d.State([new d.Edge("a",7,!1)],!1),new d.State([new d.Edge("c",8,!1)],!1),new d.State([new d.Edge("e",9,!1)],!1),new d.State([],!0)],d.FA.VOID),new d.FA("startToken",[new d.State([new d.Edge("s",1,!1)],!1),new d.State([new d.Edge("t",2,!1)],!1),new d.State([new d.Edge("a",3,!1)],!1),new d.State([new d.Edge("r",4,!1)],!1),new d.State([new d.Edge("t",5,!1)],!1),new d.State([],!0)],d.FA.VOID),new d.FA("stopToken",[new d.State([new d.Edge("s",1,!1)],!1),new d.State([new d.Edge("t",2,!1)],!1),new d.State([new d.Edge("o",3,!1)],!1),new d.State([new d.Edge("p",4,!1)],!1),new d.State([],!0)],d.FA.VOID),new d.FA("pauseToken",[new d.State([new d.Edge("p",1,!1)],!1),new d.State([new d.Edge("a",2,!1)],!1),new d.State([new d.Edge("u",3,!1)],!1),new d.State([new d.Edge("s",4,!1)],!1),new d.State([new d.Edge("e",5,!1)],!1),new d.State([],!0)],d.FA.VOID),new d.FA("latestToken",[new d.State([new d.Edge("L",1,!1)],!1),new d.State([new d.Edge("A",2,!1)],!1),new d.State([new d.Edge("T",3,!1)],!1),new d.State([new d.Edge("E",4,!1)],!1),new d.State([new d.Edge("S",5,!1)],!1),new d.State([new d.Edge("T",6,!1)],!1),new d.State([],!0)],d.FA.VOID),new d.FA("releaseToken",[new d.State([new d.Edge("R",1,!1)],!1),new d.State([new d.Edge("E",2,!1)],!1),new d.State([new d.Edge("L",3,!1)],!1),new d.State([new d.Edge("E",4,!1)],!1),new d.State([new d.Edge("A",5,!1)],!1),new d.State([new d.Edge("S",6,!1)],!1),new d.State([new d.Edge("E",7,!1)],!1),new d.State([],!0)],d.FA.VOID),new d.FA("comment",[new d.State([new d.Edge("/",1,!1)],!1),new d.State([new d.Edge("/",2,!1)],!1),new d.State([new d.Edge(30,3,!1)],!0),new d.State([],!0)],d.FA.VOID),new d.FA("eol",[new d.State([new d.Edge("\r",1,!1),new d.Edge("\n",2,!1),new d.Edge("\r",2,!1)],!1),new d.State([new d.Edge("\n",2,!1)],!1),new d.State([],!0)],d.FA.VOID),new d.FA("ws",[new d.State([new d.Edge(["\t"," "],0,!1),new d.Edge(55,0,!1)],!0)],d.FA.VOID),new d.FA("",[new d.State([new d.Edge(55,1,!1)],!1),new d.State([],!0)],d.FA.NEG),new d.FA("",[new d.State([new d.Edge(55,1,!1)],!1),new d.State([],!0)],d.FA.NEG),new d.FA("",[new d.State([new d.Edge(55,1,!1)],!1),new d.State([],!0)],d.FA.NEG),new d.FA("",[new d.State([new d.Edge(55,1,!1)],!1),new d.State([],!0)],d.FA.NEG),new d.FA("",[new d.State([new d.Edge(["\\"],1,!1)],!1),new d.State([],!0)],d.FA.NEG),new d.FA("",[new d.State([new d.Edge(["'"],1,!1)],!1),new d.State([],!0)],d.FA.NEG),new d.FA("",[new d.State([new d.Edge(55,1,!1)],!1),new d.State([],!0)],d.FA.NEG),new d.FA("",[new d.State([new d.Edge(["\\"],1,!1)],!1),new d.State([],!0)],d.FA.NEG),new d.FA("",[new d.State([new d.Edge(["'"],1,!1)],!1),new d.State([],!0)],d.FA.NEG),new d.FA("",[new d.State([new d.Edge(55,1,!1)],!1),new d.State([],!0)],d.FA.NEG),new d.FA("",[new d.State([new d.Edge(["\\"],1,!1)],!1),new d.State([],!0)],d.FA.NEG),new d.FA("",[new d.State([new d.Edge(['"'],1,!1)],!1),new d.State([],!0)],d.FA.NEG),new d.FA("",[new d.State([new d.Edge(55,1,!1)],!1),new d.State([],!0)],d.FA.NEG),new d.FA("",[new d.State([new d.Edge(["\\"],1,!1)],!1),new d.State([],!0)],d.FA.NEG),new d.FA("",[new d.State([new d.Edge(['"'],1,!1)],!1),new d.State([],!0)],d.FA.NEG),new d.FA("",[new d.State([new d.Edge(55,1,!1)],!1),new d.State([],!0)],d.FA.NEG),new d.FA("",[new d.State([new d.Edge(55,1,!1)],!1),new d.State([],!0)],d.FA.NEG),new d.FA("",[new d.State([new d.Edge(["\\"],1,!1)],!1),new d.State([],!0)],d.FA.NEG),new d.FA("",[new d.State([new d.Edge(["'"],1,!1)],!1),new d.State([],!0)],d.FA.NEG),new d.FA("",[new d.State([new d.Edge(55,1,!1)],!1),new d.State([],!0)],d.FA.NEG),new d.FA("",[new d.State([new d.Edge(55,1,!1)],!1),new d.State([],!0)],d.FA.NEG),new d.FA("",[new d.State([new d.Edge(["\\"],1,!1)],!1),new d.State([],!0)],d.FA.NEG),new d.FA("",[new d.State([new d.Edge(['"'],1,!1)],!1),new d.State([],!0)],d.FA.NEG)]),a}();"undefined"!=typeof b&&(b.exports.Parser=e)},{waxeye:136}],15:[function(a,b,c){"use strict";var d="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";b.exports=function(){for(var a="",b=0;b<6;b++)a+=d[Math.floor(Math.random()*d.length)];return a}},{}],16:[function(a,b,c){(function(c){"use strict";function d(a){var b=new f.factory.DefaultKevoreeFactory,c=a.typeDefinition.dictionaryType;if(c){var d=b.createDictionary().withGenerated_KMF_ID("0.0");c.attributes.array.forEach(function(a){if(!a.fragmentDependant){var c=b.createValue();c.name=a.name,c.value=a.defaultValue,d.addValues(c)}}),a.dictionary=d}}function e(a){var b=new f.factory.DefaultKevoreeFactory;a.typeDefinition.provided.array.forEach(function(c){var d=b.createPort();d.name=c.name,d.portTypeRef=c,a.addProvided(d)}),a.typeDefinition.required.array.forEach(function(c){var d=b.createPort();d.name=c.name,d.portTypeRef=c,a.addRequired(d)})}var f="undefined"!=typeof window?window.KevoreeLibrary:"undefined"!=typeof c?c.KevoreeLibrary:null,g=a("../KevScriptError");b.exports=function(a,b,c,h,i){var j;try{j=b[c.children[0].type](a,b,c.children[0],h)}catch(a){return void i(a)}b[c.children[1].type](a,b,c.children[1],h,function(b,c){if(b)i(b);else{var h;try{var k=new f.factory.DefaultKevoreeFactory;j.forEach(function(b){var f;if(1===b.length)if("org.kevoree.NodeType"===c.metaClassName())f=k.createContainerNode(),f.name=b[0].value,f.started=!0,f.typeDefinition=c,d(f),a.addNodes(f);else if("org.kevoree.GroupType"===c.metaClassName())f=k.createGroup(),f.name=b[0].value,f.started=!0,f.typeDefinition=c,d(f),a.addGroups(f);else{if("org.kevoree.ChannelType"!==c.metaClassName())throw new g('Components must be added in nodes (eg. "add aNode.'+b[0].value+": "+c.name+'"). "'+b.value+'" is not valid',b.pos);f=k.createChannel(),f.name=b[0].value,f.started=!0,f.typeDefinition=c,d(f),a.addHubs(f)}else{if(2!==b.length)throw new g('Instance path for "add" statements must be "name" or "hostName.childName". Instance path "'+b.value+'" is not valid',b.pos);if("org.kevoree.NodeType"===c.metaClassName()){if("*"===b[0].value)throw new g('Add statement with "*" only works for component type',b[0].pos);var h=a.findNodesByID(b[0].value);if(!h)throw new g('Unable to add node "'+b[1].value+'" to "'+b[0].value+'". "'+b[0].value+'" does not exist',b[0].pos);f=k.createContainerNode(),f.name=b[1].value,f.started=!0,f.typeDefinition=c,d(f),h.addHosts(f),f.host=h,a.addNodes(f)}else{if("org.kevoree.ComponentType"!==c.metaClassName())throw new g('Instance "'+b[1].value+'" of type '+c.metaClassName()+" cannot be added to a node",b[1].pos);if("*"===b[0].value)a.nodes.array.forEach(function(a){a.host||(f=k.createComponentInstance(),f.name=b[1].value,f.started=!0,f.typeDefinition=c,d(f),e(f),a.addComponents(f))});else{var i=a.findNodesByID(b[0].value);if(!i)throw new g('Unable to add component "'+b[1].value+'" to "'+b[0].value+'". "'+b[0].value+'" does not exist',b[0].pos);f=k.createComponentInstance(),f.name=b[1].value,f.started=!0,f.typeDefinition=c,d(f),e(f),i.addComponents(f)}}}})}catch(a){h=a}finally{i(h)}}})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../KevScriptError":2}],17:[function(a,b,c){(function(c){"use strict";function d(a,b,c){return a.mBindings.array.some(function(a){if(a.hub&&a.port)return a.hub.name===b.name&&a.port.path()===c.path()})}var e="undefined"!=typeof window?window.KevoreeLibrary:"undefined"!=typeof c?c.KevoreeLibrary:null,f=a("../KevScriptError");b.exports=function(a,b,c,g,h){var i;try{var j=b[c.children[0].type](a,b,c.children[0],g,h),k=b[c.children[1].type](a,b,c.children[1],g,h),l=[];if(1!==k.length)throw new f("Bind target path is invalid ("+k.value+")",k.pos);if("*"===k[0].value)l=a.hubs.array;else{var m=a.findHubsByID(k[0].value);if(!m)throw new f('Unable to find chan instance "'+k[0].value+'". Bind failed',k[0].pos);l.push(m)}var n=[];if(3!==j.length)throw new f('"'+j.value+'" is not a valid bind path for a port',j.pos);if("*"===j[0].value)n=a.nodes.array;else{var o=a.findNodesByID(j[0].value);if(!o)throw new f('Unable to find node instance "'+j[0].value+'". Bind failed',j[0].pos);n.push(o)}var p=[];n.forEach(function(a){if("*"===j[1].value)p=p.concat(a.components.array);else{var b=a.findComponentsByID(j[1].value);if(!b)throw new f('Unable to find component instance "'+j[1].value+'" in node "'+j[0].value+'". Bind failed',j[1].pos);p.push(b)}});var q=[];p.forEach(function(a){if("*"===j[2].value)q=q.concat(a.provided.array).concat(a.required.array);else{var b=a.findProvidedByID(j[2].value);if(b)q.push(b);else{if(b=a.findRequiredByID(j[2].value),!b)throw new f('Component "'+a.name+'" in node "'+a.eContainer().name+'" has no port named "'+j[2].value+'". Bind failed',j[2].pos);q.push(b)}}});var r=new e.factory.DefaultKevoreeFactory;l.forEach(function(b){q.forEach(function(c){if(!d(a,b,c)){var e=r.createMBinding();e.hub=b,e.port=c,b.addBindings(e),c.addBindings(e),a.addMBindings(e)}})})}catch(a){i=a}finally{h(i)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../KevScriptError":2}],18:[function(a,b,c){"use strict";b.exports=function(a,b,c,d,e){d.warnings.push({message:'"repo" statement is deprecated',pos:c.pos}),e()}},{}],19:[function(a,b,c){"use strict";b.exports=function(a,b,c){return{value:c.children.join(""),pos:c.pos}}},{}],20:[function(a,b,c){(function(c){"use strict";function d(a){var b=new e.factory.DefaultKevoreeFactory;a.groups.array.forEach(function(c){var d=c.findFragmentDictionaryByID(a.name);d||(d=b.createFragmentDictionary().withGenerated_KMF_ID("0.0"),d.name=a.name,c.addFragmentDictionary(d));var e=c.typeDefinition.dictionaryType;e&&e.attributes.array.forEach(function(a){if(a.fragmentDependant&&a.defaultValue){var c=b.createValue();c.name=a.name,c.value=a.defaultValue,d.addValues(c)}})}),a.components.array.forEach(function(c){c.provided.array.concat(c.required.array).forEach(function(c){c.bindings.array.forEach(function(c){if(c.hub){var d=c.hub.findFragmentDictionaryByID(a.name);d||(d=b.createFragmentDictionary().withGenerated_KMF_ID("0.0"),d.name=a.name,c.hub.addFragmentDictionary(d));var e=c.hub.typeDefinition.dictionaryType;e&&e.attributes.array.forEach(function(a){if(a.fragmentDependant&&a.defaultValue){var c=b.createValue();c.name=a.name,c.value=a.defaultValue,d.addValues(c)}})}})})})}var e="undefined"!=typeof window?window.KevoreeLibrary:"undefined"!=typeof c?c.KevoreeLibrary:null,f=a("../KevScriptError");b.exports=function(a,b,c,e,g){var h;try{var i=b[c.children[0].type](a,b,c.children[0],e,g),j=b[c.children[1].type](a,b,c.children[1],e,g),k=[];
if(1!==j.length)throw new f("Attach target path is invalid ("+j.value+")",j.pos);if("*"===j[0].value)k=a.groups.array;else{var l=a.findGroupsByID(j[0].value);if(!l)throw new f('Unable to find group instance "'+j[0].value+'". Attach failed',j[0].pos);k.push(l)}i.forEach(function(b){if(1!==b.length)throw new f('"'+b.value+'" is not a valid attach path for a node',b.pos);if("*"===b[0].value)a.nodes.array.forEach(function(a){k.forEach(function(b){a.addGroups(b),b.addSubNodes(a)}),d(a)});else{var c=a.findNodesByID(b[0].value);if(!c)throw new f('Unable to attach node instance "'+b[0].value+'". Instance does not exist',b[0].pos);k.forEach(function(a){c.addGroups(a),a.addSubNodes(c)}),d(c)}})}catch(a){h=a}finally{g(h)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../KevScriptError":2}],21:[function(a,b,c){"use strict";var d=a("../KevScriptError");b.exports=function(a,b,c,e){var f,g=b[c.children[0].type](a,b,c.children[0]).value;if(!e.ctxVars[g])throw new d('Missing context variable "%'+g+'%" value',c.pos);return f=e.ctxVars[g],{value:f,pos:c.pos}}},{"../KevScriptError":2}],22:[function(a,b,c){"use strict";function d(a,b,c){return a.mBindings.array.filter(function(a){if(a.hub&&a.port&&a.hub.name===b.name&&a.port.path()===c.path())return a})}var e=a("../KevScriptError");b.exports=function(a,b,c,f,g){var h;try{var i=b[c.children[0].type](a,b,c.children[0],f,g),j=b[c.children[1].type](a,b,c.children[1],f,g),k=[];if(1!==j.length)throw new e("Unbind target path is invalid ("+j.value+")",j.pos);if("*"===j[0].value)k=a.hubs.array;else{var l=a.findHubsByID(j[0].value);if(!l)throw new e('Unable to find chan instance "'+j[0].value+'". Unbind failed',j[0].pos);k.push(l)}var m=[];if(3!==i.length)throw new e('"'+i.value+'" is not a valid unbind path for a port',i.pos);if("*"===i[0].value)m=a.nodes.array;else{var n=a.findNodesByID(i[0].value);if(!n)throw new e('Unable to find node instance "'+i[0].value+'". Unbind failed',i[0].pos);m.push(n)}var o=[];m.forEach(function(a){if("*"===i[1].value)o=o.concat(a.components.array);else{var b=a.findComponentsByID(i[1].value);if(!b)throw new e('Unable to find component instance "'+i[1].value+'" in node "'+i[0].value+'". Unbind failed',i[1].pos);o.push(b)}});var p=[];o.forEach(function(a){if("*"===i[2].value)p=p.concat(a.provided.array).concat(a.required.array);else{var b=a.findProvidedByID(i[2].value);if(b)p.push(b);else{if(b=a.findRequiredByID(i[2].value),!b)throw new e('Component "'+a.name+'" in node "'+a.eContainer().name+'" has no port named "'+i[2].value+'". Unbind failed',i[2].pos);p.push(b)}}}),k.forEach(function(b){p.forEach(function(c){d(a,b,c).forEach(function(b){b.hub&&b.hub.removeBindings(b),b.port&&b.port.removeBindings(b),a.removeMBindings(b)})})})}catch(a){h=a}finally{g(h)}}},{"../KevScriptError":2}],23:[function(a,b,c){"use strict";function d(a){a.groups.array.forEach(function(b){var c=b.findFragmentDictionaryByID(a.name);c&&c.delete()}),a.components.array.forEach(function(b){b.provided.array.concat(b.required.array).forEach(function(b){b.bindings.array.forEach(function(b){if(b.hub){var c=b.hub.findFragmentDictionaryByID(a.name);c&&c.delete()}})})})}var e=a("../KevScriptError");b.exports=function(a,b,c,f,g){var h;try{var i=b[c.children[0].type](a,b,c.children[0],f),j=b[c.children[1].type](a,b,c.children[1],f),k=[];if(1!==j.length)throw new e("Detach target path is invalid ("+j.value+")",j.pos);if("*"===j[0].value)k=a.groups.array;else{var l=a.findGroupsByID(j[0].value);if(!l)throw new e('Unable to find group instance "'+j[0].value+'". Detach failed',j[0].pos);k.push(l)}i.forEach(function(b){if(1!==b.length)throw new e('"'+b.value+'" is not a valid detach path for a node',b.pos);if("*"===b[0].value)a.nodes.array.forEach(function(a){d(a),k.forEach(function(b){a.removeGroups(b),b.removeSubNodes(a)})});else{var c=a.findNodesByID(b[0].value);if(!c)throw new e('Unable to detach node instance "'+b[0].value+'". Instance does not exist',b[0].pos);d(c),k.forEach(function(a){c.removeGroups(a),a.removeSubNodes(c)})}})}catch(a){h=a}finally{g(h)}}},{"../KevScriptError":2}],24:[function(a,b,c){arguments[4][19][0].apply(c,arguments)},{dup:19}],25:[function(a,b,c){"use strict";b.exports=function(a,b,c){return{value:c.children.join(""),pos:c.value}}},{}],26:[function(a,b,c){"use strict";var d=a("../shortid");b.exports=function(a,b,c,e){var f,g=b[c.children[0].type](a,b,c.children[0]).value;return e.ctxVars[g]?f=e.ctxVars[g]:e.ctxVars[g]=f=d(),{value:f,pos:c.pos}}},{"../shortid":15}],27:[function(a,b,c){"use strict";b.exports=function(a,b,c,d,e){d.warnings.push({message:'"include" statement is deprecated',pos:c.pos}),e()}},{}],28:[function(a,b,c){"use strict";b.exports=function(a,b,c,d){var e=[];e.pos=c.pos;for(var f in c.children)e.push(b[c.children[f].type](a,b,c.children[f],d));return e.value=e.map(function(a){return a.value}).join("."),e}},{}],29:[function(a,b,c){"use strict";var d=a("../KevScriptError");b.exports=function(a,b,c,e,f){var g;try{var h=b[c.children[0].type](a,b,c.children[0],e,f),i=b[c.children[1].type](a,b,c.children[1],e,f),j=[];if(1!==i.length)throw new d("Move target path is invalid ("+i.value+")",i.pos);if("*"===i[0].value)j=a.nodes.array;else{var k=a.findNodesByID(i[0].value);if(!k)throw new d('Unable to find node instance "'+i[0].value+'". Move failed',i[0].pos);j.push(k)}h.forEach(function(b){if(1===b.length){if("*"===b[0].value)throw new d('Wildcard "*" cannot be used for nodes. Move failed',b[0].pos);var c=a.findNodesByID(b[0].value);if(!c)throw new d('Unable to move node instance "'+b[0].value+'". Instance does not exist',b[0].pos);j.forEach(function(a){a.addHosts(c),c.host=a})}else{if(2!==b.length)throw new d('"'+b.value+'" is not a valid move path for an instance',b.pos);var e=[];if("*"===b[0].value)e=a.nodes.array;else{var f=a.findNodesByID(b[0].value);if(!f)throw new d('Unable to find node instance "'+b[0].value+'". Move failed',b[0].pos);e.push(f)}var g=[];"*"===b[1].value?e.forEach(function(a){g=g.concat(a.components.array)}):e.forEach(function(a){var c=a.findComponentsByID(b[1].value);c&&g.push(c)}),j.forEach(function(a){g.forEach(function(b){a.addComponents(b)})})}})}catch(a){g=a}finally{f(g)}}},{"../KevScriptError":2}],30:[function(a,b,c){"use strict";b.exports=function(a,b,c,d){var e=[];e.pos=c.pos;for(var f in c.children)e.push(b[c.children[f].type](a,b,c.children[f],d));return e.value=e.map(function(a){return a.value}).join(", "),e}},{}],31:[function(a,b,c){"use strict";b.exports=function(a,b,c,d,e){console.log('"namespace" statement is deprecated'),e()}},{}],32:[function(a,b,c){(function(c){"use strict";var d="undefined"!=typeof window?window.KevoreeLibrary:"undefined"!=typeof c?c.KevoreeLibrary:null,e=a("../KevScriptError");b.exports=function(a,b,c,f,g){var h;try{var i=b[c.children[0].type](a,b,c.children[0],f,g),j=b[c.children[1].type](a,b,c.children[1],f,g);if(3!==i.length)throw new e('"'+i.value+'" is not a network path. Network path must look like "nodeName.netType.netName"',i[0].pos);var k=[];if("*"===i[0].value)k=a.nodes.array;else{var l=a.findNodesByID(i[0].value);if(!l)throw new e('Unable to find node instance "'+i[0].value+'". Network failed',i[0].pos);k.push(l)}var m=new d.factory.DefaultKevoreeFactory,n=[];"*"===i[1].value?k.forEach(function(a){n=n.concat(a.networkInformation.array)}):k.forEach(function(a){var b=a.findNetworkInformationByID(i[1].value);b?n.push(b):(b=m.createNetworkInfo(),b.name=i[1].value,a.addNetworkInformation(b),n.push(b))});var o=[];"*"===i[2].value?n.forEach(function(a){o=o.concat(a.values.array)}):n.forEach(function(a){var b=a.findValuesByID(i[2].value);b?o.push(b):(b=m.createValue(),b.name=i[2].value,a.addValues(b),o.push(b))}),o.forEach(function(a){a.value=j.value})}catch(a){h=a}finally{g(h)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../KevScriptError":2}],33:[function(a,b,c){"use strict";b.exports=function(a,b,c){return{value:"\n",pos:c.pos}}},{}],34:[function(a,b,c){"use strict";b.exports=function(a,b,c,d,e){d.warnings.push({message:'"pause" statement is deprecated',pos:c.pos}),e()}},{}],35:[function(a,b,c){"use strict";b.exports=function(a,b,c,d){var e="";for(var f in c.children)"string"==typeof c.children[f]?e+=c.children[f]:c.children[f]instanceof Object&&(e+=b[c.children[f].type](a,b,c.children[f],d).value);return{value:e,pos:c.pos}}},{}],36:[function(a,b,c){"use strict";b.exports=function(a,b,c){return{value:c.children[0].children.join(""),pos:c.pos}}},{}],37:[function(a,b,c){"use strict";var d=a("../KevScriptError");b.exports=function(a,b,c,e,f){function g(b){a.groups.array.forEach(function(a){var c=a.findFragmentDictionaryByID(b.name);c&&a.removeFragmentDictionary(c)}),a.hubs.array.forEach(function(a){var c=a.findFragmentDictionaryByID(b.name);c&&a.removeFragmentDictionary(c)}),b.components.array.forEach(function(b){b.provided.array.concat(b.required.array).forEach(function(b){b.bindings.array.forEach(function(b){b.hub.removeBindings(b),a.removeMBindings(b)})})}),b.groups.array.forEach(function(a){a.removeSubNodes(b)}),b.host&&b.host.removeHosts(b),a.removeNodes(b)}function h(b){b.subNodes.array.forEach(function(a){a.removeGroups(b)}),a.removeGroups(b)}function i(b){a.mBindings.array.forEach(function(c){c.hub.name===b.name&&(c.port&&c.port.removeBindings(c),c.hub&&c.hub.removeBindings(c),a.removeMBindings(c))}),a.removeHubs(b)}function j(b){b.provided.array.concat(b.required.array).forEach(function(b){b.bindings.array.forEach(function(b){b.port&&b.port.removeBindings(b),b.hub&&b.hub.removeBindings(b),a.removeMBindings(b)})}),b.eContainer().removeComponents(b)}function k(a,b){if("*"===a)b.components.array.forEach(j),b.hosts.array.forEach(g);else{var c=b.findComponentsByID(a);c&&j(c);var d=b.findHostsByID(a);d&&g(d)}}var l;try{var m=b[c.children[0].type](a,b,c.children[0],e,f);m.forEach(function(b){var c;if(1===b.length)if("*"===b[0].value)a.removeAllHubs(),a.removeAllNodes(),a.removeAllGroups(),a.removeAllMBindings();else{for(var e=a.nodes.array.concat(a.hubs.array).concat(a.groups.array),f=0;f<e.length;f++)if(e[f].name===b[0].value){c=e[f];break}if(!c)throw new d('Unable to remove instance "'+b[0].value+'". Instance does not exist',b[0].pos);"org.kevoree.ContainerNode"===c.metaClassName()?g(c):"org.kevoree.Group"===c.metaClassName()?h(c):"org.kevoree.Channel"===c.metaClassName()&&i(c)}else{if(2!==b.length)throw new d('Instance path for "remove" statements must be "name" or "hostName.childName". Instance path "'+b.value+'" is not valid',b[0].pos);if("*"===b[0].value)a.nodes.array.forEach(function(a){k(b[1].value,a)});else{var j=a.findNodesByID(b[0].value);if(!j)throw new d('Unable to remove instances from "'+b[0].value+'". Instance does not exist',b[0].pos);k(b[1].value,j)}}})}catch(a){l=a}finally{f(l)}}},{"../KevScriptError":2}],38:[function(a,b,c){arguments[4][19][0].apply(c,arguments)},{dup:19}],39:[function(a,b,c){(function(c){"use strict";function d(a,b,c){if(a){var d=a.findAttributesByID(b);if(d)return d.fragmentDependant===c}return!1}function e(a,b,c,e,h){var i=new f.factory.DefaultKevoreeFactory;if("*"===c.value)b.typeDefinition.dictionaryType&&b.typeDefinition.dictionaryType.attributes.array.forEach(function(b){if(b.fragmentDependant===h){var c=a.findValuesByID(b.name);c?c.value=e:(c=i.createValue(),c.name=b.name,c.value=e,a.addValues(c))}});else{var j=a.findValuesByID(c.value);if(j)j.value=e;else{if(!d(b.typeDefinition.dictionaryType,c.value,h))throw h?new g('Fragmented attribute "'+c.value+'" does not exist in type "'+b.typeDefinition.name+'". Set failed',c.pos):new g('Attribute "'+c.value+'" does not exist in type "'+b.typeDefinition.name+'". Set failed',c.pos);j=i.createValue(),j.name=c.value,j.value=e,a.addValues(j)}}}var f="undefined"!=typeof window?window.KevoreeLibrary:"undefined"!=typeof c?c.KevoreeLibrary:null,g=a("../KevScriptError");b.exports=function(a,b,c,d,h){var i,j,k,l,m,n=new f.factory.DefaultKevoreeFactory;try{if(2===c.children.length)if(i=b[c.children[0].type](a,b,c.children[0],d,h),k=b[c.children[1].type](a,b,c.children[1],d,h),3===i.length){var o=a.select("/nodes["+i[0].value+"]").array;if("*"!==i[0].value&&0===o.length)throw new g('There is no node named "'+i[0].value+'". Set failed',i[0].pos);m=[],o.forEach(function(a){var b=a.select("components["+i[1].value+"]").array;if("*"!==i[1].value&&0===b.length)throw new g('There is no component named "'+i[1].value+'" in node "'+i[0].value+'". Set failed',i[1].pos);m=m.concat(b)}),m.forEach(function(a){var b=a.dictionary;b||(a.dictionary=n.createDictionary().withGenerated_KMF_ID("0.0")),e(a.dictionary,a,i[2],k.value,!1)})}else{if(2!==i.length)throw new g('"'+i.value+'" is not a valid attribute path',i.pos);if(m=a.select("/nodes["+i[0].value+"]").array.concat(a.select("/groups["+i[0].value+"]").array).concat(a.select("/hubs["+i[0].value+"]").array),"*"!==i[0].value&&0===m.length)throw new g('There is no node, group or channel instance named "'+i[0].value+'". Set failed',i[0].pos);m.forEach(function(a){var b=a.dictionary;b||(a.dictionary=n.createDictionary().withGenerated_KMF_ID("0.0")),e(a.dictionary,a,i[1],k.value,!1)})}else if(3===c.children.length){if(i=b[c.children[0].type](a,b,c.children[0],d,h),j=b[c.children[1].type](a,b,c.children[1],d,h),k=b[c.children[2].type](a,b,c.children[2],d,h),3===i.length)throw new g('Setting fragmented attribute only makes sense for groups & channels. "'+i.value+"/"+j.value+'" can only refer to a component attribute. Set failed',i.pos);if(2!==i.length)throw new g('"'+i.value+'" is not a valid attribute path',i.pos);if(1!==j.length)throw new g('Invalid fragment path "'+j.value+'". Fragment path must be a node name. Set failed',j.pos);if(m=a.select("/groups["+i[0].value+"]").array.concat(a.select("/hubs["+i[0].value+"]").array),0===m.length&&"*"!==i[0].value)throw new g('There is no group or channel instance named "'+i[0].value+'". Set failed',i[0].pos);m.forEach(function(a){if("*"===j[0])a.fragmentDictionary.array.forEach(function(b){e(b,a,i[1],k.value,!0)});else{var b=a.findFragmentDictionaryByID(j[0].value);if(!b)throw new g('Unable to find fragment "'+j[0].value+'" for instance "'+i[0].value+'". Set failed',j[0].pos);e(b,a,i[1],k.value,!0)}})}}catch(a){l=a}finally{h(l)}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../KevScriptError":2}],40:[function(a,b,c){arguments[4][19][0].apply(c,arguments)},{dup:19}],41:[function(a,b,c){"use strict";var d=a("../KevScriptError");b.exports=function(a,b,c,e,f){var g;try{var h=b[c.children[0].type](a,b,c.children[0],e);h.forEach(function(b){var c=[];if(1===b.length)c=a.select("/nodes["+b[0].value+"]").array.concat(a.select("/groups["+b[0].value+"]").array).concat(a.select("/hubs["+b[0].value+"]").array);else{if(2!==b.length)throw new d('"'+b.value+'" is not a valid path for an instance. Start failed',b.pos);c=a.select("/nodes["+b[0].value+"]/components["+b[1].value+"]").array}if(b.indexOf("*")===-1&&0===c.length)throw new d('Unable to start "'+b.value+'". Instance does not exist',b.pos);c.forEach(function(a){a.started=!0})})}catch(a){g=a}finally{f(g)}}},{"../KevScriptError":2}],42:[function(a,b,c){"use strict";var d=a("../KevScriptError");b.exports=function(a,b,c,e,f){var g;try{var h=b[c.children[0].type](a,b,c.children[0],e);h.forEach(function(b){var c=[];if(1===b.length)c=a.select("/nodes["+b[0].value+"]").array.concat(a.select("/groups["+b[0].value+"]").array).concat(a.select("/hubs["+b[0].value+"]").array);else{if(2!==b.length)throw new d('"'+b.value+'" is not a valid path for an instance. Stop failed',b.pos);c=a.select("/nodes["+b[0].value+"]/components["+b[1].value+"]").array}if(b.indexOf("*")===-1&&0===c.length)throw new d('Unable to stop "'+b.value+'". Instance does not exist',b.pos);c.forEach(function(a){a.started=!1})})}catch(a){g=a}finally{f(g)}}},{"../KevScriptError":2}],43:[function(a,b,c){arguments[4][19][0].apply(c,arguments)},{dup:19}],44:[function(a,b,c){arguments[4][19][0].apply(c,arguments)},{dup:19}],45:[function(a,b,c){arguments[4][19][0].apply(c,arguments)},{dup:19}],46:[function(a,b,c){(function(c){"use strict";function d(a,b,c,d,e){return f(b,c,d,e).then(function(b){i.merge(a,b.model).applyOn(a);var c=a.findByPath(b.path);return c})}var e="undefined"!=typeof window?window.KevoreeLibrary:"undefined"!=typeof c?c.KevoreeLibrary:null,f=a("../typedef-resolver"),g=a("../KevScriptError"),h=new e.factory.DefaultKevoreeFactory,i=h.createModelCompare(),j="kevoree";b.exports=function(a,b,c,e,f){var h;try{h=b[c.children[0].type](a,b,c.children[0],e,f)}catch(a){return void f(a)}var i,k;c.children[1]&&(i=b[c.children[1].type](a,b,c.children[1],e,f));var l=h.value;if(1===l.split(".").length)k=j;else{var m=l.split(".");l=m.pop(),k=m.join(".")}if(i||(i={tdef:"LATEST",du:"RELEASE"}),"LATEST"===i.tdef)d(a,k,l,i,e.logger).then(function(a){f(null,a)}).catch(function(a){f(new g(a.message,c.pos))});else{var n="/packages["+k.split(".").join("]/packages[")+"]/typeDefinitions[name="+l+",version="+i.tdef+"]",o=a.findByPath(n);o?(e.logger.info("KevScript","Found "+k+"."+l+"/"+i.tdef+" in model"),f(null,o)):d(a,k,l,i,e.logger).then(function(a){f(null,a)}).catch(function(a){f(new g(a.message,c.pos))})}}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../KevScriptError":2,"../typedef-resolver":50}],47:[function(a,b,c){"use strict";b.exports=function(a,b,c){return{value:c.children.filter(function(a){return a.type}).map(function(c){return b[c.type](a,b,c).value}).join("."),pos:c.pos}}},{}],48:[function(a,b,c){"use strict";b.exports=function(a,b,c){var d={tdef:"LATEST",du:"RELEASE",pos:c.pos};return 1===c.children.length?"latest"!==c.children[0].type&&(d.tdef=c.children[0]):("latest"!==c.children[0].type&&(d.tdef=c.children[0]),"latest"===c.children[1].type&&(d.du="LATEST")),d}},{}],49:[function(a,b,c){arguments[4][19][0].apply(c,arguments)},{dup:19}],50:[function(a,b,c){(function(c){"use strict";function d(a,b,c){var d,e;return c.split(".").forEach(function(c,f,g){var h=a.createPackage();h.name=c,e?e.addPackages(h):b.addPackages(h),e=h,f+1===g.length&&(d=e)}),d}var e=a("kevoree-registry-api"),f="undefined"!=typeof window?window.KevoreeLibrary:"undefined"!=typeof c?c.KevoreeLibrary:null,g=a("q");b.exports=function(a,b,c,h){return g.Promise(function(d,f){return"LATEST"===c.tdef?(h.debug("KevScript","Looking for "+a+"."+b+"/LATEST in the registry..."),e.tdef({name:b.toString(),namespace:{name:a}}).latest().then(d).catch(f)):(h.debug("KevScript","Looking for "+a+"."+b+"/"+c.tdef+" in the registry..."),e.tdef({name:b.toString(),version:c.tdef,namespace:{name:a}}).get().then(d).catch(f))}).then(function(g){function i(c){var d=j.createModelCompare();return c.forEach(function(c){var e=k.loadModelFromString(c.model).get(0);d.merge(m,e).applyOn(m);var f=n.path()+"/deployUnits[name="+c.name+",version="+c.version+"]";m.select(f).array.forEach(function(d){h.debug("KevScript","DeployUnit "+c.name+"/"+c.version+"/"+c.platform+" added to "+a+"."+b+"/"+g.version),l.addDeployUnits(d)})}),{path:l.path(),model:m}}"LATEST"===c.tdef?h.info("KevScript",a+"."+b+"/LATEST resolved to version "+g.version):h.info("KevScript",a+"."+b+"/"+g.version+" resolved");var j=new f.factory.DefaultKevoreeFactory,k=j.createJSONLoader(),l=k.loadModelFromString(g.model).get(0),m=j.createContainerRoot();j.root(m);var n=d(j,m,a);n.addTypeDefinitions(l);var o=e.du({typeDefinition:{name:g.name,version:g.version,namespace:{name:a}}});return"LATEST"===c.du?o.latest().then(i).catch(function(d){throw 404===d.code?new Error("Unable to find "+c.du+" DeployUnits for "+a+"."+b+"/"+g.version):d}):o.release().then(i).catch(function(d){throw 404===d.code?new Error("Unable to find "+c.du+" DeployUnits for "+a+"."+b+"/"+g.version):d})}).catch(function(d){throw 404===d.code?new Error("Unable to find "+a+"."+b+"/"+c.tdef):d})}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"kevoree-registry-api":73,q:112}],51:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c,d){(0,g.default)(b)(a,c,d)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=a("./internal/eachOfLimit"),g=d(f);b.exports=c.default},{"./internal/eachOfLimit":54}],52:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(c,"__esModule",{value:!0});var e=a("./eachOfLimit"),f=d(e),g=a("./internal/doLimit"),h=d(g);c.default=(0,h.default)(f.default,1),b.exports=c.default},{"./eachOfLimit":51,"./internal/doLimit":53}],53:[function(a,b,c){"use strict";function d(a,b){return function(c,d,e){return a(c,b,d,e)}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=d,b.exports=c.default},{}],54:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){return function(b,c,d){function e(a){if(l-=1,a)j=!0,d(a);else{if(j&&l<=0)return d(null);f()}}function f(){for(;l<a&&!j;){var b=h();if(null===b)return j=!0,void(l<=0&&d(null));l+=1,c(b.value,b.key,(0,m.default)(e))}}if(d=(0,i.default)(d||g.default),a<=0||!b)return d(null);var h=(0,k.default)(b),j=!1,l=0;f()}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=a("lodash/noop"),g=d(f),h=a("./once"),i=d(h),j=a("./iterator"),k=d(j),l=a("./onlyOnce"),m=d(l);b.exports=c.default},{"./iterator":56,"./once":57,"./onlyOnce":58,"lodash/noop":104}],55:[function(a,b,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=function(a){return d&&a[d]&&a[d]()};var d="function"==typeof Symbol&&Symbol.iterator;b.exports=c.default},{}],56:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a){var b=-1,c=a.length;return function(){return++b<c?{value:a[b],key:b}:null}}function f(a){var b=-1;return function(){var c=a.next();return c.done?null:(b++,{value:c.value,key:b})}}function g(a){var b=(0,n.default)(a),c=-1,d=b.length;return function(){var e=b[++c];return c<d?{value:a[e],key:e}:null}}function h(a){if((0,j.default)(a))return e(a);var b=(0,l.default)(a);return b?f(b):g(a)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=h;var i=a("lodash/isArrayLike"),j=d(i),k=a("./getIterator"),l=d(k),m=a("lodash/keys"),n=d(m);b.exports=c.default},{"./getIterator":55,"lodash/isArrayLike":96,"lodash/keys":103}],57:[function(a,b,c){"use strict";function d(a){return function(){if(null!==a){var b=a;a=null,b.apply(this,arguments)}}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=d,b.exports=c.default},{}],58:[function(a,b,c){"use strict";function d(a){return function(){if(null===a)throw new Error("Callback was already called.");var b=a;a=null,b.apply(this,arguments)}}Object.defineProperty(c,"__esModule",{value:!0}),c.default=d,b.exports=c.default},{}],59:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b,c){c=c||g.default;var d=(0,i.default)(b)?[]:{};a(b,function(a,b,c){a((0,k.default)(function(a,e){e.length<=1&&(e=e[0]),d[b]=e,c(a)}))},function(a){c(a,d)})}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=a("lodash/noop"),g=d(f),h=a("lodash/isArrayLike"),i=d(h),j=a("lodash/rest"),k=d(j);b.exports=c.default},{"lodash/isArrayLike":96,"lodash/noop":104,"lodash/rest":105}],60:[function(a,b,c){"use strict";function d(a){return a&&a.__esModule?a:{default:a}}function e(a,b){(0,g.default)(i.default,a,b)}Object.defineProperty(c,"__esModule",{value:!0}),c.default=e;var f=a("./internal/parallel"),g=d(f),h=a("./eachOfSeries"),i=d(h);b.exports=c.default},{"./eachOfSeries":52,"./internal/parallel":59}],61:[function(a,b,c){"use strict";function d(){for(var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=0,c=a.length;b<c;++b)i[b]=a[b],j[a.charCodeAt(b)]=b;j["-".charCodeAt(0)]=62,j["_".charCodeAt(0)]=63}function e(a){var b,c,d,e,f,g,h=a.length;if(h%4>0)throw new Error("Invalid string. Length must be a multiple of 4");f="="===a[h-2]?2:"="===a[h-1]?1:0,g=new k(3*h/4-f),d=f>0?h-4:h;var i=0;for(b=0,c=0;b<d;b+=4,c+=3)e=j[a.charCodeAt(b)]<<18|j[a.charCodeAt(b+1)]<<12|j[a.charCodeAt(b+2)]<<6|j[a.charCodeAt(b+3)],g[i++]=e>>16&255,g[i++]=e>>8&255,g[i++]=255&e;return 2===f?(e=j[a.charCodeAt(b)]<<2|j[a.charCodeAt(b+1)]>>4,g[i++]=255&e):1===f&&(e=j[a.charCodeAt(b)]<<10|j[a.charCodeAt(b+1)]<<4|j[a.charCodeAt(b+2)]>>2,g[i++]=e>>8&255,g[i++]=255&e),g}function f(a){return i[a>>18&63]+i[a>>12&63]+i[a>>6&63]+i[63&a]}function g(a,b,c){for(var d,e=[],g=b;g<c;g+=3)d=(a[g]<<16)+(a[g+1]<<8)+a[g+2],e.push(f(d));return e.join("")}function h(a){for(var b,c=a.length,d=c%3,e="",f=[],h=16383,j=0,k=c-d;j<k;j+=h)f.push(g(a,j,j+h>k?k:j+h));return 1===d?(b=a[c-1],e+=i[b>>2],e+=i[b<<4&63],e+="=="):2===d&&(b=(a[c-2]<<8)+a[c-1],e+=i[b>>10],e+=i[b>>4&63],e+=i[b<<2&63],e+="="),f.push(e),f.join("")}c.toByteArray=e,c.fromByteArray=h;var i=[],j=[],k="undefined"!=typeof Uint8Array?Uint8Array:Array;d()},{}],62:[function(a,b,c){},{}],63:[function(a,b,c){(function(b){"use strict";var d=a("buffer"),e=d.Buffer,f=d.SlowBuffer,g=d.kMaxLength||2147483647;c.alloc=function(a,b,c){if("function"==typeof e.alloc)return e.alloc(a,b,c);if("number"==typeof c)throw new TypeError("encoding must not be number");if("number"!=typeof a)throw new TypeError("size must be a number");if(a>g)throw new RangeError("size is too large");var d=c,f=b;void 0===f&&(d=void 0,f=0);var h=new e(a);if("string"==typeof f)for(var i=new e(f,d),j=i.length,k=-1;++k<a;)h[k]=i[k%j];else h.fill(f);return h},c.allocUnsafe=function(a){if("function"==typeof e.allocUnsafe)return e.allocUnsafe(a);if("number"!=typeof a)throw new TypeError("size must be a number");if(a>g)throw new RangeError("size is too large");return new e(a)},c.from=function(a,c,d){if("function"==typeof e.from&&(!b.Uint8Array||Uint8Array.from!==e.from))return e.from(a,c,d);if("number"==typeof a)throw new TypeError('"value" argument must not be a number');if("string"==typeof a)return new e(a,c);if("undefined"!=typeof ArrayBuffer&&a instanceof ArrayBuffer){var f=c;if(1===arguments.length)return new e(a);"undefined"==typeof f&&(f=0);var g=d;if("undefined"==typeof g&&(g=a.byteLength-f),f>=a.byteLength)throw new RangeError("'offset' is out of bounds");if(g>a.byteLength-f)throw new RangeError("'length' is out of bounds");return new e(a.slice(f,f+g))}if(e.isBuffer(a)){var h=new e(a.length);return a.copy(h,0,0,a.length),h}if(a){if(Array.isArray(a)||"undefined"!=typeof ArrayBuffer&&a.buffer instanceof ArrayBuffer||"length"in a)return new e(a);if("Buffer"===a.type&&Array.isArray(a.data))return new e(a.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")},c.allocUnsafeSlow=function(a){if("function"==typeof e.allocUnsafeSlow)return e.allocUnsafeSlow(a);if("number"!=typeof a)throw new TypeError("size must be a number");if(a>=g)throw new RangeError("size is too large");return new f(a)}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{buffer:64}],64:[function(a,b,c){(function(b){"use strict";function d(){try{var a=new Uint8Array(1);return a.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===a.foo()&&"function"==typeof a.subarray&&0===a.subarray(1,1).byteLength}catch(a){return!1}}function e(){return g.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function f(a,b){if(e()<b)throw new RangeError("Invalid typed array length");return g.TYPED_ARRAY_SUPPORT?(a=new Uint8Array(b),a.__proto__=g.prototype):(null===a&&(a=new g(b)),a.length=b),a}function g(a,b,c){if(!(g.TYPED_ARRAY_SUPPORT||this instanceof g))return new g(a,b,c);if("number"==typeof a){if("string"==typeof b)throw new Error("If encoding is specified then the first argument must be a string");return k(this,a)}return h(this,a,b,c)}function h(a,b,c,d){if("number"==typeof b)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&b instanceof ArrayBuffer?n(a,b,c,d):"string"==typeof b?l(a,b,c):o(a,b)}function i(a){if("number"!=typeof a)throw new TypeError('"size" argument must be a number');if(a<0)throw new RangeError('"size" argument must not be negative')}function j(a,b,c,d){return i(b),b<=0?f(a,b):void 0!==c?"string"==typeof d?f(a,b).fill(c,d):f(a,b).fill(c):f(a,b)}function k(a,b){if(i(b),a=f(a,b<0?0:0|p(b)),!g.TYPED_ARRAY_SUPPORT)for(var c=0;c<b;++c)a[c]=0;return a}function l(a,b,c){if("string"==typeof c&&""!==c||(c="utf8"),!g.isEncoding(c))throw new TypeError('"encoding" must be a valid string encoding');var d=0|r(b,c);a=f(a,d);var e=a.write(b,c);return e!==d&&(a=a.slice(0,e)),a}function m(a,b){var c=b.length<0?0:0|p(b.length);a=f(a,c);for(var d=0;d<c;d+=1)a[d]=255&b[d];return a}function n(a,b,c,d){if(b.byteLength,c<0||b.byteLength<c)throw new RangeError("'offset' is out of bounds");if(b.byteLength<c+(d||0))throw new RangeError("'length' is out of bounds");return b=void 0===c&&void 0===d?new Uint8Array(b):void 0===d?new Uint8Array(b,c):new Uint8Array(b,c,d),g.TYPED_ARRAY_SUPPORT?(a=b,a.__proto__=g.prototype):a=m(a,b),a}function o(a,b){if(g.isBuffer(b)){var c=0|p(b.length);return a=f(a,c),0===a.length?a:(b.copy(a,0,0,c),a)}if(b){if("undefined"!=typeof ArrayBuffer&&b.buffer instanceof ArrayBuffer||"length"in b)return"number"!=typeof b.length||Y(b.length)?f(a,0):m(a,b);if("Buffer"===b.type&&_(b.data))return m(a,b.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(a){if(a>=e())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+e().toString(16)+" bytes");return 0|a}function q(a){return+a!=a&&(a=0),g.alloc(+a)}function r(a,b){if(g.isBuffer(a))return a.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(a)||a instanceof ArrayBuffer))return a.byteLength;"string"!=typeof a&&(a=""+a);var c=a.length;if(0===c)return 0;for(var d=!1;;)switch(b){case"ascii":case"latin1":case"binary":return c;case"utf8":case"utf-8":case void 0:return T(a).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*c;case"hex":return c>>>1;case"base64":return W(a).length;default:if(d)return T(a).length;b=(""+b).toLowerCase(),d=!0}}function s(a,b,c){var d=!1;if((void 0===b||b<0)&&(b=0),b>this.length)return"";if((void 0===c||c>this.length)&&(c=this.length),c<=0)return"";if(c>>>=0,b>>>=0,c<=b)return"";for(a||(a="utf8");;)switch(a){case"hex":return H(this,b,c);case"utf8":case"utf-8":return D(this,b,c);case"ascii":return F(this,b,c);case"latin1":case"binary":return G(this,b,c);case"base64":return C(this,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,b,c);default:if(d)throw new TypeError("Unknown encoding: "+a);a=(a+"").toLowerCase(),d=!0}}function t(a,b,c){var d=a[b];a[b]=a[c],a[c]=d}function u(a,b,c,d,e){if(0===a.length)return-1;if("string"==typeof c?(d=c,c=0):c>2147483647?c=2147483647:c<-2147483648&&(c=-2147483648),c=+c,isNaN(c)&&(c=e?0:a.length-1),c<0&&(c=a.length+c),c>=a.length){if(e)return-1;c=a.length-1}else if(c<0){if(!e)return-1;c=0}if("string"==typeof b&&(b=g.from(b,d)),g.isBuffer(b))return 0===b.length?-1:v(a,b,c,d,e);if("number"==typeof b)return b=255&b,g.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?e?Uint8Array.prototype.indexOf.call(a,b,c):Uint8Array.prototype.lastIndexOf.call(a,b,c):v(a,[b],c,d,e);throw new TypeError("val must be string, number or Buffer")}function v(a,b,c,d,e){function f(a,b){return 1===g?a[b]:a.readUInt16BE(b*g)}var g=1,h=a.length,i=b.length;if(void 0!==d&&(d=String(d).toLowerCase(),"ucs2"===d||"ucs-2"===d||"utf16le"===d||"utf-16le"===d)){if(a.length<2||b.length<2)return-1;g=2,h/=2,i/=2,c/=2}var j;if(e){var k=-1;for(j=c;j<h;j++)if(f(a,j)===f(b,k===-1?0:j-k)){if(k===-1&&(k=j),j-k+1===i)return k*g}else k!==-1&&(j-=j-k),k=-1}else for(c+i>h&&(c=h-i),j=c;j>=0;j--){for(var l=!0,m=0;m<i;m++)if(f(a,j+m)!==f(b,m)){
l=!1;break}if(l)return j}return-1}function w(a,b,c,d){c=Number(c)||0;var e=a.length-c;d?(d=Number(d),d>e&&(d=e)):d=e;var f=b.length;if(f%2!==0)throw new TypeError("Invalid hex string");d>f/2&&(d=f/2);for(var g=0;g<d;++g){var h=parseInt(b.substr(2*g,2),16);if(isNaN(h))return g;a[c+g]=h}return g}function x(a,b,c,d){return X(T(b,a.length-c),a,c,d)}function y(a,b,c,d){return X(U(b),a,c,d)}function z(a,b,c,d){return y(a,b,c,d)}function A(a,b,c,d){return X(W(b),a,c,d)}function B(a,b,c,d){return X(V(b,a.length-c),a,c,d)}function C(a,b,c){return 0===b&&c===a.length?Z.fromByteArray(a):Z.fromByteArray(a.slice(b,c))}function D(a,b,c){c=Math.min(a.length,c);for(var d=[],e=b;e<c;){var f=a[e],g=null,h=f>239?4:f>223?3:f>191?2:1;if(e+h<=c){var i,j,k,l;switch(h){case 1:f<128&&(g=f);break;case 2:i=a[e+1],128===(192&i)&&(l=(31&f)<<6|63&i,l>127&&(g=l));break;case 3:i=a[e+1],j=a[e+2],128===(192&i)&&128===(192&j)&&(l=(15&f)<<12|(63&i)<<6|63&j,l>2047&&(l<55296||l>57343)&&(g=l));break;case 4:i=a[e+1],j=a[e+2],k=a[e+3],128===(192&i)&&128===(192&j)&&128===(192&k)&&(l=(15&f)<<18|(63&i)<<12|(63&j)<<6|63&k,l>65535&&l<1114112&&(g=l))}}null===g?(g=65533,h=1):g>65535&&(g-=65536,d.push(g>>>10&1023|55296),g=56320|1023&g),d.push(g),e+=h}return E(d)}function E(a){var b=a.length;if(b<=aa)return String.fromCharCode.apply(String,a);for(var c="",d=0;d<b;)c+=String.fromCharCode.apply(String,a.slice(d,d+=aa));return c}function F(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(127&a[e]);return d}function G(a,b,c){var d="";c=Math.min(a.length,c);for(var e=b;e<c;++e)d+=String.fromCharCode(a[e]);return d}function H(a,b,c){var d=a.length;(!b||b<0)&&(b=0),(!c||c<0||c>d)&&(c=d);for(var e="",f=b;f<c;++f)e+=S(a[f]);return e}function I(a,b,c){for(var d=a.slice(b,c),e="",f=0;f<d.length;f+=2)e+=String.fromCharCode(d[f]+256*d[f+1]);return e}function J(a,b,c){if(a%1!==0||a<0)throw new RangeError("offset is not uint");if(a+b>c)throw new RangeError("Trying to access beyond buffer length")}function K(a,b,c,d,e,f){if(!g.isBuffer(a))throw new TypeError('"buffer" argument must be a Buffer instance');if(b>e||b<f)throw new RangeError('"value" argument is out of bounds');if(c+d>a.length)throw new RangeError("Index out of range")}function L(a,b,c,d){b<0&&(b=65535+b+1);for(var e=0,f=Math.min(a.length-c,2);e<f;++e)a[c+e]=(b&255<<8*(d?e:1-e))>>>8*(d?e:1-e)}function M(a,b,c,d){b<0&&(b=4294967295+b+1);for(var e=0,f=Math.min(a.length-c,4);e<f;++e)a[c+e]=b>>>8*(d?e:3-e)&255}function N(a,b,c,d,e,f){if(c+d>a.length)throw new RangeError("Index out of range");if(c<0)throw new RangeError("Index out of range")}function O(a,b,c,d,e){return e||N(a,b,c,4,3.4028234663852886e38,-3.4028234663852886e38),$.write(a,b,c,d,23,4),c+4}function P(a,b,c,d,e){return e||N(a,b,c,8,1.7976931348623157e308,-1.7976931348623157e308),$.write(a,b,c,d,52,8),c+8}function Q(a){if(a=R(a).replace(ba,""),a.length<2)return"";for(;a.length%4!==0;)a+="=";return a}function R(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function S(a){return a<16?"0"+a.toString(16):a.toString(16)}function T(a,b){b=b||1/0;for(var c,d=a.length,e=null,f=[],g=0;g<d;++g){if(c=a.charCodeAt(g),c>55295&&c<57344){if(!e){if(c>56319){(b-=3)>-1&&f.push(239,191,189);continue}if(g+1===d){(b-=3)>-1&&f.push(239,191,189);continue}e=c;continue}if(c<56320){(b-=3)>-1&&f.push(239,191,189),e=c;continue}c=(e-55296<<10|c-56320)+65536}else e&&(b-=3)>-1&&f.push(239,191,189);if(e=null,c<128){if((b-=1)<0)break;f.push(c)}else if(c<2048){if((b-=2)<0)break;f.push(c>>6|192,63&c|128)}else if(c<65536){if((b-=3)<0)break;f.push(c>>12|224,c>>6&63|128,63&c|128)}else{if(!(c<1114112))throw new Error("Invalid code point");if((b-=4)<0)break;f.push(c>>18|240,c>>12&63|128,c>>6&63|128,63&c|128)}}return f}function U(a){for(var b=[],c=0;c<a.length;++c)b.push(255&a.charCodeAt(c));return b}function V(a,b){for(var c,d,e,f=[],g=0;g<a.length&&!((b-=2)<0);++g)c=a.charCodeAt(g),d=c>>8,e=c%256,f.push(e),f.push(d);return f}function W(a){return Z.toByteArray(Q(a))}function X(a,b,c,d){for(var e=0;e<d&&!(e+c>=b.length||e>=a.length);++e)b[e+c]=a[e];return e}function Y(a){return a!==a}var Z=a("base64-js"),$=a("ieee754"),_=a("isarray");c.Buffer=g,c.SlowBuffer=q,c.INSPECT_MAX_BYTES=50,g.TYPED_ARRAY_SUPPORT=void 0!==b.TYPED_ARRAY_SUPPORT?b.TYPED_ARRAY_SUPPORT:d(),c.kMaxLength=e(),g.poolSize=8192,g._augment=function(a){return a.__proto__=g.prototype,a},g.from=function(a,b,c){return h(null,a,b,c)},g.TYPED_ARRAY_SUPPORT&&(g.prototype.__proto__=Uint8Array.prototype,g.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&g[Symbol.species]===g&&Object.defineProperty(g,Symbol.species,{value:null,configurable:!0})),g.alloc=function(a,b,c){return j(null,a,b,c)},g.allocUnsafe=function(a){return k(null,a)},g.allocUnsafeSlow=function(a){return k(null,a)},g.isBuffer=function(a){return!(null==a||!a._isBuffer)},g.compare=function(a,b){if(!g.isBuffer(a)||!g.isBuffer(b))throw new TypeError("Arguments must be Buffers");if(a===b)return 0;for(var c=a.length,d=b.length,e=0,f=Math.min(c,d);e<f;++e)if(a[e]!==b[e]){c=a[e],d=b[e];break}return c<d?-1:d<c?1:0},g.isEncoding=function(a){switch(String(a).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},g.concat=function(a,b){if(!_(a))throw new TypeError('"list" argument must be an Array of Buffers');if(0===a.length)return g.alloc(0);var c;if(void 0===b)for(b=0,c=0;c<a.length;++c)b+=a[c].length;var d=g.allocUnsafe(b),e=0;for(c=0;c<a.length;++c){var f=a[c];if(!g.isBuffer(f))throw new TypeError('"list" argument must be an Array of Buffers');f.copy(d,e),e+=f.length}return d},g.byteLength=r,g.prototype._isBuffer=!0,g.prototype.swap16=function(){var a=this.length;if(a%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var b=0;b<a;b+=2)t(this,b,b+1);return this},g.prototype.swap32=function(){var a=this.length;if(a%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var b=0;b<a;b+=4)t(this,b,b+3),t(this,b+1,b+2);return this},g.prototype.swap64=function(){var a=this.length;if(a%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var b=0;b<a;b+=8)t(this,b,b+7),t(this,b+1,b+6),t(this,b+2,b+5),t(this,b+3,b+4);return this},g.prototype.toString=function(){var a=0|this.length;return 0===a?"":0===arguments.length?D(this,0,a):s.apply(this,arguments)},g.prototype.equals=function(a){if(!g.isBuffer(a))throw new TypeError("Argument must be a Buffer");return this===a||0===g.compare(this,a)},g.prototype.inspect=function(){var a="",b=c.INSPECT_MAX_BYTES;return this.length>0&&(a=this.toString("hex",0,b).match(/.{2}/g).join(" "),this.length>b&&(a+=" ... ")),"<Buffer "+a+">"},g.prototype.compare=function(a,b,c,d,e){if(!g.isBuffer(a))throw new TypeError("Argument must be a Buffer");if(void 0===b&&(b=0),void 0===c&&(c=a?a.length:0),void 0===d&&(d=0),void 0===e&&(e=this.length),b<0||c>a.length||d<0||e>this.length)throw new RangeError("out of range index");if(d>=e&&b>=c)return 0;if(d>=e)return-1;if(b>=c)return 1;if(b>>>=0,c>>>=0,d>>>=0,e>>>=0,this===a)return 0;for(var f=e-d,h=c-b,i=Math.min(f,h),j=this.slice(d,e),k=a.slice(b,c),l=0;l<i;++l)if(j[l]!==k[l]){f=j[l],h=k[l];break}return f<h?-1:h<f?1:0},g.prototype.includes=function(a,b,c){return this.indexOf(a,b,c)!==-1},g.prototype.indexOf=function(a,b,c){return u(this,a,b,c,!0)},g.prototype.lastIndexOf=function(a,b,c){return u(this,a,b,c,!1)},g.prototype.write=function(a,b,c,d){if(void 0===b)d="utf8",c=this.length,b=0;else if(void 0===c&&"string"==typeof b)d=b,c=this.length,b=0;else{if(!isFinite(b))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");b=0|b,isFinite(c)?(c=0|c,void 0===d&&(d="utf8")):(d=c,c=void 0)}var e=this.length-b;if((void 0===c||c>e)&&(c=e),a.length>0&&(c<0||b<0)||b>this.length)throw new RangeError("Attempt to write outside buffer bounds");d||(d="utf8");for(var f=!1;;)switch(d){case"hex":return w(this,a,b,c);case"utf8":case"utf-8":return x(this,a,b,c);case"ascii":return y(this,a,b,c);case"latin1":case"binary":return z(this,a,b,c);case"base64":return A(this,a,b,c);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,a,b,c);default:if(f)throw new TypeError("Unknown encoding: "+d);d=(""+d).toLowerCase(),f=!0}},g.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var aa=4096;g.prototype.slice=function(a,b){var c=this.length;a=~~a,b=void 0===b?c:~~b,a<0?(a+=c,a<0&&(a=0)):a>c&&(a=c),b<0?(b+=c,b<0&&(b=0)):b>c&&(b=c),b<a&&(b=a);var d;if(g.TYPED_ARRAY_SUPPORT)d=this.subarray(a,b),d.__proto__=g.prototype;else{var e=b-a;d=new g(e,void 0);for(var f=0;f<e;++f)d[f]=this[f+a]}return d},g.prototype.readUIntLE=function(a,b,c){a=0|a,b=0|b,c||J(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return d},g.prototype.readUIntBE=function(a,b,c){a=0|a,b=0|b,c||J(a,b,this.length);for(var d=this[a+--b],e=1;b>0&&(e*=256);)d+=this[a+--b]*e;return d},g.prototype.readUInt8=function(a,b){return b||J(a,1,this.length),this[a]},g.prototype.readUInt16LE=function(a,b){return b||J(a,2,this.length),this[a]|this[a+1]<<8},g.prototype.readUInt16BE=function(a,b){return b||J(a,2,this.length),this[a]<<8|this[a+1]},g.prototype.readUInt32LE=function(a,b){return b||J(a,4,this.length),(this[a]|this[a+1]<<8|this[a+2]<<16)+16777216*this[a+3]},g.prototype.readUInt32BE=function(a,b){return b||J(a,4,this.length),16777216*this[a]+(this[a+1]<<16|this[a+2]<<8|this[a+3])},g.prototype.readIntLE=function(a,b,c){a=0|a,b=0|b,c||J(a,b,this.length);for(var d=this[a],e=1,f=0;++f<b&&(e*=256);)d+=this[a+f]*e;return e*=128,d>=e&&(d-=Math.pow(2,8*b)),d},g.prototype.readIntBE=function(a,b,c){a=0|a,b=0|b,c||J(a,b,this.length);for(var d=b,e=1,f=this[a+--d];d>0&&(e*=256);)f+=this[a+--d]*e;return e*=128,f>=e&&(f-=Math.pow(2,8*b)),f},g.prototype.readInt8=function(a,b){return b||J(a,1,this.length),128&this[a]?(255-this[a]+1)*-1:this[a]},g.prototype.readInt16LE=function(a,b){b||J(a,2,this.length);var c=this[a]|this[a+1]<<8;return 32768&c?4294901760|c:c},g.prototype.readInt16BE=function(a,b){b||J(a,2,this.length);var c=this[a+1]|this[a]<<8;return 32768&c?4294901760|c:c},g.prototype.readInt32LE=function(a,b){return b||J(a,4,this.length),this[a]|this[a+1]<<8|this[a+2]<<16|this[a+3]<<24},g.prototype.readInt32BE=function(a,b){return b||J(a,4,this.length),this[a]<<24|this[a+1]<<16|this[a+2]<<8|this[a+3]},g.prototype.readFloatLE=function(a,b){return b||J(a,4,this.length),$.read(this,a,!0,23,4)},g.prototype.readFloatBE=function(a,b){return b||J(a,4,this.length),$.read(this,a,!1,23,4)},g.prototype.readDoubleLE=function(a,b){return b||J(a,8,this.length),$.read(this,a,!0,52,8)},g.prototype.readDoubleBE=function(a,b){return b||J(a,8,this.length),$.read(this,a,!1,52,8)},g.prototype.writeUIntLE=function(a,b,c,d){if(a=+a,b=0|b,c=0|c,!d){var e=Math.pow(2,8*c)-1;K(this,a,b,c,e,0)}var f=1,g=0;for(this[b]=255&a;++g<c&&(f*=256);)this[b+g]=a/f&255;return b+c},g.prototype.writeUIntBE=function(a,b,c,d){if(a=+a,b=0|b,c=0|c,!d){var e=Math.pow(2,8*c)-1;K(this,a,b,c,e,0)}var f=c-1,g=1;for(this[b+f]=255&a;--f>=0&&(g*=256);)this[b+f]=a/g&255;return b+c},g.prototype.writeUInt8=function(a,b,c){return a=+a,b=0|b,c||K(this,a,b,1,255,0),g.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),this[b]=255&a,b+1},g.prototype.writeUInt16LE=function(a,b,c){return a=+a,b=0|b,c||K(this,a,b,2,65535,0),g.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):L(this,a,b,!0),b+2},g.prototype.writeUInt16BE=function(a,b,c){return a=+a,b=0|b,c||K(this,a,b,2,65535,0),g.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):L(this,a,b,!1),b+2},g.prototype.writeUInt32LE=function(a,b,c){return a=+a,b=0|b,c||K(this,a,b,4,4294967295,0),g.TYPED_ARRAY_SUPPORT?(this[b+3]=a>>>24,this[b+2]=a>>>16,this[b+1]=a>>>8,this[b]=255&a):M(this,a,b,!0),b+4},g.prototype.writeUInt32BE=function(a,b,c){return a=+a,b=0|b,c||K(this,a,b,4,4294967295,0),g.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):M(this,a,b,!1),b+4},g.prototype.writeIntLE=function(a,b,c,d){if(a=+a,b=0|b,!d){var e=Math.pow(2,8*c-1);K(this,a,b,c,e-1,-e)}var f=0,g=1,h=0;for(this[b]=255&a;++f<c&&(g*=256);)a<0&&0===h&&0!==this[b+f-1]&&(h=1),this[b+f]=(a/g>>0)-h&255;return b+c},g.prototype.writeIntBE=function(a,b,c,d){if(a=+a,b=0|b,!d){var e=Math.pow(2,8*c-1);K(this,a,b,c,e-1,-e)}var f=c-1,g=1,h=0;for(this[b+f]=255&a;--f>=0&&(g*=256);)a<0&&0===h&&0!==this[b+f+1]&&(h=1),this[b+f]=(a/g>>0)-h&255;return b+c},g.prototype.writeInt8=function(a,b,c){return a=+a,b=0|b,c||K(this,a,b,1,127,-128),g.TYPED_ARRAY_SUPPORT||(a=Math.floor(a)),a<0&&(a=255+a+1),this[b]=255&a,b+1},g.prototype.writeInt16LE=function(a,b,c){return a=+a,b=0|b,c||K(this,a,b,2,32767,-32768),g.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8):L(this,a,b,!0),b+2},g.prototype.writeInt16BE=function(a,b,c){return a=+a,b=0|b,c||K(this,a,b,2,32767,-32768),g.TYPED_ARRAY_SUPPORT?(this[b]=a>>>8,this[b+1]=255&a):L(this,a,b,!1),b+2},g.prototype.writeInt32LE=function(a,b,c){return a=+a,b=0|b,c||K(this,a,b,4,2147483647,-2147483648),g.TYPED_ARRAY_SUPPORT?(this[b]=255&a,this[b+1]=a>>>8,this[b+2]=a>>>16,this[b+3]=a>>>24):M(this,a,b,!0),b+4},g.prototype.writeInt32BE=function(a,b,c){return a=+a,b=0|b,c||K(this,a,b,4,2147483647,-2147483648),a<0&&(a=4294967295+a+1),g.TYPED_ARRAY_SUPPORT?(this[b]=a>>>24,this[b+1]=a>>>16,this[b+2]=a>>>8,this[b+3]=255&a):M(this,a,b,!1),b+4},g.prototype.writeFloatLE=function(a,b,c){return O(this,a,b,!0,c)},g.prototype.writeFloatBE=function(a,b,c){return O(this,a,b,!1,c)},g.prototype.writeDoubleLE=function(a,b,c){return P(this,a,b,!0,c)},g.prototype.writeDoubleBE=function(a,b,c){return P(this,a,b,!1,c)},g.prototype.copy=function(a,b,c,d){if(c||(c=0),d||0===d||(d=this.length),b>=a.length&&(b=a.length),b||(b=0),d>0&&d<c&&(d=c),d===c)return 0;if(0===a.length||0===this.length)return 0;if(b<0)throw new RangeError("targetStart out of bounds");if(c<0||c>=this.length)throw new RangeError("sourceStart out of bounds");if(d<0)throw new RangeError("sourceEnd out of bounds");d>this.length&&(d=this.length),a.length-b<d-c&&(d=a.length-b+c);var e,f=d-c;if(this===a&&c<b&&b<d)for(e=f-1;e>=0;--e)a[e+b]=this[e+c];else if(f<1e3||!g.TYPED_ARRAY_SUPPORT)for(e=0;e<f;++e)a[e+b]=this[e+c];else Uint8Array.prototype.set.call(a,this.subarray(c,c+f),b);return f},g.prototype.fill=function(a,b,c,d){if("string"==typeof a){if("string"==typeof b?(d=b,b=0,c=this.length):"string"==typeof c&&(d=c,c=this.length),1===a.length){var e=a.charCodeAt(0);e<256&&(a=e)}if(void 0!==d&&"string"!=typeof d)throw new TypeError("encoding must be a string");if("string"==typeof d&&!g.isEncoding(d))throw new TypeError("Unknown encoding: "+d)}else"number"==typeof a&&(a=255&a);if(b<0||this.length<b||this.length<c)throw new RangeError("Out of range index");if(c<=b)return this;b>>>=0,c=void 0===c?this.length:c>>>0,a||(a=0);var f;if("number"==typeof a)for(f=b;f<c;++f)this[f]=a;else{var h=g.isBuffer(a)?a:T(new g(a,d).toString()),i=h.length;for(f=0;f<c-b;++f)this[f+b]=h[f%i]}return this};var ba=/[^+\/0-9A-Za-z-_]/g}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"base64-js":61,ieee754:69,isarray:72}],65:[function(a,b,c){b.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],66:[function(a,b,c){(function(a){function b(a){return Array.isArray?Array.isArray(a):"[object Array]"===q(a)}function d(a){return"boolean"==typeof a}function e(a){return null===a}function f(a){return null==a}function g(a){return"number"==typeof a}function h(a){return"string"==typeof a}function i(a){return"symbol"==typeof a}function j(a){return void 0===a}function k(a){return"[object RegExp]"===q(a)}function l(a){return"object"==typeof a&&null!==a}function m(a){return"[object Date]"===q(a)}function n(a){return"[object Error]"===q(a)||a instanceof Error}function o(a){return"function"==typeof a}function p(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||"undefined"==typeof a}function q(a){return Object.prototype.toString.call(a)}c.isArray=b,c.isBoolean=d,c.isNull=e,c.isNullOrUndefined=f,c.isNumber=g,c.isString=h,c.isSymbol=i,c.isUndefined=j,c.isRegExp=k,c.isObject=l,c.isDate=m,c.isError=n,c.isFunction=o,c.isPrimitive=p,c.isBuffer=a.isBuffer}).call(this,{isBuffer:a("../../is-buffer/index.js")})},{"../../is-buffer/index.js":71}],67:[function(a,b,c){function d(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function e(a){return"function"==typeof a}function f(a){return"number"==typeof a}function g(a){return"object"==typeof a&&null!==a}function h(a){return void 0===a}b.exports=d,d.EventEmitter=d,d.prototype._events=void 0,d.prototype._maxListeners=void 0,d.defaultMaxListeners=10,d.prototype.setMaxListeners=function(a){if(!f(a)||a<0||isNaN(a))throw TypeError("n must be a positive number");return this._maxListeners=a,this},d.prototype.emit=function(a){var b,c,d,f,i,j;if(this._events||(this._events={}),"error"===a&&(!this._events.error||g(this._events.error)&&!this._events.error.length)){if(b=arguments[1],b instanceof Error)throw b;var k=new Error('Uncaught, unspecified "error" event. ('+b+")");throw k.context=b,k}if(c=this._events[a],h(c))return!1;if(e(c))switch(arguments.length){case 1:c.call(this);break;case 2:c.call(this,arguments[1]);break;case 3:c.call(this,arguments[1],arguments[2]);break;default:f=Array.prototype.slice.call(arguments,1),c.apply(this,f)}else if(g(c))for(f=Array.prototype.slice.call(arguments,1),j=c.slice(),d=j.length,i=0;i<d;i++)j[i].apply(this,f);return!0},d.prototype.addListener=function(a,b){var c;if(!e(b))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",a,e(b.listener)?b.listener:b),this._events[a]?g(this._events[a])?this._events[a].push(b):this._events[a]=[this._events[a],b]:this._events[a]=b,g(this._events[a])&&!this._events[a].warned&&(c=h(this._maxListeners)?d.defaultMaxListeners:this._maxListeners,c&&c>0&&this._events[a].length>c&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),"function"==typeof console.trace&&console.trace())),this},d.prototype.on=d.prototype.addListener,d.prototype.once=function(a,b){function c(){this.removeListener(a,c),d||(d=!0,b.apply(this,arguments))}if(!e(b))throw TypeError("listener must be a function");var d=!1;return c.listener=b,this.on(a,c),this},d.prototype.removeListener=function(a,b){var c,d,f,h;if(!e(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(c=this._events[a],f=c.length,d=-1,c===b||e(c.listener)&&c.listener===b)delete this._events[a],this._events.removeListener&&this.emit("removeListener",a,b);else if(g(c)){for(h=f;h-- >0;)if(c[h]===b||c[h].listener&&c[h].listener===b){d=h;break}if(d<0)return this;1===c.length?(c.length=0,delete this._events[a]):c.splice(d,1),this._events.removeListener&&this.emit("removeListener",a,b)}return this},d.prototype.removeAllListeners=function(a){var b,c;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[a]&&delete this._events[a],this;if(0===arguments.length){for(b in this._events)"removeListener"!==b&&this.removeAllListeners(b);return this.removeAllListeners("removeListener"),this._events={},this}if(c=this._events[a],e(c))this.removeListener(a,c);else if(c)for(;c.length;)this.removeListener(a,c[c.length-1]);return delete this._events[a],this},d.prototype.listeners=function(a){var b;return b=this._events&&this._events[a]?e(this._events[a])?[this._events[a]]:this._events[a].slice():[]},d.prototype.listenerCount=function(a){if(this._events){var b=this._events[a];if(e(b))return 1;if(b)return b.length}return 0},d.listenerCount=function(a,b){return a.listenerCount(b)}},{}],68:[function(a,b,c){var d=a("http"),e=b.exports;for(var f in d)d.hasOwnProperty(f)&&(e[f]=d[f]);e.request=function(a,b){return a||(a={}),a.scheme="https",a.protocol="https:",d.request.call(this,a,b)}},{http:124}],69:[function(a,b,c){c.read=function(a,b,c,d,e){var f,g,h=8*e-d-1,i=(1<<h)-1,j=i>>1,k=-7,l=c?e-1:0,m=c?-1:1,n=a[b+l];for(l+=m,f=n&(1<<-k)-1,n>>=-k,k+=h;k>0;f=256*f+a[b+l],l+=m,k-=8);for(g=f&(1<<-k)-1,f>>=-k,k+=d;k>0;g=256*g+a[b+l],l+=m,k-=8);if(0===f)f=1-j;else{if(f===i)return g?NaN:(n?-1:1)*(1/0);g+=Math.pow(2,d),f-=j}return(n?-1:1)*g*Math.pow(2,f-d)},c.write=function(a,b,c,d,e,f){var g,h,i,j=8*f-e-1,k=(1<<j)-1,l=k>>1,m=23===e?Math.pow(2,-24)-Math.pow(2,-77):0,n=d?0:f-1,o=d?1:-1,p=b<0||0===b&&1/b<0?1:0;for(b=Math.abs(b),isNaN(b)||b===1/0?(h=isNaN(b)?1:0,g=k):(g=Math.floor(Math.log(b)/Math.LN2),b*(i=Math.pow(2,-g))<1&&(g--,i*=2),b+=g+l>=1?m/i:m*Math.pow(2,1-l),b*i>=2&&(g++,i/=2),g+l>=k?(h=0,g=k):g+l>=1?(h=(b*i-1)*Math.pow(2,e),g+=l):(h=b*Math.pow(2,l-1)*Math.pow(2,e),g=0));e>=8;a[c+n]=255&h,n+=o,h/=256,e-=8);for(g=g<<e|h,j+=e;j>0;a[c+n]=255&g,n+=o,g/=256,j-=8);a[c+n-o]|=128*p}},{}],70:[function(a,b,c){"function"==typeof Object.create?b.exports=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})}:b.exports=function(a,b){a.super_=b;var c=function(){};c.prototype=b.prototype,a.prototype=new c,a.prototype.constructor=a}},{}],71:[function(a,b,c){function d(a){return!!a.constructor&&"function"==typeof a.constructor.isBuffer&&a.constructor.isBuffer(a)}function e(a){return"function"==typeof a.readFloatLE&&"function"==typeof a.slice&&d(a.slice(0,0))}b.exports=function(a){return null!=a&&(d(a)||e(a)||!!a._isBuffer)}},{}],72:[function(a,b,c){var d={}.toString;b.exports=Array.isArray||function(a){return"[object Array]"==d.call(a)}},{}],73:[function(a,b,c){c.du=a("./lib/du"),c.dus=a("./lib/dus"),c.auth=a("./lib/auth"),c.tdef=a("./lib/tdef"),c.tdefs=a("./lib/tdefs"),c.whoami=a("./lib/whoami"),c.refresh=a("./lib/refresh"),c.namespace=a("./lib/namespace"),c.namespaces=a("./lib/namespaces")},{"./lib/auth":74,"./lib/du":75,"./lib/dus":76,"./lib/namespace":77,"./lib/namespaces":78,"./lib/refresh":79,"./lib/tdef":80,"./lib/tdefs":81,"./lib/whoami":84}],74:[function(a,b,c){(function(c){"use strict";function d(b){var d,h=f.get("registry.oauth.client_secret"),i=f.get("registry.oauth.client_id"),j=f.get("registry.host"),k=f.get("registry.port");return d=a(f.get("registry.ssl")?"https":"http"),{login:function(){return e.Promise(function(a,e,l){if(b.login&&b.password||e(new Error('Given params must define "login" and "password"')),f.get("auth.access_token"))f.get("auth.expires_at")>Math.floor((new Date).getTime()/1e3)?a():g().then(a).catch(e);else{var m="username="+b.login+"&password="+b.password+"&grant_type=password&scope=read%20write&client_secret="+h+"&client_id="+i,n={host:j,port:k,path:"/oauth/token",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":c.byteLength(m),Accept:"application/json",Authorization:"Basic "+new c(i+":"+h).toString("base64")}},o=d.request(n,function(b){var c="";b.on("data",function(a){l(a),c+=a}),b.on("end",function(){var d;if(200===b.statusCode)try{var g=JSON.parse(c);g.expires_at=Math.floor((new Date).getTime()/1e3)+g.expires_in,delete g.expires_in,f.set("auth",g),a()}catch(c){a({code:b.statusCode,message:b.statusMessage})}else{var h;try{d=JSON.parse(c),h=new Error(d.message),h.code=b.statusCode,e(h)}catch(a){h=new Error(b.statusMessage),h.code=b.statusCode,e(h)}}})});o.on("error",e),o.write(m),o.end()}})},logout:function(){return e.Promise(function(a,b,c){var e={host:j,port:k,path:"/api/logout",method:"POST",headers:{Accept:"application/json"}},g=d.request(e,function(d){var e="";d.on("data",function(a){c(a),e+=a}),d.on("end",function(){var c;if(200===d.statusCode)try{f.set("auth",{}),a()}catch(b){a({code:d.statusCode,message:d.statusMessage})}else{var g;try{c=JSON.parse(e),g=new Error(c.message),g.code=d.statusCode,b(g)}catch(a){g=new Error(d.statusMessage),g.code=d.statusCode,b(g)}}})});g.on("error",b),g.end()})}}}var e=a("q"),f=a("tiny-conf"),g=a("./refresh");b.exports=d}).call(this,a("buffer").Buffer)},{"./refresh":79,buffer:64,http:124,https:68,q:112,"tiny-conf":"tiny-conf"}],75:[function(a,b,c){(function(c){"use strict";function d(b){var d,n=f.get("registry.host"),o=f.get("registry.port"),p=f.get("auth.access_token");return d=a(f.get("registry.ssl")?"https":"http"),{get:function(){return e.Promise(function(a,c,e){try{i(b,j);var f={host:n,port:o,path:g.parse("/api/namespaces/{namespace}/tdefs/{tdefName}/{tdefVersion}/dus/{name}/{version}/{platform}").expand({namespace:b.typeDefinition.namespace.name,tdefName:b.typeDefinition.name,tdefVersion:b.typeDefinition.version,name:b.name,version:b.version,platform:b.platform}),method:"GET",headers:{Accept:"application/json"}},k=d.request(f,function(d){var f="";d.on("data",function(a){e(a),f+=a}),d.on("end",function(){h(200,f,d,a,function(a){404===a.code&&(a.message=b.typeDefinition.namespace.name+"."+b.typeDefinition.name+"/"+b.typeDefinition.version+" "+b.name+"/"+b.version+"/"+b.platform+" "+a.message),c(a)})})});k.on("error",c),k.end()}catch(a){c(new Error("DeployUnit not valid "+a.message))}})},create:function(){return e.Promise(function(a,e,f){try{i(b,k);var j=JSON.stringify({name:b.name,version:b.version,platform:b.platform,model:b.model}),l={host:n,port:o,path:g.parse("/api/namespaces/{namespace}/tdefs/{tdefName}/{tdefVersion}/dus").expand({namespace:b.typeDefinition.namespace.name,tdefName:b.typeDefinition.name,tdefVersion:b.typeDefinition.version}),method:"POST",headers:{"Content-Type":"application/json","Content-Length":c.byteLength(j),Accept:"application/json",Authorization:"Bearer "+p}},m=d.request(l,function(b){var c="";b.on("data",function(a){f(a),c+=a}),b.on("end",function(){h(201,c,b,a,e)})});m.on("error",e),m.write(j),m.end()}catch(a){e(new Error("DeployUnit not valid "+a.message))}})},delete:function(){return e.Promise(function(a,c,e){try{i(b,j);var f={host:n,port:o,path:g.parse("/api/namespaces/{namespace}/tdefs/{tdefName}/{tdefVersion}/dus/{name}/{version}/{platform}").expand({namespace:b.typeDefinition.namespace.name,tdefName:b.typeDefinition.name,tdefVersion:b.typeDefinition.version,name:b.name,version:b.version,platform:b.platform}),method:"DELETE",headers:{Accept:"application/json",Authorization:"Bearer "+p}},k=d.request(f,function(d){var f="";d.on("data",function(a){e(a),f+=a}),d.on("end",function(){h(200,f,d,a,function(a){404===a.code&&(a.message=b.typeDefinition.namespace.name+"."+b.typeDefinition.name+"/"+b.typeDefinition.version+" "+b.name+"/"+b.version+"/"+b.platform+" "+a.message),c(a)})})});k.on("error",c),k.end()}catch(a){c(new Error("DeployUnit not valid "+a.message))}})},update:function(){return e.Promise(function(a,e,f){try{i(b,l);var j=JSON.stringify({id:b.id,name:b.name,version:b.version,platform:b.platform,model:b.model}),k={host:n,port:o,path:g.parse("/api/namespaces/{namespace}/tdefs/{tdefName}/{tdefVersion}/dus/{name}/{version}/{platform}").expand({namespace:b.typeDefinition.namespace.name,tdefName:b.typeDefinition.name,tdefVersion:b.typeDefinition.version,name:b.name,version:b.version,platform:b.platform}),method:"PUT",headers:{"Content-Type":"application/json","Content-Length":c.byteLength(j),Accept:"application/json",Authorization:"Bearer "+p}},m=d.request(k,function(c){var d="";c.on("data",function(a){f(a),d+=a}),c.on("end",function(){h([200,201],d,c,a,function(a){404===a.code&&(a.message=b.typeDefinition.namespace.name+"."+b.typeDefinition.name+"/"+b.typeDefinition.version+" "+b.name+"/"+b.version+"/"+b.platform+" "+a.message),e(a)})})});m.on("error",e),m.write(j),m.end()}catch(a){e(new Error("DeployUnit not valid "+a.message))}})},latest:function(){return e.Promise(function(a,c,e){try{i(b,m);var f;f=b.platform?g.parse("/api/namespaces/{namespace}/tdefs/{tdefName}/{tdefVersion}/latest-dus/{platform}").expand({namespace:b.typeDefinition.namespace.name,tdefName:b.typeDefinition.name,tdefVersion:b.typeDefinition.version,platform:b.platform}):g.parse("/api/namespaces/{namespace}/tdefs/{tdefName}/{tdefVersion}/latest-dus").expand({namespace:b.typeDefinition.namespace.name,tdefName:b.typeDefinition.name,tdefVersion:b.typeDefinition.version});var j={host:n,port:o,path:f,method:"GET",headers:{Accept:"application/json"}},k=d.request(j,function(d){var f="";d.on("data",function(a){e(a),f+=a}),d.on("end",function(){h(200,f,d,a,function(a){404===a.code&&(a.message=b.typeDefinition.namespace.name+"."+b.typeDefinition.name+"/"+b.typeDefinition.version+" "+a.message),c(a)})})});k.on("error",c),k.end()}catch(a){c(new Error("DeployUnit not valid "+a.message))}})},release:function(){return e.Promise(function(a,c,e){try{i(b,m);var f;f=b.platform?g.parse("/api/namespaces/{namespace}/tdefs/{tdefName}/{tdefVersion}/released-dus/{platform}").expand({namespace:b.typeDefinition.namespace.name,tdefName:b.typeDefinition.name,tdefVersion:b.typeDefinition.version,platform:b.platform}):g.parse("/api/namespaces/{namespace}/tdefs/{tdefName}/{tdefVersion}/released-dus").expand({namespace:b.typeDefinition.namespace.name,tdefName:b.typeDefinition.name,tdefVersion:b.typeDefinition.version});var j={host:n,port:o,path:f,method:"GET",headers:{Accept:"application/json"}},k=d.request(j,function(d){var f="";d.on("data",function(a){e(a),f+=a}),d.on("end",function(){h(200,f,d,a,function(a){404===a.code&&(a.message=b.typeDefinition.namespace.name+"."+b.typeDefinition.name+"/"+b.typeDefinition.version+" "+b.platform+" "+a.message),c(a)})})});k.on("error",c),k.end()}catch(a){c(new Error("DeployUnit not valid "+a.message))}})}}}var e=a("q"),f=a("tiny-conf"),g=a("url-template"),h=a("./util/response-helper"),i=a("./util/validate"),j=["name","version","platform","typeDefinition.name","typeDefinition.version","typeDefinition.namespace.name"],k=["name","version","platform","model","typeDefinition.name","typeDefinition.version","typeDefinition.namespace.name"],l=["id","name","version","platform","model","typeDefinition.name","typeDefinition.version","typeDefinition.namespace.name"],m=["typeDefinition.name","typeDefinition.version","typeDefinition.namespace.name"];b.exports=d}).call(this,a("buffer").Buffer)},{"./util/response-helper":82,"./util/validate":83,buffer:64,http:124,https:68,q:112,"tiny-conf":"tiny-conf","url-template":130}],76:[function(a,b,c){"use strict";function d(b,c,d,i,j){var k,l=f.get("registry.host"),m=f.get("registry.port");k=a(f.get("registry.ssl")?"https":"http");var n="/api/dus";return n=b?c?d?i?j?"/api/namespaces/{namespace}/tdefs/{tdefName}/{tdefVersion}/dus/{name}/{version}":"/api/namespaces/{namespace}/tdefs/{tdefName}/{tdefVersion}/dus/{name}":"/api/namespaces/{namespace}/tdefs/{tdefName}/{tdefVersion}/dus":"/api/namespaces/{namespace}/tdefs/{tdefName}/dus":"/api/namespaces/{namespace}/dus":"/api/dus",
e.Promise(function(a,e,f){var o={host:l,port:m,path:g.parse(n).expand({namespace:b,tdefName:c,tdefVersion:d,name:i,version:j}),method:"GET",headers:{Accept:"application/json"}},p=k.request(o,function(b){var c="";b.on("data",function(a){f(a),c+=a}),b.on("end",function(){h(200,c,b,a,e)})});p.on("error",e),p.end()})}var e=a("q"),f=a("tiny-conf"),g=a("url-template"),h=a("./util/response-helper");b.exports=d},{"./util/response-helper":82,http:124,https:68,q:112,"tiny-conf":"tiny-conf","url-template":130}],77:[function(a,b,c){(function(c){"use strict";function d(b){var d,i=f.get("registry.host"),j=f.get("registry.port"),k=f.get("auth.access_token");return d=a(f.get("registry.ssl")?"https":"http"),{get:function(){return e.Promise(function(a,c,e){b.name||c(new Error('Given params must define "name"'));var f={host:i,port:j,path:g.parse("/api/namespaces/{name}").expand(b),method:"GET",headers:{Accept:"application/json"}},k=d.request(f,function(b){var d="";b.on("data",function(a){e(a),d+=a}),b.on("end",function(){h(200,d,b,a,c)})});k.on("error",c),k.end()})},create:function(){return e.Promise(function(a,e,f){b.name||e(new Error('Given params must define "name"'));var g=JSON.stringify({name:b.name}),l={host:i,port:j,path:"/api/namespaces",method:"POST",headers:{"Content-Type":"application/json","Content-Length":c.byteLength(g),Accept:"application/json",Authorization:"Bearer "+k}},m=d.request(l,function(b){var c="";b.on("data",function(a){f(a),c+=a}),b.on("end",function(){h(201,c,b,a,e)})});m.on("error",e),m.write(g),m.end()})},delete:function(){return e.Promise(function(a,c,e){b.name||c(new Error('Given params must define "name"'));var f={host:i,port:j,path:g.parse("/api/namespaces/{name}").expand(b),method:"DELETE",headers:{Accept:"application/json",Authorization:"Bearer "+k}},l=d.request(f,function(b){var d="";b.on("data",function(a){e(a),d+=a}),b.on("end",function(){h(200,d,b,a,c)})});l.on("error",c),l.end()})}}}var e=a("q"),f=a("tiny-conf"),g=a("url-template"),h=a("./util/response-helper");b.exports=d}).call(this,a("buffer").Buffer)},{"./util/response-helper":82,buffer:64,http:124,https:68,q:112,"tiny-conf":"tiny-conf","url-template":130}],78:[function(a,b,c){"use strict";function d(){var b,c=f.get("registry.host"),d=f.get("registry.port");return b=a(f.get("registry.ssl")?"https":"http"),e.Promise(function(a,e,f){var h={host:c,port:d,path:"/api/namespaces",method:"GET",headers:{Accept:"application/json"}},i=b.request(h,function(b){var c="";b.on("data",function(a){f(a),c+=a}),b.on("end",function(){g(200,c,b,a,e)})});i.on("error",e),i.end()})}var e=a("q"),f=a("tiny-conf"),g=a("./util/response-helper");b.exports=d},{"./util/response-helper":82,http:124,https:68,q:112,"tiny-conf":"tiny-conf"}],79:[function(a,b,c){(function(c){"use strict";function d(){var b,d=f.get("registry.oauth.client_secret"),g=f.get("registry.oauth.client_id"),h=f.get("registry.host"),i=f.get("registry.port"),j=f.get("auth.refresh_token");return b=a(f.get("registry.ssl")?"https":"http"),e.Promise(function(a,e,k){var l="grant_type=refresh_token&refresh_token="+j,m={host:h,port:i,path:"/oauth/token",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","Content-Length":c.byteLength(l),Accept:"application/json",Authorization:"Basic "+new c(g+":"+d).toString("base64")}},n=b.request(m,function(b){var c="";b.on("data",function(a){k(a),c+=a}),b.on("end",function(){var d;if(200===b.statusCode)try{var g=JSON.parse(c);g.expires_at=Math.floor((new Date).getTime()/1e3)+g.expires_in,delete g.expires_in,f.set("auth",g),a()}catch(c){a({code:b.statusCode,message:b.statusMessage})}else{var h;try{d=JSON.parse(c),h=new Error(d.message),h.code=b.statusCode,e(h)}catch(a){h=new Error(b.statusMessage),h.code=b.statusCode,e(h)}}})});n.on("error",e),n.write(l),n.end()})}var e=a("q"),f=a("tiny-conf");b.exports=d}).call(this,a("buffer").Buffer)},{buffer:64,http:124,https:68,q:112,"tiny-conf":"tiny-conf"}],80:[function(a,b,c){(function(c){"use strict";function d(b){var d,m=f.get("registry.host"),n=f.get("registry.port"),o=f.get("auth.access_token");return d=a(f.get("registry.ssl")?"https":"http"),{get:function(){return e.Promise(function(a,c,e){try{i(b,j);var f={host:m,port:n,path:g.parse("/api/namespaces/{namespace}/tdefs/{name}/{version}").expand({namespace:b.namespace.name,name:b.name,version:b.version}),method:"GET",headers:{Accept:"application/json"}},k=d.request(f,function(d){var f="";d.on("data",function(a){e(a),f+=a}),d.on("end",function(){h(200,f,d,a,function(a){404===a.code&&(a.message=b.namespace.name+"."+b.name+"/"+b.version+"/ "+a.message),c(a)})})});k.on("error",c),k.end()}catch(a){c(new Error("TypeDefinition not valid "+a.message))}})},create:function(){return e.Promise(function(a,e,f){try{i(b,k);var j=JSON.stringify({name:b.name,version:b.version,model:b.model}),l={host:m,port:n,path:g.parse("/api/namespaces/{namespace}/tdefs").expand({namespace:b.namespace.name}),method:"POST",headers:{"Content-Type":"application/json","Content-Length":c.byteLength(j),Accept:"application/json",Authorization:"Bearer "+o}},p=d.request(l,function(b){var c="";b.on("data",function(a){f(a),c+=a}),b.on("end",function(){h(201,c,b,a,e)})});p.on("error",e),p.write(j),p.end()}catch(a){e(new Error("TypeDefinition not valid "+a.message))}})},delete:function(){return e.Promise(function(a,c,e){try{i(b,j);var f={host:m,port:n,path:g.parse("/api/namespaces/{namespace}/tdefs/{name}/{version}").expand({namespace:b.namespace.name,name:b.name,version:b.version}),method:"DELETE",headers:{Accept:"application/json",Authorization:"Bearer "+o}},k=d.request(f,function(d){var f="";d.on("data",function(a){e(a),f+=a}),d.on("end",function(){h(200,f,d,a,function(a){404===a.code&&(a.message=b.namespace.name+"."+b.name+"/"+b.version+"/ "+a.message),c(a)})})});k.on("error",c),k.end()}catch(a){c(new Error("TypeDefinition not valid "+a.message))}})},latest:function(){return e.Promise(function(a,c,e){try{i(b,l);var f={host:m,port:n,path:g.parse("/api/namespaces/{namespace}/tdef/{name}/latest").expand({namespace:b.namespace.name,name:b.name}),method:"GET",headers:{Accept:"application/json"}},j=d.request(f,function(d){var f="";d.on("data",function(a){e(a),f+=a}),d.on("end",function(){h(200,f,d,a,function(a){404===a.code&&(a.message=b.namespace.name+"."+b.name+" "+a.message),c(a)})})});j.on("error",c),j.end()}catch(a){c(new Error("TypeDefinition not valid "+a.message))}})}}}var e=a("q"),f=a("tiny-conf"),g=a("url-template"),h=a("./util/response-helper"),i=a("./util/validate"),j=["name","version","namespace.name"],k=["name","version","model","namespace.name"],l=["name","namespace.name"];b.exports=d}).call(this,a("buffer").Buffer)},{"./util/response-helper":82,"./util/validate":83,buffer:64,http:124,https:68,q:112,"tiny-conf":"tiny-conf","url-template":130}],81:[function(a,b,c){"use strict";function d(b){var c,d=f.get("registry.host"),i=f.get("registry.port");c=a(f.get("registry.ssl")?"https":"http");var j="/api/tdefs";return b&&(j="/api/namespaces/{namespace}/tdefs"),e.Promise(function(a,e,f){var k={host:d,port:i,path:g.parse(j).expand({namespace:b}),method:"GET",headers:{Accept:"application/json"}},l=c.request(k,function(b){var c="";b.on("data",function(a){f(a),c+=a}),b.on("end",function(){h(200,c,b,a,e)})});l.on("error",e),l.end()})}var e=a("q"),f=a("tiny-conf"),g=a("url-template"),h=a("./util/response-helper");b.exports=d},{"./util/response-helper":82,http:124,https:68,q:112,"tiny-conf":"tiny-conf","url-template":130}],82:[function(a,b,c){"use strict";b.exports=function(a,b,c,d,e,f){a.constructor!==Array&&(a=[a]);var g;if(a.indexOf(c.statusCode)!==-1)if(f)d(b);else try{g=JSON.parse(b),d(g)}catch(a){d({code:c.statusCode,message:c.statusMessage})}else{var h;try{g=JSON.parse(b),h=new Error(g.message),h.code=c.statusCode,e(h)}catch(a){h=new Error(c.statusMessage),h.code=c.statusCode,e(h)}}}},{}],83:[function(a,b,c){"use strict";function d(a,b){for(var c=b.split(".");c.length&&(a=a[c.shift()]););return a}function e(a,b){if(!d(a,b))throw new Error("missing '"+b+"' property")}b.exports=function(a,b){b.forEach(function(b){e(a,b)})}},{}],84:[function(a,b,c){"use strict";function d(){var b,c=f.get("registry.host"),d=f.get("registry.port"),h=f.get("auth.access_token");return b=a(f.get("registry.ssl")?"https":"http"),e.Promise(function(a,e,f){var i={host:c,port:d,path:"/api/authenticate",method:"GET",headers:{Accept:"application/json",Authorization:"Bearer "+h}},j=b.request(i,function(b){var c="";b.on("data",function(a){f(a),c+=a}),b.on("end",function(){g(200,c,b,a,e,!0)})});j.on("error",e),j.end()})}var e=a("q"),f=a("tiny-conf"),g=a("./util/response-helper");b.exports=d},{"./util/response-helper":82,http:124,https:68,q:112,"tiny-conf":"tiny-conf"}],85:[function(a,b,c){function d(a,b,c){switch(c.length){case 0:return a.call(b);case 1:return a.call(b,c[0]);case 2:return a.call(b,c[0],c[1]);case 3:return a.call(b,c[0],c[1],c[2])}return a.apply(b,c)}b.exports=d},{}],86:[function(a,b,c){function d(a,b){var c=g(a)||f(a)?e(a.length,String):[],d=c.length,i=!!d;for(var k in a)!b&&!j.call(a,k)||i&&("length"==k||h(k,d))||c.push(k);return c}var e=a("./_baseTimes"),f=a("./isArguments"),g=a("./isArray"),h=a("./_isIndex"),i=Object.prototype,j=i.hasOwnProperty;b.exports=d},{"./_baseTimes":89,"./_isIndex":90,"./isArguments":94,"./isArray":95}],87:[function(a,b,c){function d(a){if(!e(a))return f(a);var b=[];for(var c in Object(a))h.call(a,c)&&"constructor"!=c&&b.push(c);return b}var e=a("./_isPrototype"),f=a("./_nativeKeys"),g=Object.prototype,h=g.hasOwnProperty;b.exports=d},{"./_isPrototype":91,"./_nativeKeys":92}],88:[function(a,b,c){function d(a,b){return b=f(void 0===b?a.length-1:b,0),function(){for(var c=arguments,d=-1,g=f(c.length-b,0),h=Array(g);++d<g;)h[d]=c[b+d];d=-1;for(var i=Array(b+1);++d<b;)i[d]=c[d];return i[b]=h,e(a,this,i)}}var e=a("./_apply"),f=Math.max;b.exports=d},{"./_apply":85}],89:[function(a,b,c){function d(a,b){for(var c=-1,d=Array(a);++c<a;)d[c]=b(c);return d}b.exports=d},{}],90:[function(a,b,c){function d(a,b){return b=null==b?e:b,!!b&&("number"==typeof a||f.test(a))&&a>-1&&a%1==0&&a<b}var e=9007199254740991,f=/^(?:0|[1-9]\d*)$/;b.exports=d},{}],91:[function(a,b,c){function d(a){var b=a&&a.constructor,c="function"==typeof b&&b.prototype||e;return a===c}var e=Object.prototype;b.exports=d},{}],92:[function(a,b,c){var d=a("./_overArg"),e=d(Object.keys,Object);b.exports=e},{"./_overArg":93}],93:[function(a,b,c){function d(a,b){return function(c){return a(b(c))}}b.exports=d},{}],94:[function(a,b,c){function d(a){return e(a)&&h.call(a,"callee")&&(!j.call(a,"callee")||i.call(a)==f)}var e=a("./isArrayLikeObject"),f="[object Arguments]",g=Object.prototype,h=g.hasOwnProperty,i=g.toString,j=g.propertyIsEnumerable;b.exports=d},{"./isArrayLikeObject":97}],95:[function(a,b,c){var d=Array.isArray;b.exports=d},{}],96:[function(a,b,c){function d(a){return null!=a&&f(a.length)&&!e(a)}var e=a("./isFunction"),f=a("./isLength");b.exports=d},{"./isFunction":98,"./isLength":99}],97:[function(a,b,c){function d(a){return f(a)&&e(a)}var e=a("./isArrayLike"),f=a("./isObjectLike");b.exports=d},{"./isArrayLike":96,"./isObjectLike":101}],98:[function(a,b,c){function d(a){var b=e(a)?i.call(a):"";return b==f||b==g}var e=a("./isObject"),f="[object Function]",g="[object GeneratorFunction]",h=Object.prototype,i=h.toString;b.exports=d},{"./isObject":100}],99:[function(a,b,c){function d(a){return"number"==typeof a&&a>-1&&a%1==0&&a<=e}var e=9007199254740991;b.exports=d},{}],100:[function(a,b,c){function d(a){var b=typeof a;return!!a&&("object"==b||"function"==b)}b.exports=d},{}],101:[function(a,b,c){function d(a){return!!a&&"object"==typeof a}b.exports=d},{}],102:[function(a,b,c){function d(a){return"symbol"==typeof a||e(a)&&h.call(a)==f}var e=a("./isObjectLike"),f="[object Symbol]",g=Object.prototype,h=g.toString;b.exports=d},{"./isObjectLike":101}],103:[function(a,b,c){function d(a){return g(a)?e(a):f(a)}var e=a("./_arrayLikeKeys"),f=a("./_baseKeys"),g=a("./isArrayLike");b.exports=d},{"./_arrayLikeKeys":86,"./_baseKeys":87,"./isArrayLike":96}],104:[function(a,b,c){function d(){}b.exports=d},{}],105:[function(a,b,c){function d(a,b){if("function"!=typeof a)throw new TypeError(g);return b=void 0===b?b:f(b),e(a,b)}var e=a("./_baseRest"),f=a("./toInteger"),g="Expected a function";b.exports=d},{"./_baseRest":88,"./toInteger":107}],106:[function(a,b,c){function d(a){if(!a)return 0===a?a:0;if(a=e(a),a===f||a===-f){var b=a<0?-1:1;return b*g}return a===a?a:0}var e=a("./toNumber"),f=1/0,g=1.7976931348623157e308;b.exports=d},{"./toNumber":108}],107:[function(a,b,c){function d(a){var b=e(a),c=b%1;return b===b?c?b-c:b:0}var e=a("./toFinite");b.exports=d},{"./toFinite":106}],108:[function(a,b,c){function d(a){if("number"==typeof a)return a;if(f(a))return g;if(e(a)){var b="function"==typeof a.valueOf?a.valueOf():a;a=e(b)?b+"":b}if("string"!=typeof a)return 0===a?a:+a;a=a.replace(h,"");var c=j.test(a);return c||k.test(a)?l(a.slice(2),c?2:8):i.test(a)?g:+a}var e=a("./isObject"),f=a("./isSymbol"),g=NaN,h=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,j=/^0b[01]+$/i,k=/^0o[0-7]+$/i,l=parseInt;b.exports=d},{"./isObject":100,"./isSymbol":102}],109:[function(a,b,c){(function(a){"use strict";function c(b,c,d,e){if("function"!=typeof b)throw new TypeError('"callback" argument must be a function');var f,g,h=arguments.length;switch(h){case 0:case 1:return a.nextTick(b);case 2:return a.nextTick(function(){b.call(null,c)});case 3:return a.nextTick(function(){b.call(null,c,d)});case 4:return a.nextTick(function(){b.call(null,c,d,e)});default:for(f=new Array(h-1),g=0;g<f.length;)f[g++]=arguments[g];return a.nextTick(function(){b.apply(null,f)})}}!a.version||0===a.version.indexOf("v0.")||0===a.version.indexOf("v1.")&&0!==a.version.indexOf("v1.8.")?b.exports=c:b.exports=a.nextTick}).call(this,a("_process"))},{_process:110}],110:[function(a,b,c){function d(a){if(j===setTimeout)return setTimeout(a,0);try{return j(a,0)}catch(b){try{return j.call(null,a,0)}catch(b){return j.call(this,a,0)}}}function e(a){if(k===clearTimeout)return clearTimeout(a);try{return k(a)}catch(b){try{return k.call(null,a)}catch(b){return k.call(this,a)}}}function f(){o&&m&&(o=!1,m.length?n=m.concat(n):p=-1,n.length&&g())}function g(){if(!o){var a=d(f);o=!0;for(var b=n.length;b;){for(m=n,n=[];++p<b;)m&&m[p].run();p=-1,b=n.length}m=null,o=!1,e(a)}}function h(a,b){this.fun=a,this.array=b}function i(){}var j,k,l=b.exports={};!function(){try{j=setTimeout}catch(a){j=function(){throw new Error("setTimeout is not defined")}}try{k=clearTimeout}catch(a){k=function(){throw new Error("clearTimeout is not defined")}}}();var m,n=[],o=!1,p=-1;l.nextTick=function(a){var b=new Array(arguments.length-1);if(arguments.length>1)for(var c=1;c<arguments.length;c++)b[c-1]=arguments[c];n.push(new h(a,b)),1!==n.length||o||d(g)},h.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=i,l.addListener=i,l.once=i,l.off=i,l.removeListener=i,l.removeAllListeners=i,l.emit=i,l.binding=function(a){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(a){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},{}],111:[function(b,c,d){(function(b){!function(e){function f(a){throw new RangeError(I[a])}function g(a,b){for(var c=a.length,d=[];c--;)d[c]=b(a[c]);return d}function h(a,b){var c=a.split("@"),d="";c.length>1&&(d=c[0]+"@",a=c[1]),a=a.replace(H,".");var e=a.split("."),f=g(e,b).join(".");return d+f}function i(a){for(var b,c,d=[],e=0,f=a.length;e<f;)b=a.charCodeAt(e++),b>=55296&&b<=56319&&e<f?(c=a.charCodeAt(e++),56320==(64512&c)?d.push(((1023&b)<<10)+(1023&c)+65536):(d.push(b),e--)):d.push(b);return d}function j(a){return g(a,function(a){var b="";return a>65535&&(a-=65536,b+=L(a>>>10&1023|55296),a=56320|1023&a),b+=L(a)}).join("")}function k(a){return a-48<10?a-22:a-65<26?a-65:a-97<26?a-97:x}function l(a,b){return a+22+75*(a<26)-((0!=b)<<5)}function m(a,b,c){var d=0;for(a=c?K(a/B):a>>1,a+=K(a/b);a>J*z>>1;d+=x)a=K(a/J);return K(d+(J+1)*a/(a+A))}function n(a){var b,c,d,e,g,h,i,l,n,o,p=[],q=a.length,r=0,s=D,t=C;for(c=a.lastIndexOf(E),c<0&&(c=0),d=0;d<c;++d)a.charCodeAt(d)>=128&&f("not-basic"),p.push(a.charCodeAt(d));for(e=c>0?c+1:0;e<q;){for(g=r,h=1,i=x;e>=q&&f("invalid-input"),l=k(a.charCodeAt(e++)),(l>=x||l>K((w-r)/h))&&f("overflow"),r+=l*h,n=i<=t?y:i>=t+z?z:i-t,!(l<n);i+=x)o=x-n,h>K(w/o)&&f("overflow"),h*=o;b=p.length+1,t=m(r-g,b,0==g),K(r/b)>w-s&&f("overflow"),s+=K(r/b),r%=b,p.splice(r++,0,s)}return j(p)}function o(a){var b,c,d,e,g,h,j,k,n,o,p,q,r,s,t,u=[];for(a=i(a),q=a.length,b=D,c=0,g=C,h=0;h<q;++h)p=a[h],p<128&&u.push(L(p));for(d=e=u.length,e&&u.push(E);d<q;){for(j=w,h=0;h<q;++h)p=a[h],p>=b&&p<j&&(j=p);for(r=d+1,j-b>K((w-c)/r)&&f("overflow"),c+=(j-b)*r,b=j,h=0;h<q;++h)if(p=a[h],p<b&&++c>w&&f("overflow"),p==b){for(k=c,n=x;o=n<=g?y:n>=g+z?z:n-g,!(k<o);n+=x)t=k-o,s=x-o,u.push(L(l(o+t%s,0))),k=K(t/s);u.push(L(l(k,0))),g=m(c,r,d==e),c=0,++d}++c,++b}return u.join("")}function p(a){return h(a,function(a){return F.test(a)?n(a.slice(4).toLowerCase()):a})}function q(a){return h(a,function(a){return G.test(a)?"xn--"+o(a):a})}var r="object"==typeof d&&d&&!d.nodeType&&d,s="object"==typeof c&&c&&!c.nodeType&&c,t="object"==typeof b&&b;t.global!==t&&t.window!==t&&t.self!==t||(e=t);var u,v,w=2147483647,x=36,y=1,z=26,A=38,B=700,C=72,D=128,E="-",F=/^xn--/,G=/[^\x20-\x7E]/,H=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},J=x-y,K=Math.floor,L=String.fromCharCode;if(u={version:"1.4.1",ucs2:{decode:i,encode:j},decode:n,encode:o,toASCII:q,toUnicode:p},"function"==typeof a&&"object"==typeof a.amd&&a.amd)a("punycode",function(){return u});else if(r&&s)if(c.exports==r)s.exports=u;else for(v in u)u.hasOwnProperty(v)&&(r[v]=u[v]);else e.punycode=u}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],112:[function(b,c,d){(function(b){!function(b){"use strict";if("function"==typeof bootstrap)bootstrap("promise",b);else if("object"==typeof d&&"object"==typeof c)c.exports=b();else if("function"==typeof a&&a.amd)a(b);else if("undefined"!=typeof ses){if(!ses.ok())return;ses.makeQ=b}else{if("undefined"==typeof window&&"undefined"==typeof self)throw new Error("This environment was not anticipated by Q. Please file a bug.");var e="undefined"!=typeof window?window:self,f=e.Q;e.Q=b(),e.Q.noConflict=function(){return e.Q=f,this}}}(function(){"use strict";function a(a){return function(){return W.apply(a,arguments)}}function c(a){return a===Object(a)}function d(a){return"[object StopIteration]"===ca(a)||a instanceof S}function e(a,b){if(Q&&b.stack&&"object"==typeof a&&null!==a&&a.stack&&a.stack.indexOf(da)===-1){for(var c=[],d=b;d;d=d.source)d.stack&&c.unshift(d.stack);c.unshift(a.stack);var e=c.join("\n"+da+"\n");a.stack=f(e)}}function f(a){for(var b=a.split("\n"),c=[],d=0;d<b.length;++d){var e=b[d];i(e)||g(e)||!e||c.push(e)}return c.join("\n")}function g(a){return a.indexOf("(module.js:")!==-1||a.indexOf("(node.js:")!==-1}function h(a){var b=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(a);if(b)return[b[1],Number(b[2])];var c=/at ([^ ]+):(\d+):(?:\d+)$/.exec(a);if(c)return[c[1],Number(c[2])];var d=/.*@(.+):(\d+)$/.exec(a);return d?[d[1],Number(d[2])]:void 0}function i(a){var b=h(a);if(!b)return!1;var c=b[0],d=b[1];return c===R&&d>=T&&d<=ia}function j(){if(Q)try{throw new Error}catch(d){var a=d.stack.split("\n"),b=a[0].indexOf("@")>0?a[1]:a[2],c=h(b);if(!c)return;return R=c[0],c[1]}}function k(a,b,c){return function(){return"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(b+" is deprecated, use "+c+" instead.",new Error("").stack),a.apply(a,arguments)}}function l(a){return a instanceof p?a:t(a)?C(a):B(a)}function m(){function a(a){b=a,f.source=a,Y(c,function(b,c){l.nextTick(function(){a.promiseDispatch.apply(a,c)})},void 0),c=void 0,d=void 0}var b,c=[],d=[],e=_(m.prototype),f=_(p.prototype);if(f.promiseDispatch=function(a,e,f){var g=X(arguments);c?(c.push(g),"when"===e&&f[1]&&d.push(f[1])):l.nextTick(function(){b.promiseDispatch.apply(b,g)})},f.valueOf=function(){if(c)return f;var a=r(b);return s(a)&&(b=a),a},f.inspect=function(){return b?b.inspect():{state:"pending"}},l.longStackSupport&&Q)try{throw new Error}catch(a){f.stack=a.stack.substring(a.stack.indexOf("\n")+1)}return e.promise=f,e.resolve=function(c){b||a(l(c))},e.fulfill=function(c){b||a(B(c))},e.reject=function(c){b||a(A(c))},e.notify=function(a){b||Y(d,function(b,c){l.nextTick(function(){c(a)})},void 0)},e}function n(a){if("function"!=typeof a)throw new TypeError("resolver must be a function.");var b=m();try{a(b.resolve,b.reject,b.notify)}catch(a){b.reject(a)}return b.promise}function o(a){return n(function(b,c){for(var d=0,e=a.length;d<e;d++)l(a[d]).then(b,c)})}function p(a,b,c){void 0===b&&(b=function(a){return A(new Error("Promise does not support operation: "+a))}),void 0===c&&(c=function(){return{state:"unknown"}});var d=_(p.prototype);if(d.promiseDispatch=function(c,e,f){var g;try{g=a[e]?a[e].apply(d,f):b.call(d,e,f)}catch(a){g=A(a)}c&&c(g)},d.inspect=c,c){var e=c();"rejected"===e.state&&(d.exception=e.reason),d.valueOf=function(){var a=c();return"pending"===a.state||"rejected"===a.state?d:a.value}}return d}function q(a,b,c,d){return l(a).then(b,c,d)}function r(a){if(s(a)){var b=a.inspect();if("fulfilled"===b.state)return b.value}return a}function s(a){return a instanceof p}function t(a){return c(a)&&"function"==typeof a.then}function u(a){return s(a)&&"pending"===a.inspect().state}function v(a){return!s(a)||"fulfilled"===a.inspect().state}function w(a){return s(a)&&"rejected"===a.inspect().state}function x(){ea.length=0,fa.length=0,ha||(ha=!0)}function y(a,c){ha&&("object"==typeof b&&"function"==typeof b.emit&&l.nextTick.runAfter(function(){Z(fa,a)!==-1&&(b.emit("unhandledRejection",c,a),ga.push(a))}),fa.push(a),c&&"undefined"!=typeof c.stack?ea.push(c.stack):ea.push("(no stack) "+c))}function z(a){if(ha){var c=Z(fa,a);c!==-1&&("object"==typeof b&&"function"==typeof b.emit&&l.nextTick.runAfter(function(){var d=Z(ga,a);d!==-1&&(b.emit("rejectionHandled",ea[c],a),ga.splice(d,1))}),fa.splice(c,1),ea.splice(c,1))}}function A(a){var b=p({when:function(b){return b&&z(this),b?b(a):this}},function(){return this},function(){return{state:"rejected",reason:a}});return y(b,a),b}function B(a){return p({when:function(){return a},get:function(b){return a[b]},set:function(b,c){a[b]=c},delete:function(b){delete a[b]},post:function(b,c){return null===b||void 0===b?a.apply(void 0,c):a[b].apply(a,c)},apply:function(b,c){return a.apply(b,c)},keys:function(){return ba(a)}},void 0,function(){return{state:"fulfilled",value:a}})}function C(a){var b=m();return l.nextTick(function(){try{a.then(b.resolve,b.reject,b.notify)}catch(a){b.reject(a)}}),b.promise}function D(a){return p({isDef:function(){}},function(b,c){return J(a,b,c)},function(){return l(a).inspect()})}function E(a,b,c){return l(a).spread(b,c)}function F(a){return function(){function b(a,b){var g;if("undefined"==typeof StopIteration){try{g=c[a](b)}catch(a){return A(a)}return g.done?l(g.value):q(g.value,e,f)}try{g=c[a](b)}catch(a){return d(a)?l(a.value):A(a)}return q(g,e,f)}var c=a.apply(this,arguments),e=b.bind(b,"next"),f=b.bind(b,"throw");return e()}}function G(a){l.done(l.async(a)())}function H(a){throw new S(a)}function I(a){return function(){return E([this,K(arguments)],function(b,c){return a.apply(b,c)})}}function J(a,b,c){return l(a).dispatch(b,c)}function K(a){return q(a,function(a){var b=0,c=m();return Y(a,function(d,e,f){var g;s(e)&&"fulfilled"===(g=e.inspect()).state?a[f]=g.value:(++b,q(e,function(d){a[f]=d,0===--b&&c.resolve(a)},c.reject,function(a){c.notify({index:f,value:a})}))},void 0),0===b&&c.resolve(a),c.promise})}function L(a){if(0===a.length)return l.resolve();var b=l.defer(),c=0;return Y(a,function(d,e,f){function g(a){b.resolve(a)}function h(){c--,0===c&&b.reject(new Error("Can't get fulfillment value from any promise, all promises were rejected."))}function i(a){b.notify({index:f,value:a})}var j=a[f];c++,q(j,g,h,i)},void 0),b.promise}function M(a){return q(a,function(a){return a=$(a,l),q(K($(a,function(a){return q(a,U,U)})),function(){return a})})}function N(a){return l(a).allSettled()}function O(a,b){return l(a).then(void 0,void 0,b)}function P(a,b){return l(a).nodeify(b)}var Q=!1;try{throw new Error}catch(a){Q=!!a.stack}var R,S,T=j(),U=function(){},V=function(){function a(){for(var a,b;d.next;)d=d.next,a=d.task,d.task=void 0,b=d.domain,b&&(d.domain=void 0,b.enter()),c(a,b);for(;i.length;)a=i.pop(),c(a);f=!1}function c(b,c){try{b()}catch(b){if(h)throw c&&c.exit(),setTimeout(a,0),c&&c.enter(),b;setTimeout(function(){throw b},0)}c&&c.exit()}var d={task:void 0,next:null},e=d,f=!1,g=void 0,h=!1,i=[];if(V=function(a){e=e.next={task:a,domain:h&&b.domain,next:null},f||(f=!0,g())},"object"==typeof b&&"[object process]"===b.toString()&&b.nextTick)h=!0,g=function(){b.nextTick(a)};else if("function"==typeof setImmediate)g="undefined"!=typeof window?setImmediate.bind(window,a):function(){setImmediate(a)};else if("undefined"!=typeof MessageChannel){var j=new MessageChannel;j.port1.onmessage=function(){g=k,j.port1.onmessage=a,a()};var k=function(){j.port2.postMessage(0)};g=function(){setTimeout(a,0),k()}}else g=function(){setTimeout(a,0)};return V.runAfter=function(a){i.push(a),f||(f=!0,g())},V}(),W=Function.call,X=a(Array.prototype.slice),Y=a(Array.prototype.reduce||function(a,b){var c=0,d=this.length;if(1===arguments.length)for(;;){if(c in this){b=this[c++];break}if(++c>=d)throw new TypeError}for(;c<d;c++)c in this&&(b=a(b,this[c],c));return b}),Z=a(Array.prototype.indexOf||function(a){for(var b=0;b<this.length;b++)if(this[b]===a)return b;return-1}),$=a(Array.prototype.map||function(a,b){var c=this,d=[];return Y(c,function(e,f,g){d.push(a.call(b,f,g,c))},void 0),d}),_=Object.create||function(a){function b(){}return b.prototype=a,new b},aa=a(Object.prototype.hasOwnProperty),ba=Object.keys||function(a){var b=[];for(var c in a)aa(a,c)&&b.push(c);return b},ca=a(Object.prototype.toString);S="undefined"!=typeof ReturnValue?ReturnValue:function(a){this.value=a};var da="From previous event:";l.resolve=l,l.nextTick=V,l.longStackSupport=!1,"object"==typeof b&&b&&b.env&&b.env.Q_DEBUG&&(l.longStackSupport=!0),l.defer=m,m.prototype.makeNodeResolver=function(){var a=this;return function(b,c){b?a.reject(b):arguments.length>2?a.resolve(X(arguments,1)):a.resolve(c)}},l.Promise=n,l.promise=n,n.race=o,n.all=K,n.reject=A,n.resolve=l,l.passByCopy=function(a){return a},p.prototype.passByCopy=function(){return this},l.join=function(a,b){return l(a).join(b)},p.prototype.join=function(a){return l([this,a]).spread(function(a,b){if(a===b)return a;throw new Error("Can't join: not the same: "+a+" "+b)})},l.race=o,p.prototype.race=function(){return this.then(l.race)},l.makePromise=p,p.prototype.toString=function(){return"[object Promise]"},p.prototype.then=function(a,b,c){function d(b){try{return"function"==typeof a?a(b):b}catch(a){return A(a)}}function f(a){if("function"==typeof b){e(a,h);try{return b(a)}catch(a){return A(a)}}return A(a)}function g(a){return"function"==typeof c?c(a):a}var h=this,i=m(),j=!1;return l.nextTick(function(){h.promiseDispatch(function(a){j||(j=!0,i.resolve(d(a)))},"when",[function(a){j||(j=!0,i.resolve(f(a)))}])}),h.promiseDispatch(void 0,"when",[void 0,function(a){var b,c=!1;try{b=g(a)}catch(a){if(c=!0,!l.onerror)throw a;l.onerror(a)}c||i.notify(b)}]),i.promise},l.tap=function(a,b){return l(a).tap(b)},p.prototype.tap=function(a){return a=l(a),this.then(function(b){return a.fcall(b).thenResolve(b)})},l.when=q,p.prototype.thenResolve=function(a){return this.then(function(){return a})},l.thenResolve=function(a,b){return l(a).thenResolve(b)},p.prototype.thenReject=function(a){return this.then(function(){throw a})},l.thenReject=function(a,b){return l(a).thenReject(b)},l.nearer=r,l.isPromise=s,l.isPromiseAlike=t,l.isPending=u,p.prototype.isPending=function(){return"pending"===this.inspect().state},l.isFulfilled=v,p.prototype.isFulfilled=function(){return"fulfilled"===this.inspect().state},l.isRejected=w,p.prototype.isRejected=function(){return"rejected"===this.inspect().state};var ea=[],fa=[],ga=[],ha=!0;l.resetUnhandledRejections=x,l.getUnhandledReasons=function(){return ea.slice()},l.stopUnhandledRejectionTracking=function(){x(),ha=!1},x(),l.reject=A,l.fulfill=B,l.master=D,l.spread=E,p.prototype.spread=function(a,b){return this.all().then(function(b){return a.apply(void 0,b)},b)},l.async=F,l.spawn=G,l.return=H,l.promised=I,l.dispatch=J,p.prototype.dispatch=function(a,b){var c=this,d=m();return l.nextTick(function(){c.promiseDispatch(d.resolve,a,b)}),d.promise},l.get=function(a,b){return l(a).dispatch("get",[b])},p.prototype.get=function(a){return this.dispatch("get",[a])},l.set=function(a,b,c){return l(a).dispatch("set",[b,c])},p.prototype.set=function(a,b){return this.dispatch("set",[a,b])},l.del=l.delete=function(a,b){return l(a).dispatch("delete",[b])},p.prototype.del=p.prototype.delete=function(a){return this.dispatch("delete",[a])},l.mapply=l.post=function(a,b,c){return l(a).dispatch("post",[b,c])},p.prototype.mapply=p.prototype.post=function(a,b){return this.dispatch("post",[a,b])},l.send=l.mcall=l.invoke=function(a,b){return l(a).dispatch("post",[b,X(arguments,2)])},p.prototype.send=p.prototype.mcall=p.prototype.invoke=function(a){return this.dispatch("post",[a,X(arguments,1)])},l.fapply=function(a,b){return l(a).dispatch("apply",[void 0,b])},p.prototype.fapply=function(a){return this.dispatch("apply",[void 0,a])},l.try=l.fcall=function(a){return l(a).dispatch("apply",[void 0,X(arguments,1)])},p.prototype.fcall=function(){return this.dispatch("apply",[void 0,X(arguments)])},l.fbind=function(a){var b=l(a),c=X(arguments,1);return function(){return b.dispatch("apply",[this,c.concat(X(arguments))])}},p.prototype.fbind=function(){var a=this,b=X(arguments);return function(){return a.dispatch("apply",[this,b.concat(X(arguments))])}},l.keys=function(a){return l(a).dispatch("keys",[])},p.prototype.keys=function(){return this.dispatch("keys",[])},l.all=K,p.prototype.all=function(){return K(this)},l.any=L,p.prototype.any=function(){return L(this)},l.allResolved=k(M,"allResolved","allSettled"),p.prototype.allResolved=function(){return M(this)},l.allSettled=N,p.prototype.allSettled=function(){return this.then(function(a){return K($(a,function(a){function b(){return a.inspect()}return a=l(a),a.then(b,b)}))})},l.fail=l.catch=function(a,b){return l(a).then(void 0,b)},p.prototype.fail=p.prototype.catch=function(a){return this.then(void 0,a)},l.progress=O,p.prototype.progress=function(a){return this.then(void 0,void 0,a)},l.fin=l.finally=function(a,b){return l(a).finally(b)},p.prototype.fin=p.prototype.finally=function(a){return a=l(a),this.then(function(b){return a.fcall().then(function(){return b})},function(b){return a.fcall().then(function(){throw b})})},l.done=function(a,b,c,d){return l(a).done(b,c,d)},p.prototype.done=function(a,c,d){var f=function(a){l.nextTick(function(){if(e(a,g),!l.onerror)throw a;l.onerror(a)})},g=a||c||d?this.then(a,c,d):this;"object"==typeof b&&b&&b.domain&&(f=b.domain.bind(f)),g.then(void 0,f)},l.timeout=function(a,b,c){return l(a).timeout(b,c)},p.prototype.timeout=function(a,b){var c=m(),d=setTimeout(function(){b&&"string"!=typeof b||(b=new Error(b||"Timed out after "+a+" ms"),b.code="ETIMEDOUT"),c.reject(b)},a);return this.then(function(a){clearTimeout(d),c.resolve(a)},function(a){clearTimeout(d),c.reject(a)},c.notify),c.promise},l.delay=function(a,b){return void 0===b&&(b=a,a=void 0),l(a).delay(b)},p.prototype.delay=function(a){return this.then(function(b){var c=m();return setTimeout(function(){c.resolve(b)},a),c.promise})},l.nfapply=function(a,b){return l(a).nfapply(b)},p.prototype.nfapply=function(a){var b=m(),c=X(a);return c.push(b.makeNodeResolver()),
this.fapply(c).fail(b.reject),b.promise},l.nfcall=function(a){var b=X(arguments,1);return l(a).nfapply(b)},p.prototype.nfcall=function(){var a=X(arguments),b=m();return a.push(b.makeNodeResolver()),this.fapply(a).fail(b.reject),b.promise},l.nfbind=l.denodeify=function(a){var b=X(arguments,1);return function(){var c=b.concat(X(arguments)),d=m();return c.push(d.makeNodeResolver()),l(a).fapply(c).fail(d.reject),d.promise}},p.prototype.nfbind=p.prototype.denodeify=function(){var a=X(arguments);return a.unshift(this),l.denodeify.apply(void 0,a)},l.nbind=function(a,b){var c=X(arguments,2);return function(){function d(){return a.apply(b,arguments)}var e=c.concat(X(arguments)),f=m();return e.push(f.makeNodeResolver()),l(d).fapply(e).fail(f.reject),f.promise}},p.prototype.nbind=function(){var a=X(arguments,0);return a.unshift(this),l.nbind.apply(void 0,a)},l.nmapply=l.npost=function(a,b,c){return l(a).npost(b,c)},p.prototype.nmapply=p.prototype.npost=function(a,b){var c=X(b||[]),d=m();return c.push(d.makeNodeResolver()),this.dispatch("post",[a,c]).fail(d.reject),d.promise},l.nsend=l.nmcall=l.ninvoke=function(a,b){var c=X(arguments,2),d=m();return c.push(d.makeNodeResolver()),l(a).dispatch("post",[b,c]).fail(d.reject),d.promise},p.prototype.nsend=p.prototype.nmcall=p.prototype.ninvoke=function(a){var b=X(arguments,1),c=m();return b.push(c.makeNodeResolver()),this.dispatch("post",[a,b]).fail(c.reject),c.promise},l.nodeify=P,p.prototype.nodeify=function(a){return a?void this.then(function(b){l.nextTick(function(){a(null,b)})},function(b){l.nextTick(function(){a(b)})}):this},l.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var ia=j();return l})}).call(this,b("_process"))},{_process:110}],113:[function(a,b,c){"use strict";function d(a,b){return Object.prototype.hasOwnProperty.call(a,b)}b.exports=function(a,b,c,f){b=b||"&",c=c||"=";var g={};if("string"!=typeof a||0===a.length)return g;var h=/\+/g;a=a.split(b);var i=1e3;f&&"number"==typeof f.maxKeys&&(i=f.maxKeys);var j=a.length;i>0&&j>i&&(j=i);for(var k=0;k<j;++k){var l,m,n,o,p=a[k].replace(h,"%20"),q=p.indexOf(c);q>=0?(l=p.substr(0,q),m=p.substr(q+1)):(l=p,m=""),n=decodeURIComponent(l),o=decodeURIComponent(m),d(g,n)?e(g[n])?g[n].push(o):g[n]=[g[n],o]:g[n]=o}return g};var e=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)}},{}],114:[function(a,b,c){"use strict";function d(a,b){if(a.map)return a.map(b);for(var c=[],d=0;d<a.length;d++)c.push(b(a[d],d));return c}var e=function(a){switch(typeof a){case"string":return a;case"boolean":return a?"true":"false";case"number":return isFinite(a)?a:"";default:return""}};b.exports=function(a,b,c,h){return b=b||"&",c=c||"=",null===a&&(a=void 0),"object"==typeof a?d(g(a),function(g){var h=encodeURIComponent(e(g))+c;return f(a[g])?d(a[g],function(a){return h+encodeURIComponent(e(a))}).join(b):h+encodeURIComponent(e(a[g]))}).join(b):h?encodeURIComponent(e(h))+c+encodeURIComponent(e(a)):""};var f=Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},g=Object.keys||function(a){var b=[];for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&b.push(c);return b}},{}],115:[function(a,b,c){"use strict";c.decode=c.parse=a("./decode"),c.encode=c.stringify=a("./encode")},{"./decode":113,"./encode":114}],116:[function(a,b,c){"use strict";function d(a){return this instanceof d?(j.call(this,a),k.call(this,a),a&&a.readable===!1&&(this.readable=!1),a&&a.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,a&&a.allowHalfOpen===!1&&(this.allowHalfOpen=!1),void this.once("end",e)):new d(a)}function e(){this.allowHalfOpen||this._writableState.ended||h(f,this)}function f(a){a.end()}var g=Object.keys||function(a){var b=[];for(var c in a)b.push(c);return b};b.exports=d;var h=a("process-nextick-args"),i=a("core-util-is");i.inherits=a("inherits");var j=a("./_stream_readable"),k=a("./_stream_writable");i.inherits(d,j);for(var l=g(k.prototype),m=0;m<l.length;m++){var n=l[m];d.prototype[n]||(d.prototype[n]=k.prototype[n])}},{"./_stream_readable":118,"./_stream_writable":120,"core-util-is":66,inherits:70,"process-nextick-args":109}],117:[function(a,b,c){"use strict";function d(a){return this instanceof d?void e.call(this,a):new d(a)}b.exports=d;var e=a("./_stream_transform"),f=a("core-util-is");f.inherits=a("inherits"),f.inherits(d,e),d.prototype._transform=function(a,b,c){c(null,a)}},{"./_stream_transform":119,"core-util-is":66,inherits:70}],118:[function(a,b,c){(function(c){"use strict";function d(a,b,c){return"function"==typeof a.prependListener?a.prependListener(b,c):void(a._events&&a._events[b]?E(a._events[b])?a._events[b].unshift(c):a._events[b]=[c,a._events[b]]:a.on(b,c))}function e(b,c){O=O||a("./_stream_duplex"),b=b||{},this.objectMode=!!b.objectMode,c instanceof O&&(this.objectMode=this.objectMode||!!b.readableObjectMode);var d=b.highWaterMark,e=this.objectMode?16:16384;this.highWaterMark=d||0===d?d:e,this.highWaterMark=~~this.highWaterMark,this.buffer=new N,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=b.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,b.encoding&&(M||(M=a("string_decoder/").StringDecoder),this.decoder=new M(b.encoding),this.encoding=b.encoding)}function f(b){return O=O||a("./_stream_duplex"),this instanceof f?(this._readableState=new e(b,this),this.readable=!0,b&&"function"==typeof b.read&&(this._read=b.read),void F.call(this)):new f(b)}function g(a,b,c,d,e){var f=k(b,c);if(f)a.emit("error",f);else if(null===c)b.reading=!1,l(a,b);else if(b.objectMode||c&&c.length>0)if(b.ended&&!e){var g=new Error("stream.push() after EOF");a.emit("error",g)}else if(b.endEmitted&&e){var i=new Error("stream.unshift() after end event");a.emit("error",i)}else{var j;!b.decoder||e||d||(c=b.decoder.write(c),j=!b.objectMode&&0===c.length),e||(b.reading=!1),j||(b.flowing&&0===b.length&&!b.sync?(a.emit("data",c),a.read(0)):(b.length+=b.objectMode?1:c.length,e?b.buffer.unshift(c):b.buffer.push(c),b.needReadable&&m(a))),o(a,b)}else e||(b.reading=!1);return h(b)}function h(a){return!a.ended&&(a.needReadable||a.length<a.highWaterMark||0===a.length)}function i(a){return a>=P?a=P:(a--,a|=a>>>1,a|=a>>>2,a|=a>>>4,a|=a>>>8,a|=a>>>16,a++),a}function j(a,b){return a<=0||0===b.length&&b.ended?0:b.objectMode?1:a!==a?b.flowing&&b.length?b.buffer.head.data.length:b.length:(a>b.highWaterMark&&(b.highWaterMark=i(a)),a<=b.length?a:b.ended?b.length:(b.needReadable=!0,0))}function k(a,b){var c=null;return H.isBuffer(b)||"string"==typeof b||null===b||void 0===b||a.objectMode||(c=new TypeError("Invalid non-string/buffer chunk")),c}function l(a,b){if(!b.ended){if(b.decoder){var c=b.decoder.end();c&&c.length&&(b.buffer.push(c),b.length+=b.objectMode?1:c.length)}b.ended=!0,m(a)}}function m(a){var b=a._readableState;b.needReadable=!1,b.emittedReadable||(L("emitReadable",b.flowing),b.emittedReadable=!0,b.sync?D(n,a):n(a))}function n(a){L("emit readable"),a.emit("readable"),u(a)}function o(a,b){b.readingMore||(b.readingMore=!0,D(p,a,b))}function p(a,b){for(var c=b.length;!b.reading&&!b.flowing&&!b.ended&&b.length<b.highWaterMark&&(L("maybeReadMore read 0"),a.read(0),c!==b.length);)c=b.length;b.readingMore=!1}function q(a){return function(){var b=a._readableState;L("pipeOnDrain",b.awaitDrain),b.awaitDrain&&b.awaitDrain--,0===b.awaitDrain&&G(a,"data")&&(b.flowing=!0,u(a))}}function r(a){L("readable nexttick read 0"),a.read(0)}function s(a,b){b.resumeScheduled||(b.resumeScheduled=!0,D(t,a,b))}function t(a,b){b.reading||(L("resume read 0"),a.read(0)),b.resumeScheduled=!1,b.awaitDrain=0,a.emit("resume"),u(a),b.flowing&&!b.reading&&a.read(0)}function u(a){var b=a._readableState;for(L("flow",b.flowing);b.flowing&&null!==a.read(););}function v(a,b){if(0===b.length)return null;var c;return b.objectMode?c=b.buffer.shift():!a||a>=b.length?(c=b.decoder?b.buffer.join(""):1===b.buffer.length?b.buffer.head.data:b.buffer.concat(b.length),b.buffer.clear()):c=w(a,b.buffer,b.decoder),c}function w(a,b,c){var d;return a<b.head.data.length?(d=b.head.data.slice(0,a),b.head.data=b.head.data.slice(a)):d=a===b.head.data.length?b.shift():c?x(a,b):y(a,b),d}function x(a,b){var c=b.head,d=1,e=c.data;for(a-=e.length;c=c.next;){var f=c.data,g=a>f.length?f.length:a;if(e+=g===f.length?f:f.slice(0,a),a-=g,0===a){g===f.length?(++d,c.next?b.head=c.next:b.head=b.tail=null):(b.head=c,c.data=f.slice(g));break}++d}return b.length-=d,e}function y(a,b){var c=I.allocUnsafe(a),d=b.head,e=1;for(d.data.copy(c),a-=d.data.length;d=d.next;){var f=d.data,g=a>f.length?f.length:a;if(f.copy(c,c.length-a,0,g),a-=g,0===a){g===f.length?(++e,d.next?b.head=d.next:b.head=b.tail=null):(b.head=d,d.data=f.slice(g));break}++e}return b.length-=e,c}function z(a){var b=a._readableState;if(b.length>0)throw new Error('"endReadable()" called on non-empty stream');b.endEmitted||(b.ended=!0,D(A,b,a))}function A(a,b){a.endEmitted||0!==a.length||(a.endEmitted=!0,b.readable=!1,b.emit("end"))}function B(a,b){for(var c=0,d=a.length;c<d;c++)b(a[c],c)}function C(a,b){for(var c=0,d=a.length;c<d;c++)if(a[c]===b)return c;return-1}b.exports=f;var D=a("process-nextick-args"),E=a("isarray");f.ReadableState=e;var F,G=(a("events").EventEmitter,function(a,b){return a.listeners(b).length});!function(){try{F=a("stream")}catch(a){}finally{F||(F=a("events").EventEmitter)}}();var H=a("buffer").Buffer,I=a("buffer-shims"),J=a("core-util-is");J.inherits=a("inherits");var K=a("util"),L=void 0;L=K&&K.debuglog?K.debuglog("stream"):function(){};var M,N=a("./internal/streams/BufferList");J.inherits(f,F);var O,O;f.prototype.push=function(a,b){var c=this._readableState;return c.objectMode||"string"!=typeof a||(b=b||c.defaultEncoding,b!==c.encoding&&(a=I.from(a,b),b="")),g(this,c,a,b,!1)},f.prototype.unshift=function(a){var b=this._readableState;return g(this,b,a,"",!0)},f.prototype.isPaused=function(){return this._readableState.flowing===!1},f.prototype.setEncoding=function(b){return M||(M=a("string_decoder/").StringDecoder),this._readableState.decoder=new M(b),this._readableState.encoding=b,this};var P=8388608;f.prototype.read=function(a){L("read",a),a=parseInt(a,10);var b=this._readableState,c=a;if(0!==a&&(b.emittedReadable=!1),0===a&&b.needReadable&&(b.length>=b.highWaterMark||b.ended))return L("read: emitReadable",b.length,b.ended),0===b.length&&b.ended?z(this):m(this),null;if(a=j(a,b),0===a&&b.ended)return 0===b.length&&z(this),null;var d=b.needReadable;L("need readable",d),(0===b.length||b.length-a<b.highWaterMark)&&(d=!0,L("length less than watermark",d)),b.ended||b.reading?(d=!1,L("reading or ended",d)):d&&(L("do read"),b.reading=!0,b.sync=!0,0===b.length&&(b.needReadable=!0),this._read(b.highWaterMark),b.sync=!1,b.reading||(a=j(c,b)));var e;return e=a>0?v(a,b):null,null===e?(b.needReadable=!0,a=0):b.length-=a,0===b.length&&(b.ended||(b.needReadable=!0),c!==a&&b.ended&&z(this)),null!==e&&this.emit("data",e),e},f.prototype._read=function(a){this.emit("error",new Error("not implemented"))},f.prototype.pipe=function(a,b){function e(a){L("onunpipe"),a===m&&g()}function f(){L("onend"),a.end()}function g(){L("cleanup"),a.removeListener("close",j),a.removeListener("finish",k),a.removeListener("drain",r),a.removeListener("error",i),a.removeListener("unpipe",e),m.removeListener("end",f),m.removeListener("end",g),m.removeListener("data",h),s=!0,!n.awaitDrain||a._writableState&&!a._writableState.needDrain||r()}function h(b){L("ondata"),t=!1;var c=a.write(b);!1!==c||t||((1===n.pipesCount&&n.pipes===a||n.pipesCount>1&&C(n.pipes,a)!==-1)&&!s&&(L("false write response, pause",m._readableState.awaitDrain),m._readableState.awaitDrain++,t=!0),m.pause())}function i(b){L("onerror",b),l(),a.removeListener("error",i),0===G(a,"error")&&a.emit("error",b)}function j(){a.removeListener("finish",k),l()}function k(){L("onfinish"),a.removeListener("close",j),l()}function l(){L("unpipe"),m.unpipe(a)}var m=this,n=this._readableState;switch(n.pipesCount){case 0:n.pipes=a;break;case 1:n.pipes=[n.pipes,a];break;default:n.pipes.push(a)}n.pipesCount+=1,L("pipe count=%d opts=%j",n.pipesCount,b);var o=(!b||b.end!==!1)&&a!==c.stdout&&a!==c.stderr,p=o?f:g;n.endEmitted?D(p):m.once("end",p),a.on("unpipe",e);var r=q(m);a.on("drain",r);var s=!1,t=!1;return m.on("data",h),d(a,"error",i),a.once("close",j),a.once("finish",k),a.emit("pipe",m),n.flowing||(L("pipe resume"),m.resume()),a},f.prototype.unpipe=function(a){var b=this._readableState;if(0===b.pipesCount)return this;if(1===b.pipesCount)return a&&a!==b.pipes?this:(a||(a=b.pipes),b.pipes=null,b.pipesCount=0,b.flowing=!1,a&&a.emit("unpipe",this),this);if(!a){var c=b.pipes,d=b.pipesCount;b.pipes=null,b.pipesCount=0,b.flowing=!1;for(var e=0;e<d;e++)c[e].emit("unpipe",this);return this}var f=C(b.pipes,a);return f===-1?this:(b.pipes.splice(f,1),b.pipesCount-=1,1===b.pipesCount&&(b.pipes=b.pipes[0]),a.emit("unpipe",this),this)},f.prototype.on=function(a,b){var c=F.prototype.on.call(this,a,b);if("data"===a)this._readableState.flowing!==!1&&this.resume();else if("readable"===a){var d=this._readableState;d.endEmitted||d.readableListening||(d.readableListening=d.needReadable=!0,d.emittedReadable=!1,d.reading?d.length&&m(this,d):D(r,this))}return c},f.prototype.addListener=f.prototype.on,f.prototype.resume=function(){var a=this._readableState;return a.flowing||(L("resume"),a.flowing=!0,s(this,a)),this},f.prototype.pause=function(){return L("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(L("pause"),this._readableState.flowing=!1,this.emit("pause")),this},f.prototype.wrap=function(a){var b=this._readableState,c=!1,d=this;a.on("end",function(){if(L("wrapped end"),b.decoder&&!b.ended){var a=b.decoder.end();a&&a.length&&d.push(a)}d.push(null)}),a.on("data",function(e){if(L("wrapped data"),b.decoder&&(e=b.decoder.write(e)),(!b.objectMode||null!==e&&void 0!==e)&&(b.objectMode||e&&e.length)){var f=d.push(e);f||(c=!0,a.pause())}});for(var e in a)void 0===this[e]&&"function"==typeof a[e]&&(this[e]=function(b){return function(){return a[b].apply(a,arguments)}}(e));var f=["error","close","destroy","pause","resume"];return B(f,function(b){a.on(b,d.emit.bind(d,b))}),d._read=function(b){L("wrapped _read",b),c&&(c=!1,a.resume())},d},f._fromList=v}).call(this,a("_process"))},{"./_stream_duplex":116,"./internal/streams/BufferList":121,_process:110,buffer:64,"buffer-shims":63,"core-util-is":66,events:67,inherits:70,isarray:72,"process-nextick-args":109,"string_decoder/":128,util:62}],119:[function(a,b,c){"use strict";function d(a){this.afterTransform=function(b,c){return e(a,b,c)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function e(a,b,c){var d=a._transformState;d.transforming=!1;var e=d.writecb;if(!e)return a.emit("error",new Error("no writecb in Transform class"));d.writechunk=null,d.writecb=null,null!==c&&void 0!==c&&a.push(c),e(b);var f=a._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&a._read(f.highWaterMark)}function f(a){if(!(this instanceof f))return new f(a);h.call(this,a),this._transformState=new d(this);var b=this;this._readableState.needReadable=!0,this._readableState.sync=!1,a&&("function"==typeof a.transform&&(this._transform=a.transform),"function"==typeof a.flush&&(this._flush=a.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(a){g(b,a)}):g(b)})}function g(a,b){if(b)return a.emit("error",b);var c=a._writableState,d=a._transformState;if(c.length)throw new Error("Calling transform done when ws.length != 0");if(d.transforming)throw new Error("Calling transform done when still transforming");return a.push(null)}b.exports=f;var h=a("./_stream_duplex"),i=a("core-util-is");i.inherits=a("inherits"),i.inherits(f,h),f.prototype.push=function(a,b){return this._transformState.needTransform=!1,h.prototype.push.call(this,a,b)},f.prototype._transform=function(a,b,c){throw new Error("Not implemented")},f.prototype._write=function(a,b,c){var d=this._transformState;if(d.writecb=c,d.writechunk=a,d.writeencoding=b,!d.transforming){var e=this._readableState;(d.needTransform||e.needReadable||e.length<e.highWaterMark)&&this._read(e.highWaterMark)}},f.prototype._read=function(a){var b=this._transformState;null!==b.writechunk&&b.writecb&&!b.transforming?(b.transforming=!0,this._transform(b.writechunk,b.writeencoding,b.afterTransform)):b.needTransform=!0}},{"./_stream_duplex":116,"core-util-is":66,inherits:70}],120:[function(a,b,c){(function(c){"use strict";function d(){}function e(a,b,c){this.chunk=a,this.encoding=b,this.callback=c,this.next=null}function f(b,c){E=E||a("./_stream_duplex"),b=b||{},this.objectMode=!!b.objectMode,c instanceof E&&(this.objectMode=this.objectMode||!!b.writableObjectMode);var d=b.highWaterMark,e=this.objectMode?16:16384;this.highWaterMark=d||0===d?d:e,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;var f=b.decodeStrings===!1;this.decodeStrings=!f,this.defaultEncoding=b.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(a){o(c,a)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new w(this)}function g(b){return E=E||a("./_stream_duplex"),this instanceof g||this instanceof E?(this._writableState=new f(b,this),this.writable=!0,b&&("function"==typeof b.write&&(this._write=b.write),"function"==typeof b.writev&&(this._writev=b.writev)),void A.call(this)):new g(b)}function h(a,b){var c=new Error("write after end");a.emit("error",c),x(b,c)}function i(a,b,c,d){var e=!0,f=!1;return null===c?f=new TypeError("May not write null values to stream"):C.isBuffer(c)||"string"==typeof c||void 0===c||b.objectMode||(f=new TypeError("Invalid non-string/buffer chunk")),f&&(a.emit("error",f),x(d,f),e=!1),e}function j(a,b,c){return a.objectMode||a.decodeStrings===!1||"string"!=typeof b||(b=D.from(b,c)),b}function k(a,b,c,d,f){c=j(b,c,d),C.isBuffer(c)&&(d="buffer");var g=b.objectMode?1:c.length;b.length+=g;var h=b.length<b.highWaterMark;if(h||(b.needDrain=!0),b.writing||b.corked){var i=b.lastBufferedRequest;b.lastBufferedRequest=new e(c,d,f),i?i.next=b.lastBufferedRequest:b.bufferedRequest=b.lastBufferedRequest,b.bufferedRequestCount+=1}else l(a,b,!1,g,c,d,f);return h}function l(a,b,c,d,e,f,g){b.writelen=d,b.writecb=g,b.writing=!0,b.sync=!0,c?a._writev(e,b.onwrite):a._write(e,f,b.onwrite),b.sync=!1}function m(a,b,c,d,e){--b.pendingcb,c?x(e,d):e(d),a._writableState.errorEmitted=!0,a.emit("error",d)}function n(a){a.writing=!1,a.writecb=null,a.length-=a.writelen,a.writelen=0}function o(a,b){var c=a._writableState,d=c.sync,e=c.writecb;if(n(c),b)m(a,c,d,b,e);else{var f=s(c);f||c.corked||c.bufferProcessing||!c.bufferedRequest||r(a,c),d?y(p,a,c,f,e):p(a,c,f,e)}}function p(a,b,c,d){c||q(a,b),b.pendingcb--,d(),u(a,b)}function q(a,b){0===b.length&&b.needDrain&&(b.needDrain=!1,a.emit("drain"))}function r(a,b){b.bufferProcessing=!0;var c=b.bufferedRequest;if(a._writev&&c&&c.next){var d=b.bufferedRequestCount,e=new Array(d),f=b.corkedRequestsFree;f.entry=c;for(var g=0;c;)e[g]=c,c=c.next,g+=1;l(a,b,!0,b.length,e,"",f.finish),b.pendingcb++,b.lastBufferedRequest=null,f.next?(b.corkedRequestsFree=f.next,f.next=null):b.corkedRequestsFree=new w(b)}else{for(;c;){var h=c.chunk,i=c.encoding,j=c.callback,k=b.objectMode?1:h.length;if(l(a,b,!1,k,h,i,j),c=c.next,b.writing)break}null===c&&(b.lastBufferedRequest=null)}b.bufferedRequestCount=0,b.bufferedRequest=c,b.bufferProcessing=!1}function s(a){return a.ending&&0===a.length&&null===a.bufferedRequest&&!a.finished&&!a.writing}function t(a,b){b.prefinished||(b.prefinished=!0,a.emit("prefinish"))}function u(a,b){var c=s(b);return c&&(0===b.pendingcb?(t(a,b),b.finished=!0,a.emit("finish")):t(a,b)),c}function v(a,b,c){b.ending=!0,u(a,b),c&&(b.finished?x(c):a.once("finish",c)),b.ended=!0,a.writable=!1}function w(a){var b=this;this.next=null,this.entry=null,this.finish=function(c){var d=b.entry;for(b.entry=null;d;){var e=d.callback;a.pendingcb--,e(c),d=d.next}a.corkedRequestsFree?a.corkedRequestsFree.next=b:a.corkedRequestsFree=b}}b.exports=g;var x=a("process-nextick-args"),y=!c.browser&&["v0.10","v0.9."].indexOf(c.version.slice(0,5))>-1?setImmediate:x;g.WritableState=f;var z=a("core-util-is");z.inherits=a("inherits");var A,B={deprecate:a("util-deprecate")};!function(){try{A=a("stream")}catch(a){}finally{A||(A=a("events").EventEmitter)}}();var C=a("buffer").Buffer,D=a("buffer-shims");z.inherits(g,A);var E;f.prototype.getBuffer=function(){for(var a=this.bufferedRequest,b=[];a;)b.push(a),a=a.next;return b},function(){try{Object.defineProperty(f.prototype,"buffer",{get:B.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(a){}}();var E;g.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},g.prototype.write=function(a,b,c){var e=this._writableState,f=!1;return"function"==typeof b&&(c=b,b=null),C.isBuffer(a)?b="buffer":b||(b=e.defaultEncoding),"function"!=typeof c&&(c=d),e.ended?h(this,c):i(this,e,a,c)&&(e.pendingcb++,f=k(this,e,a,b,c)),f},g.prototype.cork=function(){var a=this._writableState;a.corked++},g.prototype.uncork=function(){var a=this._writableState;a.corked&&(a.corked--,a.writing||a.corked||a.finished||a.bufferProcessing||!a.bufferedRequest||r(this,a))},g.prototype.setDefaultEncoding=function(a){if("string"==typeof a&&(a=a.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((a+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+a);return this._writableState.defaultEncoding=a,this},g.prototype._write=function(a,b,c){c(new Error("not implemented"))},g.prototype._writev=null,g.prototype.end=function(a,b,c){var d=this._writableState;"function"==typeof a?(c=a,a=null,b=null):"function"==typeof b&&(c=b,b=null),null!==a&&void 0!==a&&this.write(a,b),d.corked&&(d.corked=1,this.uncork()),d.ending||d.finished||v(this,d,c)}}).call(this,a("_process"))},{"./_stream_duplex":116,_process:110,buffer:64,"buffer-shims":63,"core-util-is":66,events:67,inherits:70,"process-nextick-args":109,"util-deprecate":133}],121:[function(a,b,c){"use strict";function d(){this.head=null,this.tail=null,this.length=0}var e=(a("buffer").Buffer,a("buffer-shims"));b.exports=d,d.prototype.push=function(a){var b={data:a,next:null};this.length>0?this.tail.next=b:this.head=b,this.tail=b,++this.length},d.prototype.unshift=function(a){var b={data:a,next:this.head};0===this.length&&(this.tail=b),this.head=b,++this.length},d.prototype.shift=function(){if(0!==this.length){var a=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,a}},d.prototype.clear=function(){this.head=this.tail=null,this.length=0},d.prototype.join=function(a){if(0===this.length)return"";for(var b=this.head,c=""+b.data;b=b.next;)c+=a+b.data;return c},d.prototype.concat=function(a){if(0===this.length)return e.alloc(0);if(1===this.length)return this.head.data;for(var b=e.allocUnsafe(a>>>0),c=this.head,d=0;c;)c.data.copy(b,d),d+=c.data.length,c=c.next;return b}},{buffer:64,"buffer-shims":63}],122:[function(a,b,c){(function(d){var e=function(){try{return a("stream")}catch(a){}}();c=b.exports=a("./lib/_stream_readable.js"),c.Stream=e||c,c.Readable=c,c.Writable=a("./lib/_stream_writable.js"),c.Duplex=a("./lib/_stream_duplex.js"),c.Transform=a("./lib/_stream_transform.js"),c.PassThrough=a("./lib/_stream_passthrough.js"),!d.browser&&"disable"===d.env.READABLE_STREAM&&e&&(b.exports=e)}).call(this,a("_process"))},{"./lib/_stream_duplex.js":116,"./lib/_stream_passthrough.js":117,"./lib/_stream_readable.js":118,"./lib/_stream_transform.js":119,"./lib/_stream_writable.js":120,_process:110}],123:[function(a,b,c){(function(a){function d(a,b){if(a instanceof g)return a;if("string"!=typeof a)return null;if(a.length>X)return null;var c=b?Z[oa]:Z[la];if(!c.test(a))return null;try{return new g(a,b)}catch(a){return null}}function e(a,b){var c=d(a,b);return c?c.version:null}function f(a,b){var c=d(a.trim().replace(/^[=v]+/,""),b);return c?c.version:null}function g(a,b){if(a instanceof g){if(a.loose===b)return a;a=a.version}else if("string"!=typeof a)throw new TypeError("Invalid Version: "+a);if(a.length>X)throw new TypeError("version is longer than "+X+" characters");if(!(this instanceof g))return new g(a,b);W("SemVer",a,b),this.loose=b;var c=a.trim().match(b?Z[oa]:Z[la]);if(!c)throw new TypeError("Invalid Version: "+a);if(this.raw=a,this.major=+c[1],this.minor=+c[2],this.patch=+c[3],this.major>Y||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Y||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Y||this.patch<0)throw new TypeError("Invalid patch version");c[4]?this.prerelease=c[4].split(".").map(function(a){if(/^[0-9]+$/.test(a)){var b=+a;if(b>=0&&b<Y)return b}return a}):this.prerelease=[],this.build=c[5]?c[5].split("."):[],this.format()}function h(a,b,c,d){"string"==typeof c&&(d=c,c=void 0);try{return new g(a,c).inc(b,d).version}catch(a){return null}}function i(a,b){if(v(a,b))return null;var c=d(a),e=d(b);if(c.prerelease.length||e.prerelease.length){for(var f in c)if(("major"===f||"minor"===f||"patch"===f)&&c[f]!==e[f])return"pre"+f;return"prerelease"}for(var f in c)if(("major"===f||"minor"===f||"patch"===f)&&c[f]!==e[f])return f}function j(a,b){var c=Oa.test(a),d=Oa.test(b);return c&&d&&(a=+a,b=+b),c&&!d?-1:d&&!c?1:a<b?-1:a>b?1:0}function k(a,b){return j(b,a)}function l(a,b){return new g(a,b).major}function m(a,b){return new g(a,b).minor}function n(a,b){return new g(a,b).patch}function o(a,b,c){return new g(a,c).compare(b)}function p(a,b){return o(a,b,!0)}function q(a,b,c){return o(b,a,c)}function r(a,b){return a.sort(function(a,d){return c.compare(a,d,b)})}function s(a,b){return a.sort(function(a,d){return c.rcompare(a,d,b)})}function t(a,b,c){return o(a,b,c)>0}function u(a,b,c){return o(a,b,c)<0}function v(a,b,c){return 0===o(a,b,c)}function w(a,b,c){return 0!==o(a,b,c)}function x(a,b,c){return o(a,b,c)>=0}function y(a,b,c){return o(a,b,c)<=0}function z(a,b,c,d){var e;switch(b){case"===":"object"==typeof a&&(a=a.version),"object"==typeof c&&(c=c.version),e=a===c;break;case"!==":"object"==typeof a&&(a=a.version),"object"==typeof c&&(c=c.version),e=a!==c;break;case"":case"=":case"==":e=v(a,c,d);break;case"!=":e=w(a,c,d);break;case">":e=t(a,c,d);break;case">=":e=x(a,c,d);break;case"<":e=u(a,c,d);break;case"<=":e=y(a,c,d);break;default:throw new TypeError("Invalid operator: "+b)}return e}function A(a,b){if(a instanceof A){if(a.loose===b)return a;a=a.value}return this instanceof A?(W("comparator",a,b),this.loose=b,this.parse(a),this.semver===Pa?this.value="":this.value=this.operator+this.semver.version,void W("comp",this)):new A(a,b)}function B(a,b){if(a instanceof B&&a.loose===b)return a;if(!(this instanceof B))return new B(a,b);if(this.loose=b,this.raw=a,this.set=a.split(/\s*\|\|\s*/).map(function(a){return this.parseRange(a.trim())},this).filter(function(a){return a.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+a);this.format()}function C(a,b){return new B(a,b).set.map(function(a){return a.map(function(a){return a.value}).join(" ").trim().split(" ")})}function D(a,b){return W("comp",a),a=H(a,b),W("caret",a),a=F(a,b),W("tildes",a),a=J(a,b),W("xrange",a),a=L(a,b),W("stars",a),a}function E(a){return!a||"x"===a.toLowerCase()||"*"===a}function F(a,b){return a.trim().split(/\s+/).map(function(a){return G(a,b)}).join(" ")}function G(a,b){var c=b?Z[Aa]:Z[za];return a.replace(c,function(b,c,d,e,f){W("tilde",a,b,c,d,e,f);var g;return E(c)?g="":E(d)?g=">="+c+".0.0 <"+(+c+1)+".0.0":E(e)?g=">="+c+"."+d+".0 <"+c+"."+(+d+1)+".0":f?(W("replaceTilde pr",f),"-"!==f.charAt(0)&&(f="-"+f),g=">="+c+"."+d+"."+e+f+" <"+c+"."+(+d+1)+".0"):g=">="+c+"."+d+"."+e+" <"+c+"."+(+d+1)+".0",W("tilde return",g),g})}function H(a,b){return a.trim().split(/\s+/).map(function(a){return I(a,b)}).join(" ")}function I(a,b){W("caret",a,b);var c=b?Z[Fa]:Z[Ea];return a.replace(c,function(b,c,d,e,f){W("caret",a,b,c,d,e,f);var g;return E(c)?g="":E(d)?g=">="+c+".0.0 <"+(+c+1)+".0.0":E(e)?g="0"===c?">="+c+"."+d+".0 <"+c+"."+(+d+1)+".0":">="+c+"."+d+".0 <"+(+c+1)+".0.0":f?(W("replaceCaret pr",f),"-"!==f.charAt(0)&&(f="-"+f),g="0"===c?"0"===d?">="+c+"."+d+"."+e+f+" <"+c+"."+d+"."+(+e+1):">="+c+"."+d+"."+e+f+" <"+c+"."+(+d+1)+".0":">="+c+"."+d+"."+e+f+" <"+(+c+1)+".0.0"):(W("no pr"),g="0"===c?"0"===d?">="+c+"."+d+"."+e+" <"+c+"."+d+"."+(+e+1):">="+c+"."+d+"."+e+" <"+c+"."+(+d+1)+".0":">="+c+"."+d+"."+e+" <"+(+c+1)+".0.0"),W("caret return",g),g})}function J(a,b){return W("replaceXRanges",a,b),a.split(/\s+/).map(function(a){return K(a,b)}).join(" ")}function K(a,b){a=a.trim();var c=b?Z[va]:Z[ua];return a.replace(c,function(b,c,d,e,f,g){W("xRange",a,b,c,d,e,f,g);var h=E(d),i=h||E(e),j=i||E(f),k=j;return"="===c&&k&&(c=""),h?b=">"===c||"<"===c?"<0.0.0":"*":c&&k?(i&&(e=0),j&&(f=0),">"===c?(c=">=",i?(d=+d+1,e=0,f=0):j&&(e=+e+1,f=0)):"<="===c&&(c="<",i?d=+d+1:e=+e+1),b=c+d+"."+e+"."+f):i?b=">="+d+".0.0 <"+(+d+1)+".0.0":j&&(b=">="+d+"."+e+".0 <"+d+"."+(+e+1)+".0"),W("xRange return",b),b})}function L(a,b){return W("replaceStars",a,b),a.trim().replace(Z[Ma],"")}function M(a,b,c,d,e,f,g,h,i,j,k,l,m){return b=E(c)?"":E(d)?">="+c+".0.0":E(e)?">="+c+"."+d+".0":">="+b,h=E(i)?"":E(j)?"<"+(+i+1)+".0.0":E(k)?"<"+i+"."+(+j+1)+".0":l?"<="+i+"."+j+"."+k+"-"+l:"<="+h,(b+" "+h).trim()}function N(a,b){for(var c=0;c<a.length;c++)if(!a[c].test(b))return!1;if(b.prerelease.length){for(var c=0;c<a.length;c++)if(W(a[c].semver),a[c].semver!==Pa&&a[c].semver.prerelease.length>0){var d=a[c].semver;if(d.major===b.major&&d.minor===b.minor&&d.patch===b.patch)return!0}return!1}return!0}function O(a,b,c){try{b=new B(b,c)}catch(a){return!1}return b.test(a)}function P(a,b,c){return a.filter(function(a){return O(a,b,c)}).sort(function(a,b){return q(a,b,c)})[0]||null}function Q(a,b,c){return a.filter(function(a){return O(a,b,c)}).sort(function(a,b){return o(a,b,c)})[0]||null}function R(a,b){try{return new B(a,b).range||"*"}catch(a){return null}}function S(a,b,c){return U(a,b,"<",c)}function T(a,b,c){return U(a,b,">",c)}function U(a,b,c,d){a=new g(a,d),b=new B(b,d);var e,f,h,i,j;switch(c){case">":e=t,f=y,h=u,i=">",j=">=";break;case"<":e=u,f=x,h=t,i="<",j="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(O(a,b,d))return!1;for(var k=0;k<b.set.length;++k){var l=b.set[k],m=null,n=null;if(l.forEach(function(a){a.semver===Pa&&(a=new A(">=0.0.0")),m=m||a,n=n||a,e(a.semver,m.semver,d)?m=a:h(a.semver,n.semver,d)&&(n=a)}),m.operator===i||m.operator===j)return!1;if((!n.operator||n.operator===i)&&f(a,n.semver))return!1;if(n.operator===j&&h(a,n.semver))return!1}return!0}function V(a,b){var c=d(a,b);return c&&c.prerelease.length?c.prerelease:null}c=b.exports=g;var W;W="object"==typeof a&&a.env&&a.env.NODE_DEBUG&&/\bsemver\b/i.test(a.env.NODE_DEBUG)?function(){var a=Array.prototype.slice.call(arguments,0);a.unshift("SEMVER"),console.log.apply(console,a)}:function(){},c.SEMVER_SPEC_VERSION="2.0.0";var X=256,Y=Number.MAX_SAFE_INTEGER||9007199254740991,Z=c.re=[],$=c.src=[],_=0,aa=_++;$[aa]="0|[1-9]\\d*";var ba=_++;$[ba]="[0-9]+";var ca=_++;$[ca]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var da=_++;$[da]="("+$[aa]+")\\.("+$[aa]+")\\.("+$[aa]+")";var ea=_++;$[ea]="("+$[ba]+")\\.("+$[ba]+")\\.("+$[ba]+")";var fa=_++;$[fa]="(?:"+$[aa]+"|"+$[ca]+")";var ga=_++;$[ga]="(?:"+$[ba]+"|"+$[ca]+")";var ha=_++;$[ha]="(?:-("+$[fa]+"(?:\\."+$[fa]+")*))";var ia=_++;$[ia]="(?:-?("+$[ga]+"(?:\\."+$[ga]+")*))";var ja=_++;$[ja]="[0-9A-Za-z-]+";
var ka=_++;$[ka]="(?:\\+("+$[ja]+"(?:\\."+$[ja]+")*))";var la=_++,ma="v?"+$[da]+$[ha]+"?"+$[ka]+"?";$[la]="^"+ma+"$";var na="[v=\\s]*"+$[ea]+$[ia]+"?"+$[ka]+"?",oa=_++;$[oa]="^"+na+"$";var pa=_++;$[pa]="((?:<|>)?=?)";var qa=_++;$[qa]=$[ba]+"|x|X|\\*";var ra=_++;$[ra]=$[aa]+"|x|X|\\*";var sa=_++;$[sa]="[v=\\s]*("+$[ra]+")(?:\\.("+$[ra]+")(?:\\.("+$[ra]+")(?:"+$[ha]+")?"+$[ka]+"?)?)?";var ta=_++;$[ta]="[v=\\s]*("+$[qa]+")(?:\\.("+$[qa]+")(?:\\.("+$[qa]+")(?:"+$[ia]+")?"+$[ka]+"?)?)?";var ua=_++;$[ua]="^"+$[pa]+"\\s*"+$[sa]+"$";var va=_++;$[va]="^"+$[pa]+"\\s*"+$[ta]+"$";var wa=_++;$[wa]="(?:~>?)";var xa=_++;$[xa]="(\\s*)"+$[wa]+"\\s+",Z[xa]=new RegExp($[xa],"g");var ya="$1~",za=_++;$[za]="^"+$[wa]+$[sa]+"$";var Aa=_++;$[Aa]="^"+$[wa]+$[ta]+"$";var Ba=_++;$[Ba]="(?:\\^)";var Ca=_++;$[Ca]="(\\s*)"+$[Ba]+"\\s+",Z[Ca]=new RegExp($[Ca],"g");var Da="$1^",Ea=_++;$[Ea]="^"+$[Ba]+$[sa]+"$";var Fa=_++;$[Fa]="^"+$[Ba]+$[ta]+"$";var Ga=_++;$[Ga]="^"+$[pa]+"\\s*("+na+")$|^$";var Ha=_++;$[Ha]="^"+$[pa]+"\\s*("+ma+")$|^$";var Ia=_++;$[Ia]="(\\s*)"+$[pa]+"\\s*("+na+"|"+$[sa]+")",Z[Ia]=new RegExp($[Ia],"g");var Ja="$1$2$3",Ka=_++;$[Ka]="^\\s*("+$[sa]+")\\s+-\\s+("+$[sa]+")\\s*$";var La=_++;$[La]="^\\s*("+$[ta]+")\\s+-\\s+("+$[ta]+")\\s*$";var Ma=_++;$[Ma]="(<|>)?=?\\s*\\*";for(var Na=0;Na<_;Na++)W(Na,$[Na]),Z[Na]||(Z[Na]=new RegExp($[Na]));c.parse=d,c.valid=e,c.clean=f,c.SemVer=g,g.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},g.prototype.toString=function(){return this.version},g.prototype.compare=function(a){return W("SemVer.compare",this.version,this.loose,a),a instanceof g||(a=new g(a,this.loose)),this.compareMain(a)||this.comparePre(a)},g.prototype.compareMain=function(a){return a instanceof g||(a=new g(a,this.loose)),j(this.major,a.major)||j(this.minor,a.minor)||j(this.patch,a.patch)},g.prototype.comparePre=function(a){if(a instanceof g||(a=new g(a,this.loose)),this.prerelease.length&&!a.prerelease.length)return-1;if(!this.prerelease.length&&a.prerelease.length)return 1;if(!this.prerelease.length&&!a.prerelease.length)return 0;var b=0;do{var c=this.prerelease[b],d=a.prerelease[b];if(W("prerelease compare",b,c,d),void 0===c&&void 0===d)return 0;if(void 0===d)return 1;if(void 0===c)return-1;if(c!==d)return j(c,d)}while(++b)},g.prototype.inc=function(a,b){switch(a){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",b);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",b);break;case"prepatch":this.prerelease.length=0,this.inc("patch",b),this.inc("pre",b);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",b),this.inc("pre",b);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var c=this.prerelease.length;--c>=0;)"number"==typeof this.prerelease[c]&&(this.prerelease[c]++,c=-2);c===-1&&this.prerelease.push(0)}b&&(this.prerelease[0]===b?isNaN(this.prerelease[1])&&(this.prerelease=[b,0]):this.prerelease=[b,0]);break;default:throw new Error("invalid increment argument: "+a)}return this.format(),this.raw=this.version,this},c.inc=h,c.diff=i,c.compareIdentifiers=j;var Oa=/^[0-9]+$/;c.rcompareIdentifiers=k,c.major=l,c.minor=m,c.patch=n,c.compare=o,c.compareLoose=p,c.rcompare=q,c.sort=r,c.rsort=s,c.gt=t,c.lt=u,c.eq=v,c.neq=w,c.gte=x,c.lte=y,c.cmp=z,c.Comparator=A;var Pa={};A.prototype.parse=function(a){var b=this.loose?Z[Ga]:Z[Ha],c=a.match(b);if(!c)throw new TypeError("Invalid comparator: "+a);this.operator=c[1],"="===this.operator&&(this.operator=""),c[2]?this.semver=new g(c[2],this.loose):this.semver=Pa},A.prototype.toString=function(){return this.value},A.prototype.test=function(a){return W("Comparator.test",a,this.loose),this.semver===Pa||("string"==typeof a&&(a=new g(a,this.loose)),z(a,this.operator,this.semver,this.loose))},c.Range=B,B.prototype.format=function(){return this.range=this.set.map(function(a){return a.join(" ").trim()}).join("||").trim(),this.range},B.prototype.toString=function(){return this.range},B.prototype.parseRange=function(a){var b=this.loose;a=a.trim(),W("range",a,b);var c=b?Z[La]:Z[Ka];a=a.replace(c,M),W("hyphen replace",a),a=a.replace(Z[Ia],Ja),W("comparator trim",a,Z[Ia]),a=a.replace(Z[xa],ya),a=a.replace(Z[Ca],Da),a=a.split(/\s+/).join(" ");var d=b?Z[Ga]:Z[Ha],e=a.split(" ").map(function(a){return D(a,b)}).join(" ").split(/\s+/);return this.loose&&(e=e.filter(function(a){return!!a.match(d)})),e=e.map(function(a){return new A(a,b)})},c.toComparators=C,B.prototype.test=function(a){if(!a)return!1;"string"==typeof a&&(a=new g(a,this.loose));for(var b=0;b<this.set.length;b++)if(N(this.set[b],a))return!0;return!1},c.satisfies=O,c.maxSatisfying=P,c.minSatisfying=Q,c.validRange=R,c.ltr=S,c.gtr=T,c.outside=U,c.prerelease=V}).call(this,a("_process"))},{_process:110}],124:[function(a,b,c){(function(b){var d=a("./lib/request"),e=a("xtend"),f=a("builtin-status-codes"),g=a("url"),h=c;h.request=function(a,c){a="string"==typeof a?g.parse(a):e(a);var f=b.location.protocol.search(/^https?:$/)===-1?"http:":"",h=a.protocol||f,i=a.hostname||a.host,j=a.port,k=a.path||"/";i&&i.indexOf(":")!==-1&&(i="["+i+"]"),a.url=(i?h+"//"+i:"")+(j?":"+j:"")+k,a.method=(a.method||"GET").toUpperCase(),a.headers=a.headers||{};var l=new d(a);return c&&l.on("response",c),l},h.get=function(a,b){var c=h.request(a,b);return c.end(),c},h.Agent=function(){},h.Agent.defaultMaxSockets=4,h.STATUS_CODES=f,h.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./lib/request":126,"builtin-status-codes":65,url:131,xtend:137}],125:[function(a,b,c){(function(a){function b(a){try{return e.responseType=a,e.responseType===a}catch(a){}return!1}function d(a){return"function"==typeof a}c.fetch=d(a.fetch)&&d(a.ReadableStream),c.blobConstructor=!1;try{new Blob([new ArrayBuffer(1)]),c.blobConstructor=!0}catch(a){}var e=new a.XMLHttpRequest;e.open("GET",a.location.host?"/":"https://example.com");var f="undefined"!=typeof a.ArrayBuffer,g=f&&d(a.ArrayBuffer.prototype.slice);c.arraybuffer=f&&b("arraybuffer"),c.msstream=!c.fetch&&g&&b("ms-stream"),c.mozchunkedarraybuffer=!c.fetch&&f&&b("moz-chunked-arraybuffer"),c.overrideMimeType=d(e.overrideMimeType),c.vbArray=d(a.VBArray),e=null}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],126:[function(a,b,c){(function(c,d,e){function f(a){return h.fetch?"fetch":h.mozchunkedarraybuffer?"moz-chunked-arraybuffer":h.msstream?"ms-stream":h.arraybuffer&&a?"arraybuffer":h.vbArray&&a?"text:vbarray":"text"}function g(a){try{var b=a.status;return null!==b&&0!==b}catch(a){return!1}}var h=a("./capability"),i=a("inherits"),j=a("./response"),k=a("readable-stream"),l=a("to-arraybuffer"),m=j.IncomingMessage,n=j.readyStates,o=b.exports=function(a){var b=this;k.Writable.call(b),b._opts=a,b._body=[],b._headers={},a.auth&&b.setHeader("Authorization","Basic "+new e(a.auth).toString("base64")),Object.keys(a.headers).forEach(function(c){b.setHeader(c,a.headers[c])});var c;if("prefer-streaming"===a.mode)c=!1;else if("allow-wrong-content-type"===a.mode)c=!h.overrideMimeType;else{if(a.mode&&"default"!==a.mode&&"prefer-fast"!==a.mode)throw new Error("Invalid value for opts.mode");c=!0}b._mode=f(c),b.on("finish",function(){b._onFinish()})};i(o,k.Writable),o.prototype.setHeader=function(a,b){var c=this,d=a.toLowerCase();p.indexOf(d)===-1&&(c._headers[d]={name:a,value:b})},o.prototype.getHeader=function(a){var b=this;return b._headers[a.toLowerCase()].value},o.prototype.removeHeader=function(a){var b=this;delete b._headers[a.toLowerCase()]},o.prototype._onFinish=function(){var a=this;if(!a._destroyed){var b,f=a._opts,g=a._headers;if("POST"!==f.method&&"PUT"!==f.method&&"PATCH"!==f.method||(b=h.blobConstructor?new d.Blob(a._body.map(function(a){return l(a)}),{type:(g["content-type"]||{}).value||""}):e.concat(a._body).toString()),"fetch"===a._mode){var i=Object.keys(g).map(function(a){return[g[a].name,g[a].value]});d.fetch(a._opts.url,{method:a._opts.method,headers:i,body:b,mode:"cors",credentials:f.withCredentials?"include":"same-origin"}).then(function(b){a._fetchResponse=b,a._connect()},function(b){a.emit("error",b)})}else{var j=a._xhr=new d.XMLHttpRequest;try{j.open(a._opts.method,a._opts.url,!0)}catch(b){return void c.nextTick(function(){a.emit("error",b)})}"responseType"in j&&(j.responseType=a._mode.split(":")[0]),"withCredentials"in j&&(j.withCredentials=!!f.withCredentials),"text"===a._mode&&"overrideMimeType"in j&&j.overrideMimeType("text/plain; charset=x-user-defined"),Object.keys(g).forEach(function(a){j.setRequestHeader(g[a].name,g[a].value)}),a._response=null,j.onreadystatechange=function(){switch(j.readyState){case n.LOADING:case n.DONE:a._onXHRProgress()}},"moz-chunked-arraybuffer"===a._mode&&(j.onprogress=function(){a._onXHRProgress()}),j.onerror=function(){a._destroyed||a.emit("error",new Error("XHR error"))};try{j.send(b)}catch(b){return void c.nextTick(function(){a.emit("error",b)})}}}},o.prototype._onXHRProgress=function(){var a=this;g(a._xhr)&&!a._destroyed&&(a._response||a._connect(),a._response._onXHRProgress())},o.prototype._connect=function(){var a=this;a._destroyed||(a._response=new m(a._xhr,a._fetchResponse,a._mode),a.emit("response",a._response))},o.prototype._write=function(a,b,c){var d=this;d._body.push(a),c()},o.prototype.abort=o.prototype.destroy=function(){var a=this;a._destroyed=!0,a._response&&(a._response._destroyed=!0),a._xhr&&a._xhr.abort()},o.prototype.end=function(a,b,c){var d=this;"function"==typeof a&&(c=a,a=void 0),k.Writable.prototype.end.call(d,a,b,c)},o.prototype.flushHeaders=function(){},o.prototype.setTimeout=function(){},o.prototype.setNoDelay=function(){},o.prototype.setSocketKeepAlive=function(){};var p=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"]}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},a("buffer").Buffer)},{"./capability":125,"./response":127,_process:110,buffer:64,inherits:70,"readable-stream":122,"to-arraybuffer":129}],127:[function(a,b,c){(function(b,d,e){var f=a("./capability"),g=a("inherits"),h=a("readable-stream"),i=c.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},j=c.IncomingMessage=function(a,c,d){function g(){m.read().then(function(a){if(!i._destroyed){if(a.done)return void i.push(null);i.push(new e(a.value)),g()}})}var i=this;if(h.Readable.call(i),i._mode=d,i.headers={},i.rawHeaders=[],i.trailers={},i.rawTrailers=[],i.on("end",function(){b.nextTick(function(){i.emit("close")})}),"fetch"===d){i._fetchResponse=c,i.url=c.url,i.statusCode=c.status,i.statusMessage=c.statusText;for(var j,k,l=c.headers[Symbol.iterator]();j=(k=l.next()).value,!k.done;)i.headers[j[0].toLowerCase()]=j[1],i.rawHeaders.push(j[0],j[1]);var m=c.body.getReader();g()}else{i._xhr=a,i._pos=0,i.url=a.responseURL,i.statusCode=a.status,i.statusMessage=a.statusText;var n=a.getAllResponseHeaders().split(/\r?\n/);if(n.forEach(function(a){var b=a.match(/^([^:]+):\s*(.*)/);if(b){var c=b[1].toLowerCase();"set-cookie"===c?(void 0===i.headers[c]&&(i.headers[c]=[]),i.headers[c].push(b[2])):void 0!==i.headers[c]?i.headers[c]+=", "+b[2]:i.headers[c]=b[2],i.rawHeaders.push(b[1],b[2])}}),i._charset="x-user-defined",!f.overrideMimeType){var o=i.rawHeaders["mime-type"];if(o){var p=o.match(/;\s*charset=([^;])(;|$)/);p&&(i._charset=p[1].toLowerCase())}i._charset||(i._charset="utf-8")}}};g(j,h.Readable),j.prototype._read=function(){},j.prototype._onXHRProgress=function(){var a=this,b=a._xhr,c=null;switch(a._mode){case"text:vbarray":if(b.readyState!==i.DONE)break;try{c=new d.VBArray(b.responseBody).toArray()}catch(a){}if(null!==c){a.push(new e(c));break}case"text":try{c=b.responseText}catch(b){a._mode="text:vbarray";break}if(c.length>a._pos){var f=c.substr(a._pos);if("x-user-defined"===a._charset){for(var g=new e(f.length),h=0;h<f.length;h++)g[h]=255&f.charCodeAt(h);a.push(g)}else a.push(f,a._charset);a._pos=c.length}break;case"arraybuffer":if(b.readyState!==i.DONE)break;c=b.response,a.push(new e(new Uint8Array(c)));break;case"moz-chunked-arraybuffer":if(c=b.response,b.readyState!==i.LOADING||!c)break;a.push(new e(new Uint8Array(c)));break;case"ms-stream":if(c=b.response,b.readyState!==i.LOADING)break;var j=new d.MSStreamReader;j.onprogress=function(){j.result.byteLength>a._pos&&(a.push(new e(new Uint8Array(j.result.slice(a._pos)))),a._pos=j.result.byteLength)},j.onload=function(){a.push(null)},j.readAsArrayBuffer(c)}a._xhr.readyState===i.DONE&&"ms-stream"!==a._mode&&a.push(null)}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},a("buffer").Buffer)},{"./capability":125,_process:110,buffer:64,inherits:70,"readable-stream":122}],128:[function(a,b,c){function d(a){if(a&&!i(a))throw new Error("Unknown encoding: "+a)}function e(a){return a.toString(this.encoding)}function f(a){this.charReceived=a.length%2,this.charLength=this.charReceived?2:0}function g(a){this.charReceived=a.length%3,this.charLength=this.charReceived?3:0}var h=a("buffer").Buffer,i=h.isEncoding||function(a){switch(a&&a.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}},j=c.StringDecoder=function(a){switch(this.encoding=(a||"utf8").toLowerCase().replace(/[-_]/,""),d(a),this.encoding){case"utf8":this.surrogateSize=3;break;case"ucs2":case"utf16le":this.surrogateSize=2,this.detectIncompleteChar=f;break;case"base64":this.surrogateSize=3,this.detectIncompleteChar=g;break;default:return void(this.write=e)}this.charBuffer=new h(6),this.charReceived=0,this.charLength=0};j.prototype.write=function(a){for(var b="";this.charLength;){var c=a.length>=this.charLength-this.charReceived?this.charLength-this.charReceived:a.length;if(a.copy(this.charBuffer,this.charReceived,0,c),this.charReceived+=c,this.charReceived<this.charLength)return"";a=a.slice(c,a.length),b=this.charBuffer.slice(0,this.charLength).toString(this.encoding);var d=b.charCodeAt(b.length-1);if(!(d>=55296&&d<=56319)){if(this.charReceived=this.charLength=0,0===a.length)return b;break}this.charLength+=this.surrogateSize,b=""}this.detectIncompleteChar(a);var e=a.length;this.charLength&&(a.copy(this.charBuffer,0,a.length-this.charReceived,e),e-=this.charReceived),b+=a.toString(this.encoding,0,e);var e=b.length-1,d=b.charCodeAt(e);if(d>=55296&&d<=56319){var f=this.surrogateSize;return this.charLength+=f,this.charReceived+=f,this.charBuffer.copy(this.charBuffer,f,0,f),a.copy(this.charBuffer,0,0,f),b.substring(0,e)}return b},j.prototype.detectIncompleteChar=function(a){for(var b=a.length>=3?3:a.length;b>0;b--){var c=a[a.length-b];if(1==b&&c>>5==6){this.charLength=2;break}if(b<=2&&c>>4==14){this.charLength=3;break}if(b<=3&&c>>3==30){this.charLength=4;break}}this.charReceived=b},j.prototype.end=function(a){var b="";if(a&&a.length&&(b=this.write(a)),this.charReceived){var c=this.charReceived,d=this.charBuffer,e=this.encoding;b+=d.slice(0,c).toString(e)}return b}},{buffer:64}],129:[function(a,b,c){var d=a("buffer").Buffer;b.exports=function(a){if(a instanceof Uint8Array){if(0===a.byteOffset&&a.byteLength===a.buffer.byteLength)return a.buffer;if("function"==typeof a.buffer.slice)return a.buffer.slice(a.byteOffset,a.byteOffset+a.byteLength)}if(d.isBuffer(a)){for(var b=new Uint8Array(a.length),c=a.length,e=0;e<c;e++)b[e]=a[e];return b.buffer}throw new Error("Argument must be a Buffer")}},{buffer:64}],130:[function(b,c,d){!function(b,e){"object"==typeof d?c.exports=e():"function"==typeof a&&a.amd?a([],e):b.urltemplate=e()}(this,function(){function a(){}return a.prototype.encodeReserved=function(a){return a.split(/(%[0-9A-Fa-f]{2})/g).map(function(a){return/%[0-9A-Fa-f]/.test(a)||(a=encodeURI(a).replace(/%5B/g,"[").replace(/%5D/g,"]")),a}).join("")},a.prototype.encodeUnreserved=function(a){return encodeURIComponent(a).replace(/[!'()*]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})},a.prototype.encodeValue=function(a,b,c){return b="+"===a||"#"===a?this.encodeReserved(b):this.encodeUnreserved(b),c?this.encodeUnreserved(c)+"="+b:b},a.prototype.isDefined=function(a){return void 0!==a&&null!==a},a.prototype.isKeyOperator=function(a){return";"===a||"&"===a||"?"===a},a.prototype.getValues=function(a,b,c,d){var e=a[c],f=[];if(this.isDefined(e)&&""!==e)if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)e=e.toString(),d&&"*"!==d&&(e=e.substring(0,parseInt(d,10))),f.push(this.encodeValue(b,e,this.isKeyOperator(b)?c:null));else if("*"===d)Array.isArray(e)?e.filter(this.isDefined).forEach(function(a){f.push(this.encodeValue(b,a,this.isKeyOperator(b)?c:null))},this):Object.keys(e).forEach(function(a){this.isDefined(e[a])&&f.push(this.encodeValue(b,e[a],a))},this);else{var g=[];Array.isArray(e)?e.filter(this.isDefined).forEach(function(a){g.push(this.encodeValue(b,a))},this):Object.keys(e).forEach(function(a){this.isDefined(e[a])&&(g.push(this.encodeUnreserved(a)),g.push(this.encodeValue(b,e[a].toString())))},this),this.isKeyOperator(b)?f.push(this.encodeUnreserved(c)+"="+g.join(",")):0!==g.length&&f.push(g.join(","))}else";"===b?this.isDefined(e)&&f.push(this.encodeUnreserved(c)):""!==e||"&"!==b&&"?"!==b?""===e&&f.push(""):f.push(this.encodeUnreserved(c)+"=");return f},a.prototype.parse=function(a){var b=this,c=["+","#",".","/",";","?","&"];return{expand:function(d){return a.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(a,e,f){if(e){var g=null,h=[];if(c.indexOf(e.charAt(0))!==-1&&(g=e.charAt(0),e=e.substr(1)),e.split(/,/g).forEach(function(a){var c=/([^:\*]*)(?::(\d+)|(\*))?/.exec(a);h.push.apply(h,b.getValues(d,g,c[1],c[2]||c[3]))}),g&&"+"!==g){var i=",";return"?"===g?i="&":"#"!==g&&(i=g),(0!==h.length?g:"")+h.join(i)}return h.join(",")}return b.encodeReserved(f)})}}},new a})},{}],131:[function(a,b,c){"use strict";function d(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function e(a,b,c){if(a&&j.isObject(a)&&a instanceof d)return a;var e=new d;return e.parse(a,b,c),e}function f(a){return j.isString(a)&&(a=e(a)),a instanceof d?a.format():d.prototype.format.call(a)}function g(a,b){return e(a,!1,!0).resolve(b)}function h(a,b){return a?e(a,!1,!0).resolveObject(b):b}var i=a("punycode"),j=a("./util");c.parse=e,c.resolve=g,c.resolveObject=h,c.format=f,c.Url=d;var k=/^([a-z0-9.+-]+:)/i,l=/:[0-9]*$/,m=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,n=["<",">",'"',"`"," ","\r","\n","\t"],o=["{","}","|","\\","^","`"].concat(n),p=["'"].concat(o),q=["%","/","?",";","#"].concat(p),r=["/","?","#"],s=255,t=/^[+a-z0-9A-Z_-]{0,63}$/,u=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,v={javascript:!0,"javascript:":!0},w={javascript:!0,"javascript:":!0},x={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=a("querystring");d.prototype.parse=function(a,b,c){if(!j.isString(a))throw new TypeError("Parameter 'url' must be a string, not "+typeof a);var d=a.indexOf("?"),e=d!==-1&&d<a.indexOf("#")?"?":"#",f=a.split(e),g=/\\/g;f[0]=f[0].replace(g,"/"),a=f.join(e);var h=a;if(h=h.trim(),!c&&1===a.split("#").length){var l=m.exec(h);if(l)return this.path=h,this.href=h,this.pathname=l[1],l[2]?(this.search=l[2],b?this.query=y.parse(this.search.substr(1)):this.query=this.search.substr(1)):b&&(this.search="",this.query={}),this}var n=k.exec(h);if(n){n=n[0];var o=n.toLowerCase();this.protocol=o,h=h.substr(n.length)}if(c||n||h.match(/^\/\/[^@\/]+@[^@\/]+/)){var z="//"===h.substr(0,2);!z||n&&w[n]||(h=h.substr(2),this.slashes=!0)}if(!w[n]&&(z||n&&!x[n])){for(var A=-1,B=0;B<r.length;B++){var C=h.indexOf(r[B]);C!==-1&&(A===-1||C<A)&&(A=C)}var D,E;E=A===-1?h.lastIndexOf("@"):h.lastIndexOf("@",A),E!==-1&&(D=h.slice(0,E),h=h.slice(E+1),this.auth=decodeURIComponent(D)),A=-1;for(var B=0;B<q.length;B++){var C=h.indexOf(q[B]);C!==-1&&(A===-1||C<A)&&(A=C)}A===-1&&(A=h.length),this.host=h.slice(0,A),h=h.slice(A),this.parseHost(),this.hostname=this.hostname||"";var F="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!F)for(var G=this.hostname.split(/\./),B=0,H=G.length;B<H;B++){var I=G[B];if(I&&!I.match(t)){for(var J="",K=0,L=I.length;K<L;K++)J+=I.charCodeAt(K)>127?"x":I[K];if(!J.match(t)){var M=G.slice(0,B),N=G.slice(B+1),O=I.match(u);O&&(M.push(O[1]),N.unshift(O[2])),N.length&&(h="/"+N.join(".")+h),this.hostname=M.join(".");break}}}this.hostname.length>s?this.hostname="":this.hostname=this.hostname.toLowerCase(),F||(this.hostname=i.toASCII(this.hostname));var P=this.port?":"+this.port:"",Q=this.hostname||"";this.host=Q+P,this.href+=this.host,F&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==h[0]&&(h="/"+h))}if(!v[o])for(var B=0,H=p.length;B<H;B++){var R=p[B];if(h.indexOf(R)!==-1){var S=encodeURIComponent(R);S===R&&(S=escape(R)),h=h.split(R).join(S)}}var T=h.indexOf("#");T!==-1&&(this.hash=h.substr(T),h=h.slice(0,T));var U=h.indexOf("?");if(U!==-1?(this.search=h.substr(U),this.query=h.substr(U+1),b&&(this.query=y.parse(this.query)),h=h.slice(0,U)):b&&(this.search="",this.query={}),h&&(this.pathname=h),x[o]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var P=this.pathname||"",V=this.search||"";this.path=P+V}return this.href=this.format(),this},d.prototype.format=function(){var a=this.auth||"";a&&(a=encodeURIComponent(a),a=a.replace(/%3A/i,":"),a+="@");var b=this.protocol||"",c=this.pathname||"",d=this.hash||"",e=!1,f="";this.host?e=a+this.host:this.hostname&&(e=a+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(e+=":"+this.port)),this.query&&j.isObject(this.query)&&Object.keys(this.query).length&&(f=y.stringify(this.query));var g=this.search||f&&"?"+f||"";return b&&":"!==b.substr(-1)&&(b+=":"),this.slashes||(!b||x[b])&&e!==!1?(e="//"+(e||""),c&&"/"!==c.charAt(0)&&(c="/"+c)):e||(e=""),d&&"#"!==d.charAt(0)&&(d="#"+d),g&&"?"!==g.charAt(0)&&(g="?"+g),c=c.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),g=g.replace("#","%23"),b+e+c+g+d},d.prototype.resolve=function(a){return this.resolveObject(e(a,!1,!0)).format()},d.prototype.resolveObject=function(a){if(j.isString(a)){var b=new d;b.parse(a,!1,!0),a=b}for(var c=new d,e=Object.keys(this),f=0;f<e.length;f++){var g=e[f];c[g]=this[g]}if(c.hash=a.hash,""===a.href)return c.href=c.format(),c;if(a.slashes&&!a.protocol){for(var h=Object.keys(a),i=0;i<h.length;i++){var k=h[i];"protocol"!==k&&(c[k]=a[k])}return x[c.protocol]&&c.hostname&&!c.pathname&&(c.path=c.pathname="/"),c.href=c.format(),c}if(a.protocol&&a.protocol!==c.protocol){if(!x[a.protocol]){for(var l=Object.keys(a),m=0;m<l.length;m++){var n=l[m];c[n]=a[n]}return c.href=c.format(),c}if(c.protocol=a.protocol,a.host||w[a.protocol])c.pathname=a.pathname;else{for(var o=(a.pathname||"").split("/");o.length&&!(a.host=o.shift()););a.host||(a.host=""),a.hostname||(a.hostname=""),""!==o[0]&&o.unshift(""),o.length<2&&o.unshift(""),c.pathname=o.join("/")}if(c.search=a.search,c.query=a.query,c.host=a.host||"",c.auth=a.auth,c.hostname=a.hostname||a.host,c.port=a.port,c.pathname||c.search){var p=c.pathname||"",q=c.search||"";c.path=p+q}return c.slashes=c.slashes||a.slashes,c.href=c.format(),c}var r=c.pathname&&"/"===c.pathname.charAt(0),s=a.host||a.pathname&&"/"===a.pathname.charAt(0),t=s||r||c.host&&a.pathname,u=t,v=c.pathname&&c.pathname.split("/")||[],o=a.pathname&&a.pathname.split("/")||[],y=c.protocol&&!x[c.protocol];if(y&&(c.hostname="",c.port=null,c.host&&(""===v[0]?v[0]=c.host:v.unshift(c.host)),c.host="",a.protocol&&(a.hostname=null,a.port=null,a.host&&(""===o[0]?o[0]=a.host:o.unshift(a.host)),a.host=null),t=t&&(""===o[0]||""===v[0])),s)c.host=a.host||""===a.host?a.host:c.host,c.hostname=a.hostname||""===a.hostname?a.hostname:c.hostname,c.search=a.search,c.query=a.query,v=o;else if(o.length)v||(v=[]),v.pop(),v=v.concat(o),c.search=a.search,c.query=a.query;else if(!j.isNullOrUndefined(a.search)){if(y){c.hostname=c.host=v.shift();var z=!!(c.host&&c.host.indexOf("@")>0)&&c.host.split("@");z&&(c.auth=z.shift(),c.host=c.hostname=z.shift())}return c.search=a.search,c.query=a.query,j.isNull(c.pathname)&&j.isNull(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.href=c.format(),c}if(!v.length)return c.pathname=null,c.search?c.path="/"+c.search:c.path=null,c.href=c.format(),c;for(var A=v.slice(-1)[0],B=(c.host||a.host||v.length>1)&&("."===A||".."===A)||""===A,C=0,D=v.length;D>=0;D--)A=v[D],"."===A?v.splice(D,1):".."===A?(v.splice(D,1),C++):C&&(v.splice(D,1),C--);if(!t&&!u)for(;C--;C)v.unshift("..");!t||""===v[0]||v[0]&&"/"===v[0].charAt(0)||v.unshift(""),B&&"/"!==v.join("/").substr(-1)&&v.push("");var E=""===v[0]||v[0]&&"/"===v[0].charAt(0);if(y){c.hostname=c.host=E?"":v.length?v.shift():"";var z=!!(c.host&&c.host.indexOf("@")>0)&&c.host.split("@");z&&(c.auth=z.shift(),c.host=c.hostname=z.shift())}return t=t||c.host&&v.length,t&&!E&&v.unshift(""),v.length?c.pathname=v.join("/"):(c.pathname=null,c.path=null),j.isNull(c.pathname)&&j.isNull(c.search)||(c.path=(c.pathname?c.pathname:"")+(c.search?c.search:"")),c.auth=a.auth||c.auth,c.slashes=c.slashes||a.slashes,c.href=c.format(),c},d.prototype.parseHost=function(){var a=this.host,b=l.exec(a);b&&(b=b[0],":"!==b&&(this.port=b.substr(1)),a=a.substr(0,a.length-b.length)),a&&(this.hostname=a)}},{"./util":132,punycode:111,querystring:115}],132:[function(a,b,c){"use strict";b.exports={isString:function(a){return"string"==typeof a},isObject:function(a){return"object"==typeof a&&null!==a},isNull:function(a){return null===a},isNullOrUndefined:function(a){return null==a}}},{}],133:[function(a,b,c){(function(a){function c(a,b){function c(){if(!e){if(d("throwDeprecation"))throw new Error(b);d("traceDeprecation")?console.trace(b):console.warn(b),e=!0}return a.apply(this,arguments)}if(d("noDeprecation"))return a;var e=!1;return c}function d(b){try{if(!a.localStorage)return!1}catch(a){return!1}var c=a.localStorage[b];return null!=c&&"true"===String(c).toLowerCase()}b.exports=c}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],134:[function(a,b,c){b.exports=function(a){return a&&"object"==typeof a&&"function"==typeof a.copy&&"function"==typeof a.fill&&"function"==typeof a.readUInt8}},{}],135:[function(a,b,c){(function(b,d){function e(a,b){var d={seen:[],stylize:g};return arguments.length>=3&&(d.depth=arguments[2]),arguments.length>=4&&(d.colors=arguments[3]),p(b)?d.showHidden=b:b&&c._extend(d,b),v(d.showHidden)&&(d.showHidden=!1),v(d.depth)&&(d.depth=2),v(d.colors)&&(d.colors=!1),v(d.customInspect)&&(d.customInspect=!0),d.colors&&(d.stylize=f),i(d,a,d.depth)}function f(a,b){var c=e.styles[b];return c?"["+e.colors[c][0]+"m"+a+"["+e.colors[c][1]+"m":a}function g(a,b){return a}function h(a){var b={};return a.forEach(function(a,c){b[a]=!0}),b}function i(a,b,d){if(a.customInspect&&b&&A(b.inspect)&&b.inspect!==c.inspect&&(!b.constructor||b.constructor.prototype!==b)){var e=b.inspect(d,a);return t(e)||(e=i(a,e,d)),e}var f=j(a,b);if(f)return f;var g=Object.keys(b),p=h(g);if(a.showHidden&&(g=Object.getOwnPropertyNames(b)),z(b)&&(g.indexOf("message")>=0||g.indexOf("description")>=0))return k(b);if(0===g.length){if(A(b)){var q=b.name?": "+b.name:"";return a.stylize("[Function"+q+"]","special")}if(w(b))return a.stylize(RegExp.prototype.toString.call(b),"regexp");if(y(b))return a.stylize(Date.prototype.toString.call(b),"date");if(z(b))return k(b)}var r="",s=!1,u=["{","}"];if(o(b)&&(s=!0,u=["[","]"]),A(b)){var v=b.name?": "+b.name:"";r=" [Function"+v+"]"}if(w(b)&&(r=" "+RegExp.prototype.toString.call(b)),y(b)&&(r=" "+Date.prototype.toUTCString.call(b)),z(b)&&(r=" "+k(b)),0===g.length&&(!s||0==b.length))return u[0]+r+u[1];if(d<0)return w(b)?a.stylize(RegExp.prototype.toString.call(b),"regexp"):a.stylize("[Object]","special");a.seen.push(b);var x;return x=s?l(a,b,d,p,g):g.map(function(c){return m(a,b,d,p,c,s)}),a.seen.pop(),n(x,r,u)}function j(a,b){if(v(b))return a.stylize("undefined","undefined");if(t(b)){var c="'"+JSON.stringify(b).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return a.stylize(c,"string")}return s(b)?a.stylize(""+b,"number"):p(b)?a.stylize(""+b,"boolean"):q(b)?a.stylize("null","null"):void 0}function k(a){return"["+Error.prototype.toString.call(a)+"]"}function l(a,b,c,d,e){for(var f=[],g=0,h=b.length;g<h;++g)F(b,String(g))?f.push(m(a,b,c,d,String(g),!0)):f.push("");return e.forEach(function(e){e.match(/^\d+$/)||f.push(m(a,b,c,d,e,!0))}),f}function m(a,b,c,d,e,f){var g,h,j;if(j=Object.getOwnPropertyDescriptor(b,e)||{value:b[e]},j.get?h=j.set?a.stylize("[Getter/Setter]","special"):a.stylize("[Getter]","special"):j.set&&(h=a.stylize("[Setter]","special")),F(d,e)||(g="["+e+"]"),h||(a.seen.indexOf(j.value)<0?(h=q(c)?i(a,j.value,null):i(a,j.value,c-1),h.indexOf("\n")>-1&&(h=f?h.split("\n").map(function(a){return"  "+a}).join("\n").substr(2):"\n"+h.split("\n").map(function(a){return"   "+a}).join("\n"))):h=a.stylize("[Circular]","special")),v(g)){if(f&&e.match(/^\d+$/))return h;g=JSON.stringify(""+e),g.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(g=g.substr(1,g.length-2),g=a.stylize(g,"name")):(g=g.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),g=a.stylize(g,"string"))}return g+": "+h}function n(a,b,c){var d=0,e=a.reduce(function(a,b){return d++,b.indexOf("\n")>=0&&d++,a+b.replace(/\u001b\[\d\d?m/g,"").length+1},0);return e>60?c[0]+(""===b?"":b+"\n ")+" "+a.join(",\n  ")+" "+c[1]:c[0]+b+" "+a.join(", ")+" "+c[1]}function o(a){return Array.isArray(a)}function p(a){return"boolean"==typeof a}function q(a){return null===a}function r(a){return null==a}function s(a){return"number"==typeof a}function t(a){return"string"==typeof a}function u(a){return"symbol"==typeof a}function v(a){return void 0===a}function w(a){return x(a)&&"[object RegExp]"===C(a)}function x(a){return"object"==typeof a&&null!==a}function y(a){return x(a)&&"[object Date]"===C(a)}function z(a){return x(a)&&("[object Error]"===C(a)||a instanceof Error)}function A(a){return"function"==typeof a}function B(a){return null===a||"boolean"==typeof a||"number"==typeof a||"string"==typeof a||"symbol"==typeof a||"undefined"==typeof a}function C(a){return Object.prototype.toString.call(a)}function D(a){return a<10?"0"+a.toString(10):a.toString(10)}function E(){var a=new Date,b=[D(a.getHours()),D(a.getMinutes()),D(a.getSeconds())].join(":");return[a.getDate(),J[a.getMonth()],b].join(" ")}function F(a,b){return Object.prototype.hasOwnProperty.call(a,b)}var G=/%[sdj%]/g;c.format=function(a){if(!t(a)){for(var b=[],c=0;c<arguments.length;c++)b.push(e(arguments[c]));return b.join(" ")}for(var c=1,d=arguments,f=d.length,g=String(a).replace(G,function(a){if("%%"===a)return"%";if(c>=f)return a;switch(a){case"%s":return String(d[c++]);case"%d":return Number(d[c++]);case"%j":try{return JSON.stringify(d[c++])}catch(a){return"[Circular]"}default:return a}}),h=d[c];c<f;h=d[++c])g+=q(h)||!x(h)?" "+h:" "+e(h);return g},c.deprecate=function(a,e){function f(){
if(!g){if(b.throwDeprecation)throw new Error(e);b.traceDeprecation?console.trace(e):console.error(e),g=!0}return a.apply(this,arguments)}if(v(d.process))return function(){return c.deprecate(a,e).apply(this,arguments)};if(b.noDeprecation===!0)return a;var g=!1;return f};var H,I={};c.debuglog=function(a){if(v(H)&&(H=b.env.NODE_DEBUG||""),a=a.toUpperCase(),!I[a])if(new RegExp("\\b"+a+"\\b","i").test(H)){var d=b.pid;I[a]=function(){var b=c.format.apply(c,arguments);console.error("%s %d: %s",a,d,b)}}else I[a]=function(){};return I[a]},c.inspect=e,e.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},e.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},c.isArray=o,c.isBoolean=p,c.isNull=q,c.isNullOrUndefined=r,c.isNumber=s,c.isString=t,c.isSymbol=u,c.isUndefined=v,c.isRegExp=w,c.isObject=x,c.isDate=y,c.isError=z,c.isFunction=A,c.isPrimitive=B,c.isBuffer=a("./support/isBuffer");var J=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];c.log=function(){console.log("%s - %s",E(),c.format.apply(c,arguments))},c.inherits=a("inherits"),c._extend=function(a,b){if(!b||!x(b))return a;for(var c=Object.keys(b),d=c.length;d--;)a[c[d]]=b[c[d]];return a}}).call(this,a("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":134,_process:110,inherits:70}],136:[function(a,b,c){var d;d=function(){var a,b,c,d,e,f,g,h;return b=function(a,b,c){return this.voided=c,this.state=b,this.trans=a,this},f=function(a,b){return this.match=b,this.edges=a,this},c=function(a,b,c){return this.mode=c,this.states=b,this.type=a,this},c.VOID=0,c.PRUNE=1,c.LEFT=2,c.POS=3,c.NEG=4,e=function(a,b,c,d){return this.nt=d,this.col=c,this.line=b,this.pos=a,this},e.prototype.toString=function(){return"parse error: failed to match '"+this.nt+"' at line="+this.line+", col="+this.col+", pos="+this.pos},a=function(a,b,c){return this.pos=c,this.children=b,this.type=a,this},a.prototype.toString=function(){var a,b,c;return a="",b=0,(c=function(d){var e,f,g,h,i;for(i=0;i<b-1;)a+="    ",i++;for(b>0?a+="->  ":null,a+=d.type,b++,f=d.children,e=0,g=f.length;e<g;e++)if(h=f[e],a+="\n","string"==typeof h){for(i=0;i<b-1;)a+="    ",i++;b>0?a+="|   ":null,a+=h}else c(h);return b--,a})(this)},g=function(a,b,c){return this.automata=c,this.eofCheck=b,this.start=a,this},g.prototype.parse=function(a){return new d(this.start,this.eofCheck,this.automata,a).parse()},d=function(a,b,c,d){return this.automata=c,this.eofCheck=b,this.start=a,this.input=d,this.inputLen=d.length,this.inputPos=0,this.line=1,this.column=0,this.lastCR=!1,this.errorPos=0,this.errorLine=1,this.errorCol=0,this.errorNT=this.automata[this.start].type,this.faStack=[],this.cache={},this},d.prototype.parse=function(){return this.doEOFCheck(this.matchAutomaton(this.start))},d.prototype.matchAutomaton=function(b){var d,e,f,g,h,i,j,k,l,m,n,o;return m=this.inputPos,g=""+b+","+m,f=this.cache[g],"undefined"!=typeof f&&null!==f?(this.restorePos(f[1],f[2],f[3],f[4]),f[0]):(l=this.line,k=this.column,j=this.lastCR,e=this.automata[b],n=e.type,h=e.mode,this.faStack.push(e),i=this.matchState(0),this.faStack.pop(),o=function(){return h===c.POS?(this.restorePos(m,l,k,j),!!i||(this.updateError(),!1)):h===c.NEG?(this.restorePos(m,l,k,j),!i||(this.updateError(),!1)):i?h===c.VOID||(h===c.PRUNE?0===(d=i.length)||(1===d?i[0]:new a(n,i,[m,this.inputPos])):new a(n,i,[m,this.inputPos])):this.updateError()}.call(this),this.cache[g]=[o,this.inputPos,this.line,this.column,this.lastCR],o)},d.prototype.matchState=function(a){var b,c;return c=this.faStack[this.faStack.length-1].states[a],b=this.matchEdges(c.edges,0),b?b:c.match&&[]},d.prototype.matchEdges=function(a,b){var c;return b!==a.length&&(c=this.matchEdge(a[b]),c?c:this.matchEdges(a,b+1))},d.prototype.matchEdge=function(a){var b,c,d,e,f,g,h;return f=this.inputPos,e=this.line,d=this.column,c=this.lastCR,g=a.trans,b=g===-1?this.inputPos<this.inputLen?this.mv():this.updateError():"string"==typeof g?this.inputPos<this.inputLen&&g===this.input[this.inputPos]?this.mv():this.updateError():g instanceof Array?this.inputPos<this.inputLen&&this.withinSet(g,0,this.input[this.inputPos].charCodeAt(0))?this.mv():this.updateError():"number"==typeof g&&this.matchAutomaton(g),!!b&&(h=this.matchState(a.state),h?a.voided||b===!0?h:[b].concat(h):(this.restorePos(f,e,d,c),!1))},d.prototype.restorePos=function(a,b,c,d){return this.inputPos=a,this.line=b,this.column=c,this.lastCR=d},d.prototype.updateError=function(){return this.errorPos<this.inputPos&&(this.errorPos=this.inputPos,this.errorLine=this.line,this.errorCol=this.column,this.errorNT=this.faStack[this.faStack.length-1].type),!1},d.prototype.mv=function(){var a;return a=this.input[this.inputPos],this.inputPos++,"\r"===a?(this.line++,this.column=0,this.lastCR=!0):("\n"===a?this.lastCR||(this.line++,this.column=0):this.column++,this.lastCR=!1),a},d.prototype.doEOFCheck=function(a){return a?this.eofCheck&&this.inputPos<this.inputLen?new e(this.errorPos,this.errorLine,this.errorCol,this.errorNT):a:new e(this.errorPos,this.errorLine,this.errorCol,this.errorNT)},d.prototype.withinSet=function(a,b,c){var d;return b!==a.length&&(d=a[b],"string"==typeof d?d.charCodeAt(0)===c||d.charCodeAt(0)<c&&this.withinSet(a,b+1,c):c>=d[0]&&c<=d[1]||c>d[1]&&this.withinSet(a,b+1,c))},h={Edge:b,State:f,FA:c,ParseError:e,AST:a,WaxeyeParser:g}}(),"undefined"!=typeof b&&null!==b&&(b.exports.AST=d.AST,b.exports.Edge=d.Edge,b.exports.FA=d.FA,b.exports.ParseError=d.ParseError,b.exports.State=d.State,b.exports.WaxeyeParser=d.WaxeyeParser)},{}],137:[function(a,b,c){function d(){for(var a={},b=0;b<arguments.length;b++){var c=arguments[b];for(var d in c)e.call(c,d)&&(a[d]=c[d])}return a}b.exports=d;var e=Object.prototype.hasOwnProperty},{}]},{},[1])(1)});