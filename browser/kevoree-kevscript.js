!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("KevoreeLibrary"),require("KevoreeRegistryApi"),require("KevoreeValidator"),require("TinyConf")):"function"==typeof define&&define.amd?define(["KevoreeLibrary","KevoreeRegistryApi","KevoreeValidator","TinyConf"],t):"object"==typeof exports?exports.KevoreeKevscript=t(require("KevoreeLibrary"),require("KevoreeRegistryApi"),require("KevoreeValidator"),require("TinyConf")):e.KevoreeKevscript=t(e.KevoreeLibrary,e.KevoreeRegistryApi,e.KevoreeValidator,e.TinyConf)}(this,function(e,t,n,r){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=11)}([function(e,t,n){"use strict";function r(e,t){Error.captureStackTrace(this,this.constructor),this.name="KevScriptError",this.message=e,this.pos=t}n(69).inherits(r,Error),e.exports=r},function(t,n){t.exports=e},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(f===setTimeout)return setTimeout(e,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(t){try{return f.call(null,e,0)}catch(t){return f.call(this,e,0)}}}function a(e){if(d===clearTimeout)return clearTimeout(e);if((d===r||!d)&&clearTimeout)return d=clearTimeout,clearTimeout(e);try{return d(e)}catch(t){try{return d.call(null,e)}catch(t){return d.call(this,e)}}}function i(){w&&h&&(w=!1,h.length?p=h.concat(p):g=-1,p.length&&s())}function s(){if(!w){var e=o(i);w=!0;for(var t=p.length;t;){for(h=p,p=[];++g<t;)h&&h[g].run();g=-1,t=p.length}h=null,w=!1,a(e)}}function c(e,t){this.fun=e,this.array=t}function u(){}var f,d,l=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(e){f=n}try{d="function"==typeof clearTimeout?clearTimeout:r}catch(e){d=r}}();var h,p=[],w=!1,g=-1;l.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];p.push(new c(e,t)),1!==p.length||w||o(s)},c.prototype.run=function(){this.fun.apply(null,this.array)},l.title="browser",l.browser=!0,l.env={},l.argv=[],l.version="",l.versions={},l.on=u,l.addListener=u,l.once=u,l.off=u,l.removeListener=u,l.removeAllListeners=u,l.emit=u,l.binding=function(e){throw new Error("process.binding is not supported")},l.cwd=function(){return"/"},l.chdir=function(e){throw new Error("process.chdir is not supported")},l.umask=function(){return 0}},function(e,t,n){var r=n(73),o=n(1),a=n(4);e.exports=function(e){var t=new o.factory.DefaultKevoreeFactory,n=t.createJSONLoader(),i=t.createModelCompare();return{resolve:function(o,s){return Promise.resolve().then(function(){return e.debug("KevScript","Looking for "+o+" in "+a()),"LATEST"===o.version.tdef?r.tdef({name:o.name,namespace:{name:o.namespace}}).latest():r.tdef({name:o.name,version:o.version.tdef,namespace:{name:o.namespace}}).get()}).then(function(a){function c(t){return t.forEach(function(t){var r=n.loadModelFromString(t.model).get(0);i.merge(s,r).applyOn(s);var a=f.path()+"/deployUnits[name="+t.name+",version="+t.version+"]";s.select(a).array.forEach(function(n){e.debug("KevScript","DeployUnit "+t.name+"/"+t.version+"/"+t.platform+" added to "+o),u.addDeployUnits(n)})}),s.findByPath(u.path())}"LATEST"===o.version.tdef?(e.info("KevScript",o+" resolved to version "+a.version),o.version.tdef=a.version):(o.version.tdef=a.version,e.info("KevScript",o+" resolved"));var u=n.loadModelFromString(a.model).get(0),f=t.createPackage();f.name=o.namespace,f.addTypeDefinitions(u),s.addPackages(f);var d=r.du({typeDefinition:{name:u.name,version:u.version,namespace:{name:o.namespace}}});return"LATEST"===o.version.du?d.latest().then(c).catch(function(e){throw 404===e.code?new Error("Unable to find "+o.version.du+" DeployUnits for "+o):e}):d.release().then(c).catch(function(e){throw 404===e.code?new Error("Unable to find "+o.version.du+" DeployUnits for "+o):e})}).catch(function(e){throw 404===e.code?new Error("Unable to find "+o+" in "+a()):e})}}}},function(e,t,n){var r=n(75);e.exports=function(){var e=r.get("registry.ssl"),t=r.get("registry.port");return e?443===t?"https://"+r.get("registry.host"):"https://"+r.get("registry.host")+":"+t:80===t?"http://"+r.get("registry.host"):"http://"+r.get("registry.host")+":"+t}},function(e,t,n){"use strict";var r="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";e.exports=function(){for(var e="",t=0;t<6;t++)e+=r[Math.floor(Math.random()*r.length)];return e}},function(e,t,n){"use strict";function r(e,t){function n(n){var r=e[n]?e[n].iterator():null;if(null!==r)for(;r.hasNext();){var o=r.next();if(o.name===t)return o}return null}return n("nodes")||n("groups")||n("hubs")||null}function o(e,t,n){var r=e.findNodesByID(t);return r?r.findComponentsByID(n):null}function a(e){var t=[];return e&&e.deployUnits.array.forEach(function(e){var n=e.findFiltersByID("platform");n&&t.indexOf(n.value)===-1&&t.push(n.value)}),t}function i(e,t){if(e&&t){if(e.select("metaData[name=virtual]").array.length>0)return!0;for(var n=a(t.typeDefinition),r=0;r<n.length;r++)if(e.select("deployUnits[name=*]/filters[name=platform,value="+n[r]+"]").array.length>0)return!0}return!1}function s(e){function t(e){e.eContainer()&&(o=e.name+"."+o,t(e.eContainer()))}var n=e.deployUnits.array.some(function(e){return null!==c.prerelease(e.version)}),r=n?"/LATEST":"",o=e.name+"/"+e.version+r;return t(e.eContainer()),o}var c=n(66);e.exports={findEntityByName:r,findComponentByName:o,getPlatforms:a,isCompatible:i,getFQN:s}},function(e,t,n){"use strict";function r(e,t,n,r){var o=null;o=t?f.clone(t,!1):u.createContainerRoot(),u.root(o),n.warnings=[];var d=[];try{e.children.forEach(function(e){e.children.forEach(function(e){if("function"!=typeof s[e.type])throw new Error('Unknown statement "'+e.type+'"');d.push(function(){return s[e.type](o,c,e,n)})})}),i.series(d).then(function(){var t;try{a(o)}catch(n){t=n,e.children.map(function(e){return e.children[0]}).filter(function(e){return"add"===e.type}).some(function(e){var r=e.instances[n.path];if(r)return t.pos=r,!0})}finally{r(t,o,n.warnings)}}).catch(function(e){r(e,null,n.warnings)})}catch(e){r(e,null,n.warnings)}}var o=n(1),a=n(74),i=n(64),s={addRepo:n(48),add:n(46),move:n(53),attach:n(49),addBinding:n(47),delBinding:n(50),include:n(52),set:n(58),network:n(55),remove:n(57),detach:n(51),namespace:n(54),start:n(59),stop:n(60),pause:n(56)},c={typeDef:n(38),typeFQN:n(39),nameList:n(27),instancePath:n(24),wildcard:n(41),string:n(34),string2:n(35),string3:n(36),repoString:n(32),version:n(40),anything:n(18),realString:n(29),realStringNoNewLine:n(30),newLine:n(28),singleQuoteLine:n(33),doubleQuoteLine:n(20),escaped:n(22),ctxVar:n(19),genCtxVar:n(23),tdefVersion:n(37),duVersion:n(21),integer:n(25),latest:n(26),release:n(31)},u=new o.factory.DefaultKevoreeFactory,f=u.createModelCloner();e.exports=r},function(e,t,n){"use strict";var r=n(14),o=n(12),a=n(15),i=n(13),s=n(17),c=n(16);e.exports=function(e){var t=[r(e),a(e),o(e),i(e),s(e),c(e)],n="";for(var u in t)t.hasOwnProperty(u)&&(n+=t[u],t[u].length>0&&(n+="\n\n"));return n.replace(/^([\n\t\r])+/,"").replace(/([\n\t\r])+$/,"\n")}},function(e,t,n){var r=r;r=n(70);var o=function(){var e=function(){return this};return e.prototype=new r.WaxeyeParser(0,!0,[new r.FA("kevScript",[new r.State([new r.Edge(59,1,!1)],!1),new r.State([new r.Edge(1,2,!1),new r.Edge(57,3,!0)],!0),new r.State([new r.Edge(59,1,!1)],!1),new r.State([new r.Edge(58,2,!1)],!0)],r.FA.LEFT),new r.FA("statement",[new r.State([new r.Edge(2,1,!1),new r.Edge(3,1,!1),new r.Edge(4,1,!1),new r.Edge(5,1,!1),new r.Edge(6,1,!1),new r.Edge(7,1,!1),new r.Edge(9,1,!1),new r.Edge(10,1,!1),new r.Edge(12,1,!1),new r.Edge(8,1,!1),new r.Edge(11,1,!1),new r.Edge(16,1,!1),new r.Edge(17,1,!1),new r.Edge(18,1,!1),new r.Edge(19,1,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("add",[new r.State([new r.Edge(42,1,!1)],!1),new r.State([new r.Edge(59,2,!1)],!1),new r.State([new r.Edge(13,3,!1)],!1),new r.State([new r.Edge(59,4,!1)],!1),new r.State([new r.Edge(":",5,!0)],!1),new r.State([new r.Edge(59,6,!1)],!1),new r.State([new r.Edge(14,7,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("remove",[new r.State([new r.Edge(43,1,!1)],!1),new r.State([new r.Edge(59,2,!1)],!1),new r.State([new r.Edge(13,3,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("move",[new r.State([new r.Edge(44,1,!1)],!1),new r.State([new r.Edge(59,2,!1)],!1),new r.State([new r.Edge(13,3,!1)],!1),new r.State([new r.Edge(59,4,!1)],!1),new r.State([new r.Edge(20,5,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("attach",[new r.State([new r.Edge(46,1,!1)],!1),new r.State([new r.Edge(59,2,!1)],!1),new r.State([new r.Edge(13,3,!1)],!1),new r.State([new r.Edge(59,4,!1)],!1),new r.State([new r.Edge(20,5,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("detach",[new r.State([new r.Edge(47,1,!1)],!1),new r.State([new r.Edge(59,2,!1)],!1),new r.State([new r.Edge(13,3,!1)],!1),new r.State([new r.Edge(59,4,!1)],!1),new r.State([new r.Edge(20,5,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("set",[new r.State([new r.Edge(45,1,!1)],!1),new r.State([new r.Edge(59,2,!1)],!1),new r.State([new r.Edge(20,3,!1)],!1),new r.State([new r.Edge("/",4,!0),new r.Edge(59,6,!1)],!1),new r.State([new r.Edge(20,5,!1)],!1),new r.State([new r.Edge(59,6,!1)],!1),new r.State([new r.Edge("=",7,!0)],!1),new r.State([new r.Edge(59,8,!1)],!1),new r.State([new r.Edge(22,9,!1),new r.Edge(23,9,!1),new r.Edge(34,9,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("network",[new r.State([new r.Edge(48,1,!1)],!1),new r.State([new r.Edge(59,2,!1)],!1),new r.State([new r.Edge(20,3,!1)],!1),new r.State([new r.Edge(59,4,!1)],!1),new r.State([new r.Edge(22,5,!1),new r.Edge(25,5,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("addBinding",[new r.State([new r.Edge(49,1,!1)],!1),new r.State([new r.Edge(59,2,!1)],!1),new r.State([new r.Edge(20,3,!1)],!1),new r.State([new r.Edge(59,4,!1)],!1),new r.State([new r.Edge(20,5,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("delBinding",[new r.State([new r.Edge(50,1,!1)],!1),new r.State([new r.Edge(59,2,!1)],!1),new r.State([new r.Edge(20,3,!1)],!1),new r.State([new r.Edge(59,4,!1)],!1),new r.State([new r.Edge(20,5,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("addRepo",[new r.State([new r.Edge(40,1,!1)],!1),new r.State([new r.Edge(59,2,!1)],!1),new r.State([new r.Edge(38,3,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("include",[new r.State([new r.Edge(41,1,!1)],!1),new r.State([new r.Edge(59,2,!1)],!1),new r.State([new r.Edge(24,3,!1)],!1),new r.State([new r.Edge(":",4,!0)],!1),new r.State([new r.Edge(25,5,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("nameList",[new r.State([new r.Edge(20,1,!1)],!1),new r.State([new r.Edge(59,2,!1)],!1),new r.State([new r.Edge([","],3,!0)],!0),new r.State([new r.Edge(59,4,!1)],!1),new r.State([new r.Edge(20,2,!1)],!1)],r.FA.LEFT),new r.FA("typeDef",[new r.State([new r.Edge(15,1,!1)],!1),new r.State([new r.Edge("/",2,!0)],!0),new r.State([new r.Edge(27,3,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("typeFQN",[new r.State([new r.Edge(26,1,!1)],!1),new r.State([new r.Edge(["."],2,!1)],!0),new r.State([new r.Edge(26,1,!1)],!1)],r.FA.LEFT),new r.FA("namespace",[new r.State([new r.Edge(51,1,!1)],!1),new r.State([new r.Edge(59,2,!1)],!1),new r.State([new r.Edge(24,3,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("start",[new r.State([new r.Edge(52,1,!1)],!1),new r.State([new r.Edge(59,2,!1)],!1),new r.State([new r.Edge(13,3,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("stop",[new r.State([new r.Edge(53,1,!1)],!1),new r.State([new r.Edge(59,2,!1)],!1),new r.State([new r.Edge(13,3,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("pause",[new r.State([new r.Edge(54,1,!1)],!1),new r.State([new r.Edge(59,2,!1)],!1),new r.State([new r.Edge(13,3,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("instancePath",[new r.State([new r.Edge(21,1,!1),new r.Edge(24,1,!1),new r.Edge(22,1,!1),new r.Edge(23,1,!1)],!1),new r.State([new r.Edge(["."],2,!0)],!0),new r.State([new r.Edge(21,1,!1),new r.Edge(24,1,!1),new r.Edge(22,1,!1),new r.Edge(23,1,!1)],!1)],r.FA.LEFT),new r.FA("wildcard",[new r.State([new r.Edge("*",1,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("ctxVar",[new r.State([new r.Edge("%",1,!0)],!1),new r.State([new r.Edge(24,2,!1)],!1),new r.State([new r.Edge("%",3,!0)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("genCtxVar",[new r.State([new r.Edge("%",1,!0)],!1),new r.State([new r.Edge("%",2,!0)],!1),new r.State([new r.Edge(24,3,!1)],!1),new r.State([new r.Edge("%",4,!0)],!1),new r.State([new r.Edge("%",5,!0)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("string",[new r.State([new r.Edge(["-",[48,57],[65,90],"_",[97,122]],1,!1)],!1),new r.State([new r.Edge(["-",[48,57],[65,90],"_",[97,122]],1,!1)],!0)],r.FA.LEFT),new r.FA("string2",[new r.State([new r.Edge(["%",[45,46],[48,58],[64,90],"_",[97,122]],1,!1)],!1),new r.State([new r.Edge(["%",[45,46],[48,58],[64,90],"_",[97,122]],1,!1)],!0)],r.FA.LEFT),new r.FA("string3",[new r.State([new r.Edge([[48,57],[65,90],"_",[97,122]],1,!1)],!1),new r.State([new r.Edge([[48,57],[65,90],"_",[97,122]],1,!1)],!0)],r.FA.PRUNE),new r.FA("version",[new r.State([new r.Edge(28,1,!1)],!1),new r.State([new r.Edge("/",2,!0)],!0),new r.State([new r.Edge(29,3,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("tdefVersion",[new r.State([new r.Edge(30,1,!1),new r.Edge(32,1,!1),new r.Edge(22,1,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("duVersion",[new r.State([new r.Edge(31,1,!1),new r.Edge(32,1,!1),new r.Edge(22,1,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("integer",[new r.State([new r.Edge([[48,57]],1,!1)],!1),new r.State([new r.Edge([[48,57]],1,!1)],!0)],r.FA.LEFT),new r.FA("release",[new r.State([new r.Edge(56,1,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("latest",[new r.State([new r.Edge(55,1,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("line",[new r.State([new r.Edge(61,1,!1)],!1),new r.State([new r.Edge(-1,2,!1)],!1),new r.State([new r.Edge(60,3,!1)],!0),new r.State([new r.Edge(-1,2,!1)],!1)],r.FA.LEFT),new r.FA("realString",[new r.State([new r.Edge(["'"],1,!0),new r.Edge(['"'],3,!0)],!1),new r.State([new r.Edge(39,1,!1),new r.Edge(35,1,!1),new r.Edge(36,1,!1),new r.Edge(["'"],2,!0)],!1),new r.State([],!0),new r.State([new r.Edge(39,3,!1),new r.Edge(35,3,!1),new r.Edge(37,3,!1),new r.Edge(['"'],2,!0)],!1)],r.FA.LEFT),new r.FA("escaped",[new r.State([new r.Edge(["\\"],1,!1)],!1),new r.State([new r.Edge(62,2,!1)],!1),new r.State([new r.Edge(-1,3,!1)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("singleQuoteLine",[new r.State([new r.Edge(68,1,!1)],!1),new r.State([new r.Edge(67,2,!1)],!1),new r.State([new r.Edge(66,3,!1)],!1),new r.State([new r.Edge(-1,4,!1)],!1),new r.State([new r.Edge(65,5,!1)],!0),new r.State([new r.Edge(64,6,!1)],!1),new r.State([new r.Edge(63,7,!1)],!1),new r.State([new r.Edge(-1,4,!1)],!1)],r.FA.LEFT),new r.FA("doubleQuoteLine",[new r.State([new r.Edge(74,1,!1)],!1),new r.State([new r.Edge(73,2,!1)],!1),new r.State([new r.Edge(72,3,!1)],!1),new r.State([new r.Edge(-1,4,!1)],!1),new r.State([new r.Edge(71,5,!1)],!0),new r.State([new r.Edge(70,6,!1)],!1),new r.State([new r.Edge(69,7,!1)],!1),new r.State([new r.Edge(-1,4,!1)],!1)],r.FA.LEFT),new r.FA("realStringNoNewLine",[new r.State([new r.Edge(["'"],1,!0),new r.Edge(['"'],8,!0)],!1),new r.State([new r.Edge(["\\"],2,!1),new r.Edge(78,4,!1),new r.Edge(["'"],7,!0)],!1),new r.State([new r.Edge(75,3,!1)],!1),new r.State([new r.Edge(-1,1,!1)],!1),new r.State([new r.Edge(77,5,!1)],!1),new r.State([new r.Edge(76,6,!1)],!1),new r.State([new r.Edge(-1,1,!1)],!1),new r.State([],!0),new r.State([new r.Edge(["\\"],9,!1),new r.Edge(82,11,!1),new r.Edge(['"'],7,!0)],!1),new r.State([new r.Edge(79,10,!1)],!1),new r.State([new r.Edge(-1,8,!1)],!1),new r.State([new r.Edge(81,12,!1)],!1),new r.State([new r.Edge(80,13,!1)],!1),new r.State([new r.Edge(-1,8,!1)],!1)],r.FA.LEFT),new r.FA("newLine",[new r.State([new r.Edge("\r",1,!0),new r.Edge("\n",2,!0),new r.Edge("\r",2,!0)],!1),new r.State([new r.Edge("\n",2,!0)],!1),new r.State([],!0)],r.FA.LEFT),new r.FA("repoToken",[new r.State([new r.Edge("r",1,!1)],!1),new r.State([new r.Edge("e",2,!1)],!1),new r.State([new r.Edge("p",3,!1)],!1),new r.State([new r.Edge("o",4,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("includeToken",[new r.State([new r.Edge("i",1,!1)],!1),new r.State([new r.Edge("n",2,!1)],!1),new r.State([new r.Edge("c",3,!1)],!1),new r.State([new r.Edge("l",4,!1)],!1),new r.State([new r.Edge("u",5,!1)],!1),new r.State([new r.Edge("d",6,!1)],!1),new r.State([new r.Edge("e",7,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("addToken",[new r.State([new r.Edge("a",1,!1)],!1),new r.State([new r.Edge("d",2,!1)],!1),new r.State([new r.Edge("d",3,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("removeToken",[new r.State([new r.Edge("r",1,!1)],!1),new r.State([new r.Edge("e",2,!1)],!1),new r.State([new r.Edge("m",3,!1)],!1),new r.State([new r.Edge("o",4,!1)],!1),new r.State([new r.Edge("v",5,!1)],!1),new r.State([new r.Edge("e",6,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("moveToken",[new r.State([new r.Edge("m",1,!1)],!1),new r.State([new r.Edge("o",2,!1)],!1),new r.State([new r.Edge("v",3,!1)],!1),new r.State([new r.Edge("e",4,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("setToken",[new r.State([new r.Edge("s",1,!1)],!1),new r.State([new r.Edge("e",2,!1)],!1),new r.State([new r.Edge("t",3,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("attachToken",[new r.State([new r.Edge("a",1,!1)],!1),new r.State([new r.Edge("t",2,!1)],!1),new r.State([new r.Edge("t",3,!1)],!1),new r.State([new r.Edge("a",4,!1)],!1),new r.State([new r.Edge("c",5,!1)],!1),new r.State([new r.Edge("h",6,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("detachToken",[new r.State([new r.Edge("d",1,!1)],!1),new r.State([new r.Edge("e",2,!1)],!1),new r.State([new r.Edge("t",3,!1)],!1),new r.State([new r.Edge("a",4,!1)],!1),new r.State([new r.Edge("c",5,!1)],!1),new r.State([new r.Edge("h",6,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("networkToken",[new r.State([new r.Edge("n",1,!1)],!1),new r.State([new r.Edge("e",2,!1)],!1),new r.State([new r.Edge("t",3,!1)],!1),new r.State([new r.Edge("w",4,!1)],!1),new r.State([new r.Edge("o",5,!1)],!1),new r.State([new r.Edge("r",6,!1)],!1),new r.State([new r.Edge("k",7,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("bindToken",[new r.State([new r.Edge("b",1,!1)],!1),new r.State([new r.Edge("i",2,!1)],!1),new r.State([new r.Edge("n",3,!1)],!1),new r.State([new r.Edge("d",4,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("unbindToken",[new r.State([new r.Edge("u",1,!1)],!1),new r.State([new r.Edge("n",2,!1)],!1),new r.State([new r.Edge("b",3,!1)],!1),new r.State([new r.Edge("i",4,!1)],!1),new r.State([new r.Edge("n",5,!1)],!1),new r.State([new r.Edge("d",6,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("namespaceToken",[new r.State([new r.Edge("n",1,!1)],!1),new r.State([new r.Edge("a",2,!1)],!1),new r.State([new r.Edge("m",3,!1)],!1),new r.State([new r.Edge("e",4,!1)],!1),new r.State([new r.Edge("s",5,!1)],!1),new r.State([new r.Edge("p",6,!1)],!1),new r.State([new r.Edge("a",7,!1)],!1),new r.State([new r.Edge("c",8,!1)],!1),new r.State([new r.Edge("e",9,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("startToken",[new r.State([new r.Edge("s",1,!1)],!1),new r.State([new r.Edge("t",2,!1)],!1),new r.State([new r.Edge("a",3,!1)],!1),new r.State([new r.Edge("r",4,!1)],!1),new r.State([new r.Edge("t",5,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("stopToken",[new r.State([new r.Edge("s",1,!1)],!1),new r.State([new r.Edge("t",2,!1)],!1),new r.State([new r.Edge("o",3,!1)],!1),new r.State([new r.Edge("p",4,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("pauseToken",[new r.State([new r.Edge("p",1,!1)],!1),new r.State([new r.Edge("a",2,!1)],!1),new r.State([new r.Edge("u",3,!1)],!1),new r.State([new r.Edge("s",4,!1)],!1),new r.State([new r.Edge("e",5,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("latestToken",[new r.State([new r.Edge("L",1,!1)],!1),new r.State([new r.Edge("A",2,!1)],!1),new r.State([new r.Edge("T",3,!1)],!1),new r.State([new r.Edge("E",4,!1)],!1),new r.State([new r.Edge("S",5,!1)],!1),new r.State([new r.Edge("T",6,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("releaseToken",[new r.State([new r.Edge("R",1,!1)],!1),new r.State([new r.Edge("E",2,!1)],!1),new r.State([new r.Edge("L",3,!1)],!1),new r.State([new r.Edge("E",4,!1)],!1),new r.State([new r.Edge("A",5,!1)],!1),new r.State([new r.Edge("S",6,!1)],!1),new r.State([new r.Edge("E",7,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("comment",[new r.State([new r.Edge("/",1,!1)],!1),new r.State([new r.Edge("/",2,!1)],!1),new r.State([new r.Edge(33,3,!1)],!0),new r.State([],!0)],r.FA.VOID),new r.FA("eol",[new r.State([new r.Edge("\r",1,!1),new r.Edge("\n",2,!1),new r.Edge("\r",2,!1)],!1),new r.State([new r.Edge("\n",2,!1)],!1),new r.State([],!0)],r.FA.VOID),new r.FA("ws",[new r.State([new r.Edge(["\t"," "],0,!1),new r.Edge(58,0,!1)],!0)],r.FA.VOID),new r.FA("",[new r.State([new r.Edge(58,1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(58,1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(58,1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(58,1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(["\\"],1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(["'"],1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(58,1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(["\\"],1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(["'"],1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(58,1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(["\\"],1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(['"'],1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(58,1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(["\\"],1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(['"'],1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(58,1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(58,1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(["\\"],1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(["'"],1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(58,1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(58,1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(["\\"],1,!1)],!1),new r.State([],!0)],r.FA.NEG),new r.FA("",[new r.State([new r.Edge(['"'],1,!1)],!1),new r.State([],!0)],r.FA.NEG)]),e}();e.exports.Parser=o},function(e,t,n){e.exports.fsResolverFactory=n(42),e.exports.lsResolverFactory=n(43),e.exports.tagResolverFactory=n(45),e.exports.modelResolverFactory=n(44),e.exports.registryResolverFactory=n(3)},function(e,t,n){"use strict";function r(e,t){this.options=t||{},this.logger=e,this.logger.info("KevScript","Registry: "+s()),this.options.resolver||(this.options.resolver=c(this.logger))}var o=n(9),a=n(7),i=n(8),s=n(4),c=n(3);r.prototype={toString:function(){return"KevScript"},parse:function(e,t,n,r){void 0===r&&void 0===n?(r=t,n={},t=null):void 0===r&&(r=n,n={}),n||(n={}),this.options.logger=this.logger,this.options.ctxVars=n;var i=new o.Parser,s=i.parse(e);"kevScript"!==s.type?r(s,null,[]):a(s,t,this.options,r)},parseModel:function(e){return i(e)},setOptions:function(e){this.options=e}},e.exports=r,e.exports.Parser=o.Parser,e.exports.Resolvers=n(10)},function(e,t,n){"use strict";e.exports=function(e){for(var t=e.groups.iterator(),n="";t.hasNext();){var r=t.next();if(r.subNodes.size()>0){0!==n.length&&(n+="\n"),n+="attach ";for(var o=r.subNodes.iterator();o.hasNext();){n+=o.next().name,o.hasNext()&&(n+=", ")}n+=" "+r.name}}return n}},function(e,t,n){"use strict";e.exports=function(e){for(var t=e.mBindings.iterator(),n="";t.hasNext();){var r=t.next();0!==n.length&&(n+="\n"),n+="bind "+r.port.eContainer().eContainer().name+"."+r.port.eContainer().name+"."+r.port.name+" "+r.hub.name}return n}},function(e,t,n){"use strict";var r=n(6);e.exports=function(e){function t(e){for(var t={};e.hasNext();){var o=e.next(),a=r.getFQN(o.typeDefinition),i=t[a]||[];i.push(o.name),t[a]=i}for(var s in t)t.hasOwnProperty(s)&&(0!==n.length&&(n+="\n"),n+="add "+t[s].join(", ")+": "+s)}var n="";return function(e){for(var t={};e.hasNext();){var o=e.next(),a=r.getFQN(o.typeDefinition),i=t[a]||[];o.host||i.push(o.name),t[a]=i}for(var s in t)t.hasOwnProperty(s)&&t[s].length>0&&(0!==n.length&&(n+="\n"),n+="add "+t[s].join(", ")+": "+s)}(e.nodes.iterator()),function(e){for(var t,o={},a={};e.hasNext();){var i,s=e.next();s.host&&(i=r.getFQN(s.typeDefinition),t=a[i]||[],t.push(s.host.name+"."+s.name),a[i]=t);for(var c=s.components.iterator();c.hasNext();){var u=c.next();i=r.getFQN(u.typeDefinition),t=o[i]||[],t.push(s.name+"."+u.name),o[i]=t}}var f;for(f in o)o.hasOwnProperty(f)&&o[f].length>0&&(0!==n.length&&(n+="\n"),n+="add "+o[f].join(", ")+": "+f);for(f in a)a.hasOwnProperty(f)&&a[f].length>0&&(0!==n.length&&(n+="\n"),n+="add "+a[f].join(", ")+": "+f)}(e.nodes.iterator()),t(e.groups.iterator()),t(e.hubs.iterator()),n.replace(/kevoree\./g,"")}},function(e,t,n){"use strict";e.exports=function(e){function t(e,n){for(;e.hasNext();){var o=e.next();o.started||(n?r.push(n.name+"."+o.name):r.push(o.name)),o.components&&t(o.components.iterator(),o),o.hosts&&t(o.hosts.iterator(),o)}}var n="",r=[];return t(e.nodes.iterator()),t(e.groups.iterator()),t(e.hubs.iterator()),r.length>0&&(n="stop "+r.join(", ")),n}},function(e,t,n){"use strict";e.exports=function(e){for(var t="",n=e.nodes.iterator();n.hasNext();)for(var r=n.next(),o=r.networkInformation.iterator();o.hasNext();)for(var a=o.next(),i=a.values.iterator();i.hasNext();){var s=i.next();0!==t.length&&(t+="\n"),t+="network "+r.name+"."+a.name+"."+s.name+" "+s.value}return t}},function(e,t,n){"use strict";function r(e){if(e){for(var t=!1,n=0;n<e.length;n++){if('"'===e[n]&&!t)return"'"+e+"'";if("'"===e[n]&&!t)return'"'+e+'"';t="\\"===e[n]}return"'"+e+"'"}return"''"}e.exports=function(e){function t(e,t,n,a){t.array.forEach(function(t){a.findAttributesByID(t.name).defaultValue!==t.value&&(0!==o.length&&(o+="\n"),o+=n?"set "+e+"."+t.name+"/"+n+" = "+r(t.value):"set "+e+"."+t.name+" = "+r(t.value))})}function n(e,n){var r=n?n+"."+e.name:e.name;e.dictionary&&t(r,e.dictionary.values.iterator(),null,e.typeDefinition.dictionaryType);for(var o=e.fragmentDictionary.iterator();o.hasNext();){var a=o.next();a&&t(r,a.values.iterator(),a.name,e.typeDefinition.dictionaryType)}}for(var o="",a=e.nodes.iterator();a.hasNext();){var i=a.next();i.host||n(i);for(var s=i.hosts.iterator();s.hasNext();)n(s.next(),i.name);for(var c=i.components.iterator();c.hasNext();)n(c.next(),i.name)}for(var u=e.groups.iterator();u.hasNext();)n(u.next());for(var f=e.hubs.iterator();f.hasNext();)n(f.next());return o}},function(e,t,n){"use strict";e.exports=function(e,t,n){return n.children.join("")}},function(e,t,n){"use strict";var r=n(0),o=n(5);e.exports=function(e,t,n,a){var i,s=t[n.children[0].type](e,t,n.children[0]);if(a.ignoreCtxVars)a.ctxVars[s]?i=a.ctxVars[s]:(i="ignore_"+o(3),a.ctxVars[s]=i);else{if(!a.ctxVars[s])throw new r("Missing value for context variable %"+s+"%",n.pos);i=a.ctxVars[s]}return i}},function(e,t,n){"use strict";e.exports=function(e,t,n){return n.children.join("")}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){return t[n.children[0].type](e,t,n.children[0],r)}},function(e,t,n){"use strict";e.exports=function(e,t,n){return n.children.join("")}},function(e,t,n){"use strict";var r=n(5);e.exports=function(e,t,n,o){var a,i=t[n.children[0].type](e,t,n.children[0]);return o.ctxVars[i]?a=o.ctxVars[i]:o.ctxVars[i]=a=r(),a}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){return n.children?n.children.map(function(n){return t[n.type](e,t,n,r)}):n}},function(e,t,n){"use strict";e.exports=function(e,t,n){return parseInt(n.children.join(""),10)}},function(e,t,n){"use strict";e.exports=function(){return"LATEST"}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){return n.children.map(function(n){return t[n.type](e,t,n,r)})}},function(e,t,n){"use strict";e.exports=function(){return"\n"}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){var o="";for(var a in n.children)"string"==typeof n.children[a]?o+=n.children[a]:n.children[a]instanceof Object&&(o+=t[n.children[a].type](e,t,n.children[a],r));return o}},function(e,t,n){"use strict";e.exports=function(e,t,n){return n.children[0].children.join("")}},function(e,t,n){"use strict";e.exports=function(){return"RELEASE"}},function(e,t,n){"use strict";e.exports=function(e,t,n){return n.children.join("")}},function(e,t,n){"use strict";e.exports=function(e,t,n){return n.children.join("")}},function(e,t,n){"use strict";e.exports=function(e,t,n){return n.children.join("")}},function(e,t,n){"use strict";e.exports=function(e,t,n){return n.children.join("")}},function(e,t,n){"use strict";e.exports=function(e,t,n){return n.children.join("")}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){return t[n.children[0].type](e,t,n.children[0],r)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){var o,a=t[n.children[0].type](e,t,n.children[0],r);return n.children[1]&&(o=t[n.children[1].type](e,t,n.children[1],r),a.version=o),a}},function(e,t,n){"use strict";var r=n(0),o=n(61);e.exports=function(e,t,n){var a,i,s=n.children.filter(function(e){return e.type}).map(function(n){return t[n.type](e,t,n)});if(s.length>2)throw new r("Namespaces should no longer contain dots.",n.pos);return 1===s.length?(a="kevoree",i=s[0]):(a=s[0],i=s[1]),new o(a,i)}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){var o=t[n.children[0].type](e,t,n.children[0],r),a="RELEASE";return 2===n.children.length&&(a=t[n.children[1].type](e,t,n.children[1],r)),{tdef:o,du:a}}},function(e,t,n){"use strict";e.exports=function(){return"*"}},function(e,t,n){var r=n(65),o=n(1),a=n(63);e.exports=function(e,t,n,i){function s(e){return r.resolve(t,e.namespace,e.name,e.version.tdef+"-"+e.version.du+".json")}function c(t){var r=s(t);return e.debug("KevScript","FileSystemResolver is looking for "+r),a.readFile(r,"utf-8").then(function(o){var i=d.loadModelFromString(o).get(0);return parseInt(i.generated_KMF_ID,10)<Date.now()-n?(e.debug("KevScript","FileSystemResolver cache is too old for "+t+" at "+r),a.unlink(r).catch(function(n){e.debug("KevScript","FileSystemResolver failed to remove outdated model for "+t+" at "+r),e.debug("KevScript",n.stack)})):i}).catch(function(n){e.debug("KevScript","FileSystemResolver failed to read/parse model "+t+" from "+r),e.debug("KevScript",n.stack)})}function u(n,o){var i=s(n);return a.mkdirp(r.resolve(i,"..")).then(function(){return a.writeFile(i,o,"utf-8").then(function(){e.debug("KevScript","FileSystemResolver cached "+n+" in "+i)}).catch(function(r){e.debug("KevScript","FileSystemResolver failed to cache "+n+" in "+t+" (ignored)"),e.debug("KevScript",r.stack)})}).catch(function(t){e.debug("KevScript","FileSystemResolver failed to create directory for "+n+" in "+r.resolve(i,"..")+" (ignored)"),e.debug("KevScript",t.stack)})}var f=new o.factory.DefaultKevoreeFactory,d=f.createJSONLoader(),l=f.createJSONSerializer(),h=f.createModelCompare();return{resolve:function(n,r){return Promise.resolve().then(function(){return e.debug("KevScript","Looking for "+n+" in "+t),c(n).then(function(o){if(o){h.merge(r,o).applyOn(r),e.debug("KevScript","FileSystemResolver is trying to find "+n.toKevoreePath()+" in cached model");var a=r.select(n.toKevoreePath()).array;if(a.length>0)for(var s=0;s<a.length;s++)if(a[s].name===n.name)return n.version.tdef=a[s].version,e.info("KevScript","Found "+n+" in "+t),a[s]}var c=!1;"LATEST"===n.version.tdef&&(c=!0);var d=n.clone(),p=f.createContainerRoot();return f.root(p),i.resolve(n,p).then(function(e){p.generated_KMF_ID=Date.now();var t=l.serialize(p);return u(n,t).then(function(){if(c)return u(d,t)}).then(function(){return h.merge(r,p).applyOn(r),r.findByPath(e.path())})})})})}}}},function(e,t){e.exports=function(e,t,n,r){function o(t){e.debug("KevScript","LocalStorageResolver is looking for "+t);var r=localStorage.getItem(i+t);if(r)try{var o=c.loadModelFromString(r).get(0);return parseInt(o.generated_KMF_ID,10)<Date.now()-n?(e.debug("KevScript","LocalStorageResolver cached model is too old for "+t),delete localStorage[i+t],o):o}catch(n){e.debug("KevScript","LocalStorageResolver unable to load model for "+t)}else e.debug("KevScript","LocalStorageResolver unable to find model for "+t)}function a(t,n){localStorage.setItem(i+t,n),e.debug("KevScript","FileSystemResolver cached "+t)}var i=t||"kevs-cache-";if(!KevoreeLibrary)return r;var s=new KevoreeLibrary.factory.DefaultKevoreeFactory,c=s.createJSONLoader(),u=s.createJSONSerializer(),f=s.createModelCompare();return{resolve:function(t,n){return Promise.resolve().then(function(){if(localStorage){var i=o(t);if(i){f.merge(n,i).applyOn(n),e.debug("KevScript","LocalStorageResolver is trying to find "+t.toKevoreePath()+" in cached model");var c=n.select(t.toKevoreePath()).array;if(c.length>0)for(var d=0;d<c.length;d++)if(c[d].name===t.name)return t.version.tdef=c[d].version,e.info("KevScript","Found "+t+" in local storage"),c[d]}var l="LATEST"===t.version.tdef,h=t.clone(),p=s.createContainerRoot();return s.root(p),r.resolve(t,p).then(function(e){p.generated_KMF_ID=Date.now();var r=u.serialize(p);return a(t,r),l&&a(h,r),f.merge(n,p).applyOn(n),n.findByPath(e.path())})}return r.resolve(t,n)})}}}},function(e,t){e.exports=function(e,t){return{resolve:function(n,r){return Promise.resolve().then(function(){e.debug("KevScript","Looking for "+n+" in model"),e.debug("KevScript","ModelResolver is looking for "+n.toKevoreePath());var o=r.select(n.toKevoreePath()).array;if(o.length>0)for(var a=0;a<o.length;a++)if(o[a].name===n.name)return e.info("KevScript","Found "+n+" in model"),o[a];return t.resolve(n,r)})}}}},function(e,t){e.exports=function(e,t){var n={};return{resolve:function(r,o){return Promise.resolve().then(function(){var a=r.toString();if("LATEST"===r.version.tdef){var i=n[a];return i?(e.debug("KevScript","TagResolver changed "+r.version.tdef+" to "+i+" for "+r),r.version.tdef=i,t.resolve(r,o)):t.resolve(r,o).then(function(t){return"LATEST"!==r.version.tdef&&(n[a]=r.version.tdef,e.debug("KevScript","TagResolver linked "+a+" <-> "+r)),t})}return t.resolve(r,o)})}}}},function(e,t,n){"use strict";function r(e){var t=new a.factory.DefaultKevoreeFactory,n=e.typeDefinition.dictionaryType;if(n){var r=t.createDictionary().withGenerated_KMF_ID("0.0");n.attributes.array.forEach(function(e){if(!e.fragmentDependant){var n=t.createValue();n.name=e.name,n.value=e.defaultValue,r.addValues(n)}}),e.dictionary=r}}function o(e){var t=new a.factory.DefaultKevoreeFactory;e.typeDefinition.provided.array.forEach(function(n){var r=t.createPort();r.name=n.name,r.portTypeRef=n,e.addProvided(r)}),e.typeDefinition.required.array.forEach(function(n){var r=t.createPort();r.name=n.name,r.portTypeRef=n,e.addRequired(r)})}var a=n(1),i=n(0),s=n(6);e.exports=function(e,t,n,c){n.instances||(n.instances={});var u=t[n.children[0].type](e,t,n.children[0],c),f=t[n.children[1].type](e,t,n.children[1],c);return c.resolver.resolve(f,e).then(function(t){var c=new a.factory.DefaultKevoreeFactory;u.forEach(function(a){var u;if(1===a.length)if("org.kevoree.NodeType"===t.metaClassName())u=e.findNodesByID(a[0])||c.createContainerNode(),u.name=a[0],u.started=!0,u.typeDefinition=t,r(u),e.addNodes(u),n.instances[u.path()]=a.pos;else if("org.kevoree.GroupType"===t.metaClassName())u=e.findGroupsByID(a[0])||c.createGroup(),u.name=a[0],u.started=!0,u.typeDefinition=t,r(u),e.addGroups(u),n.instances[u.path()]=a.pos;else{if("org.kevoree.ChannelType"!==t.metaClassName())throw new i('Components must be added in nodes (eg. "add aNode.'+a[0]+": "+t.name+'"). "'+a+'" is not valid',a.pos);u=e.findHubsByID(a[0])||c.createChannel(),u.name=a[0],u.started=!0,u.typeDefinition=t,r(u),e.addHubs(u),n.instances[u.path()]=a.pos}else{if(2!==a.length)throw new i('Instance path for "add" statements must be "name" or "hostName.childName". Instance path "'+a+'" is not valid',a.pos);if("org.kevoree.NodeType"===t.metaClassName()){if("*"===a[0])throw new i('Add statement with "*" only works for component type',a[0].pos);var f=e.findNodesByID(a[0]);if(!f)throw new i('Unable to add node "'+a[1]+'" to "'+a[0]+'". "'+a[0]+'" does not exist',a[0].pos);u=e.findNodesByID(a[1])||c.createContainerNode(),u.name=a[1],u.started=!0,u.typeDefinition=t,r(u),f.addHosts(u),u.host=f,e.addNodes(u),n.instances[u.path()]=a.pos}else{if("org.kevoree.ComponentType"!==t.metaClassName())throw new i('Instance "'+a[1]+'" of type '+t.metaClassName()+" cannot be added to a node",a[1].pos);if("*"===a[0])e.nodes.array.forEach(function(e){if(!e.host){if(!s.isCompatible(t,e))throw new i("Unable to add '"+a[1]+"' ("+t.name+"/"+t.version+") to '"+e.name+"' ("+e.typeDefinition.name+"/"+e.typeDefinition.version+"), no available '"+s.getPlatforms(e.typeDefinition)[0]+"' platform",a[1].pos);u=e.findComponentsByID(a[1])||c.createComponentInstance(),u.name=a[1],u.started=!0,u.typeDefinition=t,r(u),o(u),e.addComponents(u),n.instances[u.path()]=a.pos}});else{var d=e.findNodesByID(a[0]);if(!d)throw new i('Unable to add component "'+a[1]+'" to "'+a[0]+'". "'+a[0]+'" does not exist',a[0].pos);if(!s.isCompatible(t,d))throw new i("Unable to add '"+a[1]+"' ("+t.name+"/"+t.version+") to '"+d.name+"' ("+d.typeDefinition.name+"/"+d.typeDefinition.version+"), no available '"+s.getPlatforms(d.typeDefinition)[0]+"' platform",a[1].pos);u=d.findComponentsByID(a[1])||c.createComponentInstance(),u.name=a[1],u.started=!0,u.typeDefinition=t,r(u),o(u),d.addComponents(u),n.instances[u.path()]=a.pos}}}})})}},function(e,t,n){"use strict";function r(e,t,n){return e.mBindings.array.some(function(e){if(e.hub&&e.port)return e.hub.name===t.name&&e.port.path()===n.path()})}var o=n(1),a=n(0);e.exports=function(e,t,n,i){return Promise.all([t[n.children[0].type](e,t,n.children[0],i),t[n.children[1].type](e,t,n.children[1],i)]).then(function(t){var n=[];if(1!==t[1].length)throw new a("Bind target path is invalid ("+t[1].value+")",t[1].pos);if("*"===t[1][0].value)n=e.hubs.array;else{var i=e.findHubsByID(t[1][0].value);if(!i)throw new a('Unable to find chan instance "'+t[1][0].value+'". Bind failed',t[1][0].pos);n.push(i)}var s=[];if(3!==t[0].length)throw new a('"'+t[0].value+'" is not a valid bind path for a port',t[0].pos);if("*"===t[0][0].value)s=e.nodes.array;else{var c=e.findNodesByID(t[0][0].value);if(!c)throw new a('Unable to find node instance "'+t[0][0].value+'". Bind failed',t[0][0].pos);s.push(c)}var u=[];s.forEach(function(e){if("*"===t[0][1].value)u=u.concat(e.components.array);else{var n=e.findComponentsByID(t[0][1].value);if(!n)throw new a('Unable to find component instance "'+t[0][1].value+'" in node "'+t[0][0].value+'". Bind failed',t[0][1].pos);u.push(n)}});var f=[];u.forEach(function(e){if("*"===t[0][2].value)f=f.concat(e.provided.array).concat(e.required.array);else{var n=e.findProvidedByID(t[0][2].value);if(n)f.push(n);else{if(!(n=e.findRequiredByID(t[0][2].value)))throw new a('Component "'+e.name+'" in node "'+e.eContainer().name+'" has no port named "'+t[0][2].value+'". Bind failed',t[0][2].pos);f.push(n)}}});var d=new o.factory.DefaultKevoreeFactory;n.forEach(function(t){f.forEach(function(n){if(!r(e,t,n)){var o=d.createMBinding();o.hub=t,o.port=n,t.addBindings(o),n.addBindings(o),e.addMBindings(o)}})})})}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){return Promise.resolve().then(function(){r.warnings.push({message:'"repo" statement is deprecated',pos:n.pos})})}},function(e,t,n){"use strict";function r(e){var t=new o.factory.DefaultKevoreeFactory;e.groups.array.forEach(function(n){var r=n.findFragmentDictionaryByID(e.name);r||(r=t.createFragmentDictionary().withGenerated_KMF_ID("0.0"),r.name=e.name,n.addFragmentDictionary(r));var o=n.typeDefinition.dictionaryType;o&&o.attributes.array.forEach(function(e){if(e.fragmentDependant&&e.defaultValue){var n=t.createValue();n.name=e.name,n.value=e.defaultValue,r.addValues(n)}})}),e.components.array.forEach(function(n){n.provided.array.concat(n.required.array).forEach(function(n){n.bindings.array.forEach(function(n){if(n.hub){var r=n.hub.findFragmentDictionaryByID(e.name);r||(r=t.createFragmentDictionary().withGenerated_KMF_ID("0.0"),r.name=e.name,n.hub.addFragmentDictionary(r));var o=n.hub.typeDefinition.dictionaryType;o&&o.attributes.array.forEach(function(e){if(e.fragmentDependant&&e.defaultValue){var n=t.createValue();n.name=e.name,n=e.defaultValue,r.addValues(n)}})}})})})}var o=n(1),a=n(0);e.exports=function(e,t,n,o){var i=t[n.children[0].type](e,t,n.children[0],o),s=t[n.children[1].type](e,t,n.children[1],o),c=[];if(1!==s.length)throw new a("Attach target path is invalid ("+s+")",n.children[1].pos);if(c=e.select("/groups["+s[0]+"]").array,"*"!==s[0]&&0===c.length)throw new a('Unable to find group instance "'+s[0]+'". Attach failed',n.children[1].children[0].pos);i.forEach(function(t,o){if(1!==t.length)throw new a('"'+t+'" is not a valid attach path for a node',n.children[1].pos);var i=e.select("/nodes["+t+"]").array;if("*"!==t&&0===i.length)throw new a('Unable to attach node instance "'+t+'". Instance does not exist',n.children[0].children[o].pos);i.forEach(function(e){c.forEach(function(t){e.addGroups(t),t.addSubNodes(e)}),r(e)})})}},function(e,t,n){"use strict";function r(e,t,n){return e.mBindings.array.filter(function(e){if(e.hub&&e.port&&e.hub.name===t.name&&e.port.path()===n.path())return e})}var o=n(0);e.exports=function(e,t,n,a){return Promise.all([t[n.children[0].type](e,t,n.children[0],a),t[n.children[1].type](e,t,n.children[1],a)]).then(function(t){var n=[];if(1!==t[1].length)throw new o("Unbind target path is invalid ("+t[1].value+")",t[1].pos);if("*"===t[1][0].value)n=e.hubs.array;else{var a=e.findHubsByID(t[1][0].value);if(!a)throw new o('Unable to find chan instance "'+t[1][0].value+'". Unbind failed',t[1][0].pos);n.push(a)}var i=[];if(3!==t[0].length)throw new o('"'+t[0].value+'" is not a valid unbind path for a port',t[0].pos);if("*"===t[0][0].value)i=e.nodes.array;else{var s=e.findNodesByID(t[0][0].value);if(!s)throw new o('Unable to find node instance "'+t[0][0].value+'". Unbind failed',t[0][0].pos);i.push(s)}var c=[];i.forEach(function(e){if("*"===t[0][1].value)c=c.concat(e.components.array);else{var n=e.findComponentsByID(t[0][1].value);if(!n)throw new o('Unable to find component instance "'+t[0][1].value+'" in node "'+t[0][0].value+'". Unbind failed',t[0][1].pos);c.push(n)}});var u=[];c.forEach(function(e){if("*"===t[0][2].value)u=u.concat(e.provided.array).concat(e.required.array);else{var n=e.findProvidedByID(t[0][2].value);if(n)u.push(n);else{if(!(n=e.findRequiredByID(t[0][2].value)))throw new o('Component "'+e.name+'" in node "'+e.eContainer().name+'" has no port named "'+t[0][2].value+'". Unbind failed',t[0][2].pos);u.push(n)}}}),n.forEach(function(t){u.forEach(function(n){r(e,t,n).forEach(function(t){t.hub&&t.hub.removeBindings(t),t.port&&t.port.removeBindings(t),e.removeMBindings(t)})})})})}},function(e,t,n){"use strict";function r(e){e.groups.array.forEach(function(t){var n=t.findFragmentDictionaryByID(e.name);n&&n.delete()}),e.components.array.forEach(function(t){t.provided.array.concat(t.required.array).forEach(function(t){t.bindings.array.forEach(function(t){if(t.hub){var n=t.hub.findFragmentDictionaryByID(e.name);n&&n.delete()}})})})}var o=n(0);e.exports=function(e,t,n,a){var i=t[n.children[0].type](e,t,n.children[0],a),s=t[n.children[1].type](e,t,n.children[1],a),c=[];if(1!==s.length)throw new o("Detach target path is invalid ("+s+")",n.children[1].pos);if(c=e.select("/groups["+s[0]+"]").array,"*"!==s[0]&&0===c.length)throw new o('Unable to find group instance "'+s[0]+'". Detach failed',n.children[1].children[0].pos);i.forEach(function(t,a){if(1!==t.length)throw new o('"'+t+'" is not a valid detach path for a node',n.children[1].pos);var i=e.select("/nodes["+t+"]").array;if("*"!==t&&0===i.length)throw new o('Unable to detach node instance "'+t+'". Instance does not exist',n.children[0].children[a].pos);i.forEach(function(e){r(e),c.forEach(function(t){e.removeGroups(t),t.removeSubNodes(e)})})})}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){return Promise.resolve().then(function(){r.warnings.push({message:'"include" statement is deprecated',pos:n.pos})})}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n,o){return Promise.all([t[n.children[0].type](e,t,n.children[0],o),t[n.children[1].type](e,t,n.children[1],o)]).then(function(t){var n=[];if(1!==t[1].length)throw new r("Move target path is invalid ("+t[1].value+")",t[1].pos);if("*"===t[1][0].value)n=e.nodes.array;else{var o=e.findNodesByID(t[1][0].value);if(!o)throw new r('Unable to find node instance "'+t[1][0].value+'". Move failed',t[1][0].pos);n.push(o)}t[0].forEach(function(t){if(1===t.length){if("*"===t[0].value)throw new r('Wildcard "*" cannot be used for nodes. Move failed',t[0].pos);var o=e.findNodesByID(t[0].value);if(!o)throw new r('Unable to move node instance "'+t[0].value+'". Instance does not exist',t[0].pos);n.forEach(function(e){e.addHosts(o),o.host=e})}else{if(2!==t.length)throw new r('"'+t.value+'" is not a valid move path for an instance',t.pos);var a=[];if("*"===t[0].value)a=e.nodes.array;else{var i=e.findNodesByID(t[0].value);if(!i)throw new r('Unable to find node instance "'+t[0].value+'". Move failed',t[0].pos);a.push(i)}var s=[];"*"===t[1].value?a.forEach(function(e){s=s.concat(e.components.array)}):a.forEach(function(e){var n=e.findComponentsByID(t[1].value);n&&s.push(n)}),n.forEach(function(e){s.forEach(function(t){e.addComponents(t)})})}})})}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){return Promise.resolve().then(function(){r.warnings.push({message:'"namespace" statement is deprecated',pos:n.pos})})}},function(e,t,n){"use strict";var r=n(1),o=n(0);e.exports=function(e,t,n,a){var i=t[n.children[0].type](e,t,n.children[0],a),s=t[n.children[1].type](e,t,n.children[1],a);if(3!==i.length)throw new o('"'+i[0]+'" is not a network path. Network path must look like "nodeName.netType.netName"',n.children[0].children[0].pos);var c=[];if("*"===i[0])c=e.nodes.array;else{var u=e.findNodesByID(i[0]);if(!u)throw new o('Unable to find node instance "'+i[0]+'". Network failed',n.children[0].children[0].pos);c.push(u)}var f=new r.factory.DefaultKevoreeFactory,d=[];"*"===i[1].value?c.forEach(function(e){d=d.concat(e.networkInformation.array)}):c.forEach(function(e){var t=e.findNetworkInformationByID(i[1]);t?d.push(t):(t=f.createNetworkInfo(),t.name=i[1],e.addNetworkInformation(t),d.push(t))});var l=[];"*"===i[2].value?d.forEach(function(e){l=l.concat(e.values.array)}):d.forEach(function(e){var t=e.findValuesByID(i[2]);t?l.push(t):(t=f.createValue(),t.name=i[2],e.addValues(t),l.push(t))}),l.forEach(function(e){e.value=s})}},function(e,t,n){"use strict";e.exports=function(e,t,n,r){return Promise.resolve().then(function(){r.warnings.push({message:'"pause" statement is deprecated',pos:n.pos})})}},function(e,t,n){"use strict";function r(e,t){e.groups.array.forEach(function(e){var n=e.findFragmentDictionaryByID(t.name);n&&e.removeFragmentDictionary(n)}),e.hubs.array.forEach(function(e){var n=e.findFragmentDictionaryByID(t.name);n&&e.removeFragmentDictionary(n)}),t.components.array.forEach(function(t){t.provided.array.concat(t.required.array).forEach(function(t){t.bindings.array.forEach(function(t){t.hub.removeBindings(t),e.removeMBindings(t)})})}),t.groups.array.forEach(function(e){e.removeSubNodes(t)}),t.host&&t.host.removeHosts(t),e.removeNodes(t)}function o(e,t){t.subNodes.array.forEach(function(e){e.removeGroups(t)}),e.removeGroups(t)}function a(e,t){e.mBindings.array.forEach(function(n){n.hub.name===t.name&&(n.port&&n.port.removeBindings(n),n.hub&&n.hub.removeBindings(n),e.removeMBindings(n))}),e.removeHubs(t)}function i(e,t){t.provided.array.concat(t.required.array).forEach(function(t){t.bindings.array.forEach(function(t){t.port&&t.port.removeBindings(t),t.hub&&t.hub.removeBindings(t),e.removeMBindings(t)})}),t.eContainer().removeComponents(t)}function s(e,t,n){if("*"===t)n.components.array.forEach(function(t){i(e,t)}),n.hosts.array.forEach(function(t){r(e,t)});else{var o=n.findComponentsByID(t);o&&i(e,o);var a=n.findHostsByID(t);a&&r(e,a)}}var c=n(0);e.exports=function(e,t,n,i){t[n.children[0].type](e,t,n.children[0],i).forEach(function(t,i){var u;if(1===t.length)if("*"===t[0])e.removeAllHubs(),e.removeAllNodes(),e.removeAllGroups(),e.removeAllMBindings();else{for(var f=e.nodes.array.concat(e.hubs.array).concat(e.groups.array),d=0;d<f.length;d++)if(f[d].name===t[0]){u=f[d];break}if(!u)throw new c('Unable to remove instance "'+t[0]+'". Instance does not exist',n.children[0].children[i].pos);"org.kevoree.ContainerNode"===u.metaClassName()?r(e,u):"org.kevoree.Group"===u.metaClassName()?o(e,u):"org.kevoree.Channel"===u.metaClassName()&&a(e,u)}else{if(2!==t.length)throw new c('Instance path for "remove" statements must be "name" or "hostName.childName". Instance path "'+n.children[0].pos+'" is not valid',n.children[0].children[0].pos);if("*"===t[0])e.nodes.array.forEach(function(n){s(e,t[1],n)});else{var l=e.findNodesByID(t[0]);if(!l)throw new c('Unable to remove instances from "'+t[0]+'". Instance does not exist',n.children[0].children[i].pos);s(e,t[1],l)}}})}},function(e,t,n){"use strict";var r=n(1),o=n(0),a=n(62);e.exports=function(e,t,n,i){var s,c,u=n.children[0];3===n.children.length?(s=n.children[2],c=a(e,t,n.children[1],e,i)):s=n.children[1];var f=t[u.type](e,t,u,i);if(u.length<2)throw new o('"'+f.value+'" is not a valid path to a parameter. Set failed',u.pos);var d=u.children.splice(-1)[0],l=t[u.type](e,t,u,i),h=a(e,t,u,e,i);if(0===h.length)throw new o('Unable to find any instances that matches "'+l.join(".")+'". Set failed',u.pos);var p=t[d.type](e,t,d,i);if("*"===p)throw new o("You must not use wildcard (*) for parameter name. Set failed",u.pos);var w=t[s.type](e,t,s,i),g=new r.factory.DefaultKevoreeFactory;c?c.forEach(function(e){h.forEach(function(t){var n=t.select("fragmentDictionary["+e.name+"]").array;if(0===n.length)throw new o('Unable to find any fragment dictionary named "'+e.name+'" in instance "'+t.name+'". Set failed',d.pos);if(!t.typeDefinition.dictionaryType)throw new o('Type "'+t.typeDefinition.name+'" does not have any fragment dictionary to set. Set failed',d.pos);var r=t.typeDefinition.dictionaryType.findAttributesByID(p);if(!r)throw new o('Type "'+t.typeDefinition.name+'" does not have any "'+p+'" parameter in its dictionary. Set failed',d.pos);if(!r.fragmentDependant)throw new o('Type "'+t.typeDefinition.name+'" has a param "'+p+'" but it is not fragment dependent. Set failed',d.pos);n.forEach(function(e){var t=e.findValuesByID(p);t||(t=g.createValue(),t.name=p,e.addValues(t)),t.value=w})})}):h.forEach(function(e){if(!e.typeDefinition.dictionaryType)throw new o('Type "'+e.typeDefinition.name+'" does not have any dictionary to set. Set failed',u.pos);var t=e.typeDefinition.dictionaryType.findAttributesByID(p);if(!t)throw new o('Type "'+e.typeDefinition.name+'" does not have any "'+p+'" parameter in its dictionary. Set failed',d.pos);if(t.fragmentDependant)throw new o('Type "'+e.typeDefinition.name+'" has a param "'+p+'" but it is fragment dependent. Set failed',d.pos);var n=e.dictionary.findValuesByID(p);n||(n=g.createValue(),n.name=p,e.dictionary.addValues(n)),n.value=w})}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n,o){return t[n.children[0].type](e,t,n.children[0],o).then(function(t){t.forEach(function(t){var n=[];if(1===t.length)n=e.select("/nodes["+t[0].value+"]").array.concat(e.select("/groups["+t[0].value+"]").array).concat(e.select("/hubs["+t[0].value+"]").array);else{if(2!==t.length)throw new r('"'+t.value+'" is not a valid path for an instance. Start failed',t.pos);n=e.select("/nodes["+t[0].value+"]/components["+t[1].value+"]").array}if(t.indexOf("*")===-1&&0===n.length)throw new r('Unable to start "'+t.value+'". Instance does not exist',t.pos);n.forEach(function(e){e.started=!0})})})}},function(e,t,n){"use strict";var r=n(0);e.exports=function(e,t,n,o){return t[n.children[0].type](e,t,n.children[0],o).then(function(t){t.forEach(function(t){var n=[];if(1===t.length)n=e.select("/nodes["+t[0].value+"]").array.concat(e.select("/groups["+t[0].value+"]").array).concat(e.select("/hubs["+t[0].value+"]").array);else{if(2!==t.length)throw new r('"'+t.value+'" is not a valid path for an instance. Stop failed',t.pos);n=e.select("/nodes["+t[0].value+"]/components["+t[1].value+"]").array}if(t.indexOf("*")===-1&&0===n.length)throw new r('Unable to stop "'+t.value+'". Instance does not exist',t.pos);n.forEach(function(e){e.started=!1})})})}},function(e,t){function n(e,t,n){this.namespace=e,this.name=t,this.version=Object.assign({tdef:"LATEST",du:"RELEASE"},n)}n.prototype.toString=function(){return this.namespace+"."+this.name+"/"+this.version.tdef+"/"+this.version.du},n.prototype.toKevoreePath=function(){return"LATEST"===this.version.tdef?"/packages["+this.namespace+"]/typeDefinitions[name="+this.name+"]":"/packages["+this.namespace+"]/typeDefinitions[name="+this.name+",version="+this.version.tdef+"]"},n.prototype.clone=function(){var e=new n(this.namespace,this.name,{});return e.version.tdef=this.version.tdef,e.version.du=this.version.du,e},e.exports=n},function(e,t,n){function r(e,t,n,a){var i;if("instancePath"===n.type){if(2===n.children.length){var s=t[n.children[0].type](e,t,n.children[0],a),c=t[n.children[1].type](e,t,n.children[1],a),u=e.select("/nodes["+s+"]").array;if(0===u.length)throw new o('No node instance found named "'+s+'"',n.pos);return u.reduce(function(e,t){var r=t.select("components["+c+"]").array,a=t.select("hosts["+c+"]").array,i=r.concat(a);if("*"!==c&&0===i.length)throw new o('No component/node found named "'+c+'" in node "'+t+'"',n.pos);return e.concat(i)},[])}var f=t[n.children[0].type](e,t,n.children[0],a);if(i=e.select("/groups["+f+"]").array.concat(e.select("/hubs["+f+"]").array).concat(e.select("/nodes["+f+"]").array),"*"!==f&&0===i.length)throw new o('No group/channel/node found named "'+f+'"',n.pos);return i}if("nameList"===n.type)return n.children.reduce(function(n,o){return n.concat(r(e,t,o,a))},[]);if("string"===n.type){var d=t[n.type](e,t,n,a);if(i=e.select("/nodes["+f+"]").array.concat(e.select("/groups["+f+"]").array).concat(e.select("/hubs["+f+"]").array),"*"!==d&&0===i.length)throw new o('No group/channel/node found named "'+d+'"',n.pos);return i}if(n instanceof Array)return n.reduce(function(n,o){return n.concat(r(e,t,o,a))},[]);if("string"==typeof n){if(i=e.select("/nodes["+n+"]").array.concat(e.select("/groups["+n+"]").array).concat(e.select("/hubs["+n+"]").array),"*"!==n&&0===i.length)throw new o('No group/channel/node found named "'+n+'"',n.pos);return i}throw new Error("instanceResolver() should not process anything but instancePath & nameList")}var o=n(0);e.exports=r},function(e,t,n){var r=n(76),o=n(77);e.exports={readFile:function(e,t){return new Promise(function(n,o){r.readFile(e,t,function(e,t){e?o(e):n(t)})})},writeFile:function(e,t,n){return new Promise(function(o,a){r.writeFile(e,t,n,function(e){e?a(e):o()})})},unlink:function(e){return new Promise(function(t,n){r.unlink(e,function(e){e?n(e):t()})})},mkdirp:function(e){return new Promise(function(t,n){o(e,function(e){e?n(e):t()})})}}},function(e,t){function n(e){var t=[];return e.reduce(function(e,n){return e.then(function(e){return t.push(e),n()})},Promise.resolve()).then(function(e){return t.push(e),t.splice(1)})}e.exports={series:n}},function(e,t,n){(function(e){function n(e,t){for(var n=0,r=e.length-1;r>=0;r--){var o=e[r];"."===o?e.splice(r,1):".."===o?(e.splice(r,1),n++):n&&(e.splice(r,1),n--)}if(t)for(;n--;n)e.unshift("..");return e}function r(e,t){if(e.filter)return e.filter(t);for(var n=[],r=0;r<e.length;r++)t(e[r],r,e)&&n.push(e[r]);return n}var o=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a=function(e){return o.exec(e).slice(1)};t.resolve=function(){for(var t="",o=!1,a=arguments.length-1;a>=-1&&!o;a--){var i=a>=0?arguments[a]:e.cwd();if("string"!=typeof i)throw new TypeError("Arguments to path.resolve must be strings");i&&(t=i+"/"+t,o="/"===i.charAt(0))}return t=n(r(t.split("/"),function(e){return!!e}),!o).join("/"),(o?"/":"")+t||"."},t.normalize=function(e){var o=t.isAbsolute(e),a="/"===i(e,-1);return e=n(r(e.split("/"),function(e){return!!e}),!o).join("/"),e||o||(e="."),e&&a&&(e+="/"),(o?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(r(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,n){function r(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=t.resolve(e).substr(1),n=t.resolve(n).substr(1);for(var o=r(e.split("/")),a=r(n.split("/")),i=Math.min(o.length,a.length),s=i,c=0;c<i;c++)if(o[c]!==a[c]){s=c;break}for(var u=[],c=s;c<o.length;c++)u.push("..");return u=u.concat(a.slice(s)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=a(e),n=t[0],r=t[1];return n||r?(r&&(r=r.substr(0,r.length-1)),n+r):"."},t.basename=function(e,t){var n=a(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},t.extname=function(e){return a(e)[3]};var i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(t,n(2))},function(e,t,n){(function(n){function r(e,t){if(e instanceof i)return e;if("string"!=typeof e)return null;if(e.length>Q)return null;if(!(t?Z[pe]:Z[de]).test(e))return null;try{return new i(e,t)}catch(e){return null}}function o(e,t){var n=r(e,t);return n?n.version:null}function a(e,t){var n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}function i(e,t){if(e instanceof i){if(e.loose===t)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>Q)throw new TypeError("version is longer than "+Q+" characters");if(!(this instanceof i))return new i(e,t);J("SemVer",e,t),this.loose=t;var n=e.trim().match(t?Z[pe]:Z[de]);if(!n)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>W||this.major<0)throw new TypeError("Invalid major version");if(this.minor>W||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>W||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<W)return t}return e}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}function s(e,t,n,r){"string"==typeof n&&(r=n,n=void 0);try{return new i(e,n).inc(t,r).version}catch(e){return null}}function c(e,t){if(S(e,t))return null;var n=r(e),o=r(t);if(n.prerelease.length||o.prerelease.length){for(var a in n)if(("major"===a||"minor"===a||"patch"===a)&&n[a]!==o[a])return"pre"+a;return"prerelease"}for(var a in n)if(("major"===a||"minor"===a||"patch"===a)&&n[a]!==o[a])return a}function u(e,t){var n=Ke.test(e),r=Ke.test(t);return n&&r&&(e=+e,t=+t),n&&!r?-1:r&&!n?1:e<t?-1:e>t?1:0}function f(e,t){return u(t,e)}function d(e,t){return new i(e,t).major}function l(e,t){return new i(e,t).minor}function h(e,t){return new i(e,t).patch}function p(e,t,n){return new i(e,n).compare(t)}function w(e,t){return p(e,t,!0)}function g(e,t,n){return p(t,e,n)}function v(e,n){return e.sort(function(e,r){return t.compare(e,r,n)})}function m(e,n){return e.sort(function(e,r){return t.rcompare(e,r,n)})}function y(e,t,n){return p(e,t,n)>0}function E(e,t,n){return p(e,t,n)<0}function S(e,t,n){return 0===p(e,t,n)}function F(e,t,n){return 0!==p(e,t,n)}function b(e,t,n){return p(e,t,n)>=0}function A(e,t,n){return p(e,t,n)<=0}function x(e,t,n,r){var o;switch(t){case"===":"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),o=e===n;break;case"!==":"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),o=e!==n;break;case"":case"=":case"==":o=S(e,n,r);break;case"!=":o=F(e,n,r);break;case">":o=y(e,n,r);break;case">=":o=b(e,n,r);break;case"<":o=E(e,n,r);break;case"<=":o=A(e,n,r);break;default:throw new TypeError("Invalid operator: "+t)}return o}function D(e,t){if(e instanceof D){if(e.loose===t)return e;e=e.value}if(!(this instanceof D))return new D(e,t);J("comparator",e,t),this.loose=t,this.parse(e),this.semver===Re?this.value="":this.value=this.operator+this.semver.version,J("comp",this)}function T(e,t){if(e instanceof T&&e.loose===t)return e;if(!(this instanceof T))return new T(e,t);if(this.loose=t,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(e){return this.parseRange(e.trim())},this).filter(function(e){return e.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function N(e,t){return new T(e,t).set.map(function(e){return e.map(function(e){return e.value}).join(" ").trim().split(" ")})}function I(e,t){return J("comp",e),e=C(e,t),J("caret",e),e=P(e,t),J("tildes",e),e=B(e,t),J("xrange",e),e=K(e,t),J("stars",e),e}function k(e){return!e||"x"===e.toLowerCase()||"*"===e}function P(e,t){return e.trim().split(/\s+/).map(function(e){return L(e,t)}).join(" ")}function L(e,t){var n=t?Z[xe]:Z[Ae];return e.replace(n,function(t,n,r,o,a){J("tilde",e,t,n,r,o,a);var i;return k(n)?i="":k(r)?i=">="+n+".0.0 <"+(+n+1)+".0.0":k(o)?i=">="+n+"."+r+".0 <"+n+"."+(+r+1)+".0":a?(J("replaceTilde pr",a),"-"!==a.charAt(0)&&(a="-"+a),i=">="+n+"."+r+"."+o+a+" <"+n+"."+(+r+1)+".0"):i=">="+n+"."+r+"."+o+" <"+n+"."+(+r+1)+".0",J("tilde return",i),i})}function C(e,t){return e.trim().split(/\s+/).map(function(e){return j(e,t)}).join(" ")}function j(e,t){J("caret",e,t);var n=t?Z[Ie]:Z[Ne];return e.replace(n,function(t,n,r,o,a){J("caret",e,t,n,r,o,a);var i;return k(n)?i="":k(r)?i=">="+n+".0.0 <"+(+n+1)+".0.0":k(o)?i="0"===n?">="+n+"."+r+".0 <"+n+"."+(+r+1)+".0":">="+n+"."+r+".0 <"+(+n+1)+".0.0":a?(J("replaceCaret pr",a),"-"!==a.charAt(0)&&(a="-"+a),i="0"===n?"0"===r?">="+n+"."+r+"."+o+a+" <"+n+"."+r+"."+(+o+1):">="+n+"."+r+"."+o+a+" <"+n+"."+(+r+1)+".0":">="+n+"."+r+"."+o+a+" <"+(+n+1)+".0.0"):(J("no pr"),i="0"===n?"0"===r?">="+n+"."+r+"."+o+" <"+n+"."+r+"."+(+o+1):">="+n+"."+r+"."+o+" <"+n+"."+(+r+1)+".0":">="+n+"."+r+"."+o+" <"+(+n+1)+".0.0"),J("caret return",i),i})}function B(e,t){return J("replaceXRanges",e,t),e.split(/\s+/).map(function(e){return O(e,t)}).join(" ")}function O(e,t){e=e.trim();var n=t?Z[Se]:Z[Ee];return e.replace(n,function(t,n,r,o,a,i){J("xRange",e,t,n,r,o,a,i);var s=k(r),c=s||k(o),u=c||k(a),f=u;return"="===n&&f&&(n=""),s?t=">"===n||"<"===n?"<0.0.0":"*":n&&f?(c&&(o=0),u&&(a=0),">"===n?(n=">=",c?(r=+r+1,o=0,a=0):u&&(o=+o+1,a=0)):"<="===n&&(n="<",c?r=+r+1:o=+o+1),t=n+r+"."+o+"."+a):c?t=">="+r+".0.0 <"+(+r+1)+".0.0":u&&(t=">="+r+"."+o+".0 <"+r+"."+(+o+1)+".0"),J("xRange return",t),t})}function K(e,t){return J("replaceStars",e,t),e.trim().replace(Z[Be],"")}function R(e,t,n,r,o,a,i,s,c,u,f,d,l){return t=k(n)?"":k(r)?">="+n+".0.0":k(o)?">="+n+"."+r+".0":">="+t,s=k(c)?"":k(u)?"<"+(+c+1)+".0.0":k(f)?"<"+c+"."+(+u+1)+".0":d?"<="+c+"."+u+"."+f+"-"+d:"<="+s,(t+" "+s).trim()}function V(e,t){for(var n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length){for(var n=0;n<e.length;n++)if(J(e[n].semver),e[n].semver!==Re&&e[n].semver.prerelease.length>0){var r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}function U(e,t,n){try{t=new T(t,n)}catch(e){return!1}return t.test(e)}function G(e,t,n){return e.filter(function(e){return U(e,t,n)}).sort(function(e,t){return g(e,t,n)})[0]||null}function M(e,t,n){return e.filter(function(e){return U(e,t,n)}).sort(function(e,t){return p(e,t,n)})[0]||null}function _(e,t){try{return new T(e,t).range||"*"}catch(e){return null}}function z(e,t,n){return q(e,t,"<",n)}function $(e,t,n){return q(e,t,">",n)}function q(e,t,n,r){e=new i(e,r),t=new T(t,r);var o,a,s,c,u;switch(n){case">":o=y,a=A,s=E,c=">",u=">=";break;case"<":o=E,a=b,s=y,c="<",u="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(U(e,t,r))return!1;for(var f=0;f<t.set.length;++f){var d=t.set[f],l=null,h=null;if(d.forEach(function(e){e.semver===Re&&(e=new D(">=0.0.0")),l=l||e,h=h||e,o(e.semver,l.semver,r)?l=e:s(e.semver,h.semver,r)&&(h=e)}),l.operator===c||l.operator===u)return!1;if((!h.operator||h.operator===c)&&a(e,h.semver))return!1;if(h.operator===u&&s(e,h.semver))return!1}return!0}function H(e,t){var n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}t=e.exports=i;var J;J="object"==typeof n&&n.env&&n.env.NODE_DEBUG&&/\bsemver\b/i.test(n.env.NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var Q=256,W=Number.MAX_SAFE_INTEGER||9007199254740991,Z=t.re=[],X=t.src=[],Y=0,ee=Y++;X[ee]="0|[1-9]\\d*";var te=Y++;X[te]="[0-9]+";var ne=Y++;X[ne]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var re=Y++;X[re]="("+X[ee]+")\\.("+X[ee]+")\\.("+X[ee]+")";var oe=Y++;X[oe]="("+X[te]+")\\.("+X[te]+")\\.("+X[te]+")";var ae=Y++;X[ae]="(?:"+X[ee]+"|"+X[ne]+")";var ie=Y++;X[ie]="(?:"+X[te]+"|"+X[ne]+")";var se=Y++;X[se]="(?:-("+X[ae]+"(?:\\."+X[ae]+")*))";var ce=Y++;X[ce]="(?:-?("+X[ie]+"(?:\\."+X[ie]+")*))";var ue=Y++;X[ue]="[0-9A-Za-z-]+";var fe=Y++;X[fe]="(?:\\+("+X[ue]+"(?:\\."+X[ue]+")*))";var de=Y++,le="v?"+X[re]+X[se]+"?"+X[fe]+"?";X[de]="^"+le+"$";var he="[v=\\s]*"+X[oe]+X[ce]+"?"+X[fe]+"?",pe=Y++;X[pe]="^"+he+"$";var we=Y++;X[we]="((?:<|>)?=?)";var ge=Y++;X[ge]=X[te]+"|x|X|\\*";var ve=Y++;X[ve]=X[ee]+"|x|X|\\*";var me=Y++;X[me]="[v=\\s]*("+X[ve]+")(?:\\.("+X[ve]+")(?:\\.("+X[ve]+")(?:"+X[se]+")?"+X[fe]+"?)?)?";var ye=Y++;X[ye]="[v=\\s]*("+X[ge]+")(?:\\.("+X[ge]+")(?:\\.("+X[ge]+")(?:"+X[ce]+")?"+X[fe]+"?)?)?";var Ee=Y++;X[Ee]="^"+X[we]+"\\s*"+X[me]+"$";var Se=Y++;X[Se]="^"+X[we]+"\\s*"+X[ye]+"$";var Fe=Y++;X[Fe]="(?:~>?)";var be=Y++;X[be]="(\\s*)"+X[Fe]+"\\s+",Z[be]=new RegExp(X[be],"g");var Ae=Y++;X[Ae]="^"+X[Fe]+X[me]+"$";var xe=Y++;X[xe]="^"+X[Fe]+X[ye]+"$";var De=Y++;X[De]="(?:\\^)";var Te=Y++;X[Te]="(\\s*)"+X[De]+"\\s+",Z[Te]=new RegExp(X[Te],"g");var Ne=Y++;X[Ne]="^"+X[De]+X[me]+"$";var Ie=Y++;X[Ie]="^"+X[De]+X[ye]+"$";var ke=Y++;X[ke]="^"+X[we]+"\\s*("+he+")$|^$";var Pe=Y++;X[Pe]="^"+X[we]+"\\s*("+le+")$|^$";var Le=Y++;X[Le]="(\\s*)"+X[we]+"\\s*("+he+"|"+X[me]+")",Z[Le]=new RegExp(X[Le],"g");var Ce=Y++;X[Ce]="^\\s*("+X[me]+")\\s+-\\s+("+X[me]+")\\s*$";var je=Y++;X[je]="^\\s*("+X[ye]+")\\s+-\\s+("+X[ye]+")\\s*$";var Be=Y++;X[Be]="(<|>)?=?\\s*\\*";for(var Oe=0;Oe<Y;Oe++)J(Oe,X[Oe]),Z[Oe]||(Z[Oe]=new RegExp(X[Oe]));t.parse=r,t.valid=o,t.clean=a,t.SemVer=i,i.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},i.prototype.toString=function(){return this.version},i.prototype.compare=function(e){return J("SemVer.compare",this.version,this.loose,e),e instanceof i||(e=new i(e,this.loose)),this.compareMain(e)||this.comparePre(e)},i.prototype.compareMain=function(e){return e instanceof i||(e=new i(e,this.loose)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)},i.prototype.comparePre=function(e){if(e instanceof i||(e=new i(e,this.loose)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var n=this.prerelease[t],r=e.prerelease[t];if(J("prerelease compare",t,n,r),void 0===n&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===n)return-1;if(n!==r)return u(n,r)}while(++t)},i.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var n=this.prerelease.length;--n>=0;)"number"==typeof this.prerelease[n]&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=s,t.diff=c,t.compareIdentifiers=u;var Ke=/^[0-9]+$/;t.rcompareIdentifiers=f,t.major=d,t.minor=l,t.patch=h,t.compare=p,t.compareLoose=w,t.rcompare=g,t.sort=v,t.rsort=m,t.gt=y,t.lt=E,t.eq=S,t.neq=F,t.gte=b,t.lte=A,t.cmp=x,t.Comparator=D;var Re={};D.prototype.parse=function(e){var t=this.loose?Z[ke]:Z[Pe],n=e.match(t);if(!n)throw new TypeError("Invalid comparator: "+e);this.operator=n[1],"="===this.operator&&(this.operator=""),n[2]?this.semver=new i(n[2],this.loose):this.semver=Re},D.prototype.toString=function(){return this.value},D.prototype.test=function(e){return J("Comparator.test",e,this.loose),this.semver===Re||("string"==typeof e&&(e=new i(e,this.loose)),x(e,this.operator,this.semver,this.loose))},t.Range=T,T.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range},T.prototype.toString=function(){return this.range},T.prototype.parseRange=function(e){var t=this.loose;e=e.trim(),J("range",e,t);var n=t?Z[je]:Z[Ce];e=e.replace(n,R),J("hyphen replace",e),e=e.replace(Z[Le],"$1$2$3"),J("comparator trim",e,Z[Le]),e=e.replace(Z[be],"$1~"),e=e.replace(Z[Te],"$1^"),e=e.split(/\s+/).join(" ");var r=t?Z[ke]:Z[Pe],o=e.split(" ").map(function(e){return I(e,t)}).join(" ").split(/\s+/);return this.loose&&(o=o.filter(function(e){return!!e.match(r)})),o=o.map(function(e){return new D(e,t)})},t.toComparators=N,T.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new i(e,this.loose));for(var t=0;t<this.set.length;t++)if(V(this.set[t],e))return!0;return!1},t.satisfies=U,t.maxSatisfying=G,t.minSatisfying=M,t.validRange=_,t.ltr=z,t.gtr=$,t.outside=q,t.prerelease=H}).call(t,n(2))},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t,n){(function(e,r){function o(e,n){var r={seen:[],stylize:i};return arguments.length>=3&&(r.depth=arguments[2]),arguments.length>=4&&(r.colors=arguments[3]),w(n)?r.showHidden=n:n&&t._extend(r,n),S(r.showHidden)&&(r.showHidden=!1),S(r.depth)&&(r.depth=2),S(r.colors)&&(r.colors=!1),S(r.customInspect)&&(r.customInspect=!0),r.colors&&(r.stylize=a),c(r,e,r.depth)}function a(e,t){var n=o.styles[t];return n?"["+o.colors[n][0]+"m"+e+"["+o.colors[n][1]+"m":e}function i(e,t){return e}function s(e){var t={};return e.forEach(function(e,n){t[e]=!0}),t}function c(e,n,r){if(e.customInspect&&n&&D(n.inspect)&&n.inspect!==t.inspect&&(!n.constructor||n.constructor.prototype!==n)){var o=n.inspect(r,e);return y(o)||(o=c(e,o,r)),o}var a=u(e,n);if(a)return a;var i=Object.keys(n),w=s(i);if(e.showHidden&&(i=Object.getOwnPropertyNames(n)),x(n)&&(i.indexOf("message")>=0||i.indexOf("description")>=0))return f(n);if(0===i.length){if(D(n)){var g=n.name?": "+n.name:"";return e.stylize("[Function"+g+"]","special")}if(F(n))return e.stylize(RegExp.prototype.toString.call(n),"regexp");if(A(n))return e.stylize(Date.prototype.toString.call(n),"date");if(x(n))return f(n)}var v="",m=!1,E=["{","}"];if(p(n)&&(m=!0,E=["[","]"]),D(n)){v=" [Function"+(n.name?": "+n.name:"")+"]"}if(F(n)&&(v=" "+RegExp.prototype.toString.call(n)),A(n)&&(v=" "+Date.prototype.toUTCString.call(n)),x(n)&&(v=" "+f(n)),0===i.length&&(!m||0==n.length))return E[0]+v+E[1];if(r<0)return F(n)?e.stylize(RegExp.prototype.toString.call(n),"regexp"):e.stylize("[Object]","special");e.seen.push(n);var S;return S=m?d(e,n,r,w,i):i.map(function(t){return l(e,n,r,w,t,m)}),e.seen.pop(),h(S,v,E)}function u(e,t){if(S(t))return e.stylize("undefined","undefined");if(y(t)){var n="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(n,"string")}return m(t)?e.stylize(""+t,"number"):w(t)?e.stylize(""+t,"boolean"):g(t)?e.stylize("null","null"):void 0}function f(e){return"["+Error.prototype.toString.call(e)+"]"}function d(e,t,n,r,o){for(var a=[],i=0,s=t.length;i<s;++i)P(t,String(i))?a.push(l(e,t,n,r,String(i),!0)):a.push("");return o.forEach(function(o){o.match(/^\d+$/)||a.push(l(e,t,n,r,o,!0))}),a}function l(e,t,n,r,o,a){var i,s,u;if(u=Object.getOwnPropertyDescriptor(t,o)||{value:t[o]},u.get?s=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(s=e.stylize("[Setter]","special")),P(r,o)||(i="["+o+"]"),s||(e.seen.indexOf(u.value)<0?(s=g(n)?c(e,u.value,null):c(e,u.value,n-1),s.indexOf("\n")>-1&&(s=a?s.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+s.split("\n").map(function(e){return"   "+e}).join("\n"))):s=e.stylize("[Circular]","special")),S(i)){if(a&&o.match(/^\d+$/))return s;i=JSON.stringify(""+o),i.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(i=i.substr(1,i.length-2),i=e.stylize(i,"name")):(i=i.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),i=e.stylize(i,"string"))}return i+": "+s}function h(e,t,n){var r=0;return e.reduce(function(e,t){return r++,t.indexOf("\n")>=0&&r++,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+n[1]:n[0]+t+" "+e.join(", ")+" "+n[1]}function p(e){return Array.isArray(e)}function w(e){return"boolean"==typeof e}function g(e){return null===e}function v(e){return null==e}function m(e){return"number"==typeof e}function y(e){return"string"==typeof e}function E(e){return"symbol"==typeof e}function S(e){return void 0===e}function F(e){return b(e)&&"[object RegExp]"===N(e)}function b(e){return"object"==typeof e&&null!==e}function A(e){return b(e)&&"[object Date]"===N(e)}function x(e){return b(e)&&("[object Error]"===N(e)||e instanceof Error)}function D(e){return"function"==typeof e}function T(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e}function N(e){return Object.prototype.toString.call(e)}function I(e){return e<10?"0"+e.toString(10):e.toString(10)}function k(){var e=new Date,t=[I(e.getHours()),I(e.getMinutes()),I(e.getSeconds())].join(":");return[e.getDate(),j[e.getMonth()],t].join(" ")}function P(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.format=function(e){if(!y(e)){for(var t=[],n=0;n<arguments.length;n++)t.push(o(arguments[n]));return t.join(" ")}for(var n=1,r=arguments,a=r.length,i=String(e).replace(/%[sdj%]/g,function(e){if("%%"===e)return"%";if(n>=a)return e;switch(e){case"%s":return String(r[n++]);case"%d":return Number(r[n++]);case"%j":try{return JSON.stringify(r[n++])}catch(e){return"[Circular]"}default:return e}}),s=r[n];n<a;s=r[++n])i+=g(s)||!b(s)?" "+s:" "+o(s);return i},t.deprecate=function(n,o){function a(){if(!i){if(r.throwDeprecation)throw new Error(o);r.traceDeprecation?console.trace(o):console.error(o),i=!0}return n.apply(this,arguments)}if(S(e.process))return function(){return t.deprecate(n,o).apply(this,arguments)};if(r.noDeprecation===!0)return n;var i=!1;return a};var L,C={};t.debuglog=function(e){if(S(L)&&(L=r.env.NODE_DEBUG||""),e=e.toUpperCase(),!C[e])if(new RegExp("\\b"+e+"\\b","i").test(L)){var n=r.pid;C[e]=function(){var r=t.format.apply(t,arguments);console.error("%s %d: %s",e,n,r)}}else C[e]=function(){};return C[e]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=p,t.isBoolean=w,t.isNull=g,t.isNullOrUndefined=v,t.isNumber=m,t.isString=y,t.isSymbol=E,t.isUndefined=S,t.isRegExp=F,t.isObject=b,t.isDate=A,t.isError=x,t.isFunction=D,t.isPrimitive=T,t.isBuffer=n(68);var j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];t.log=function(){console.log("%s - %s",k(),t.format.apply(t,arguments))},t.inherits=n(67),t._extend=function(e,t){if(!t||!b(t))return e;for(var n=Object.keys(t),r=n.length;r--;)e[n[r]]=t[n[r]];return e}}).call(t,n(71),n(2))},function(e,t,n){(function(e){var t;t=function(){var e,t,n,r,o,a,i;return t=function(e,t,n){return this.voided=n,this.state=t,this.trans=e,this},a=function(e,t){return this.match=t,this.edges=e,this},n=function(e,t,n){return this.mode=n,this.states=t,this.type=e,this},n.VOID=0,n.PRUNE=1,n.LEFT=2,n.POS=3,n.NEG=4,o=function(e,t,n,r){return this.nt=r,this.col=n,this.line=t,this.pos=e,this},o.prototype.toString=function(){return"parse error: failed to match '"+this.nt+"' at line="+this.line+", col="+this.col+", pos="+this.pos},e=function(e,t,n){return this.pos=n,this.children=t,this.type=e,this},e.prototype.toString=function(){var e,t,n;return e="",t=0,(n=function(r){var o,a,i,s,c;for(c=0;c<t-1;)e+="    ",c++;for(t>0&&(e+="->  "),e+=r.type,t++,a=r.children,o=0,i=a.length;o<i;o++)if(s=a[o],e+="\n","string"==typeof s){for(c=0;c<t-1;)e+="    ",c++;t>0&&(e+="|   "),e+=s}else n(s);return t--,e})(this)},i=function(e,t,n){return this.automata=n,this.eofCheck=t,this.start=e,this},i.prototype.parse=function(e){return new r(this.start,this.eofCheck,this.automata,e).parse()},r=function(e,t,n,r){return this.automata=n,this.eofCheck=t,this.start=e,this.input=r,this.inputLen=r.length,this.inputPos=0,this.line=1,this.column=0,this.lastCR=!1,this.errorPos=0,this.errorLine=1,this.errorCol=0,this.errorNT=this.automata[this.start].type,this.faStack=[],this.cache={},this},r.prototype.parse=function(){return this.doEOFCheck(this.matchAutomaton(this.start))},r.prototype.matchAutomaton=function(t){var r,o,a,i,s,c,u,f,d,l,h,p;return l=this.inputPos,i=t+","+l,void 0!==(a=this.cache[i])&&null!==a?(this.restorePos(a[1],a[2],a[3],a[4]),a[0]):(d=this.line,f=this.column,u=this.lastCR,o=this.automata[t],h=o.type,s=o.mode,this.faStack.push(o),c=this.matchState(0),this.faStack.pop(),p=function(){return s===n.POS?(this.restorePos(l,d,f,u),!!c||(this.updateError(),!1)):s===n.NEG?(this.restorePos(l,d,f,u),!c||(this.updateError(),!1)):c?s===n.VOID||(s===n.PRUNE?0===(r=c.length)||(1===r?c[0]:new e(h,c,[l,this.inputPos])):new e(h,c,[l,this.inputPos])):this.updateError()}.call(this),this.cache[i]=[p,this.inputPos,this.line,this.column,this.lastCR],p)},r.prototype.matchState=function(e){var t,n;return n=this.faStack[this.faStack.length-1].states[e],t=this.matchEdges(n.edges,0),t?t:n.match&&[]},r.prototype.matchEdges=function(e,t){var n;return t!==e.length&&(n=this.matchEdge(e[t]),n?n:this.matchEdges(e,t+1))},r.prototype.matchEdge=function(e){var t,n,r,o,a,i,s;return a=this.inputPos,o=this.line,r=this.column,n=this.lastCR,i=e.trans,!!(t=i===-1?this.inputPos<this.inputLen?this.mv():this.updateError():"string"==typeof i?this.inputPos<this.inputLen&&i===this.input[this.inputPos]?this.mv():this.updateError():i instanceof Array?this.inputPos<this.inputLen&&this.withinSet(i,0,this.input[this.inputPos].charCodeAt(0))?this.mv():this.updateError():"number"==typeof i&&this.matchAutomaton(i))&&(s=this.matchState(e.state),s?e.voided||t===!0?s:[t].concat(s):(this.restorePos(a,o,r,n),!1))},r.prototype.restorePos=function(e,t,n,r){return this.inputPos=e,this.line=t,this.column=n,this.lastCR=r},r.prototype.updateError=function(){return this.errorPos<this.inputPos&&(this.errorPos=this.inputPos,this.errorLine=this.line,this.errorCol=this.column,this.errorNT=this.faStack[this.faStack.length-1].type),!1},r.prototype.mv=function(){var e;return e=this.input[this.inputPos],this.inputPos++,"\r"===e?(this.line++,this.column=0,this.lastCR=!0):("\n"===e?this.lastCR||(this.line++,this.column=0):this.column++,this.lastCR=!1),e},r.prototype.doEOFCheck=function(e){return e?this.eofCheck&&this.inputPos<this.inputLen?new o(this.errorPos,this.errorLine,this.errorCol,this.errorNT):e:new o(this.errorPos,this.errorLine,this.errorCol,this.errorNT)},r.prototype.withinSet=function(e,t,n){var r;return t!==e.length&&(r=e[t],"string"==typeof r?r.charCodeAt(0)===n||r.charCodeAt(0)<n&&this.withinSet(e,t+1,n):n>=r[0]&&n<=r[1]||n>r[1]&&this.withinSet(e,t+1,n))},{Edge:t,State:a,FA:n,ParseError:o,AST:e,WaxeyeParser:i}}(),void 0!==e&&null!==e&&(e.exports.AST=t.AST,e.exports.Edge=t.Edge,e.exports.FA=t.FA,e.exports.ParseError=t.ParseError,e.exports.State=t.State,e.exports.WaxeyeParser=t.WaxeyeParser)}).call(t,n(72)(e))},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t){},function(e,t){}])});